import{_ as i,a}from"./chunks/create-extension-panel.CEzyuINp.js";import{_ as s}from"./chunks/refresh.Bh_nJVYx.js";import{_ as n,c as e,o as t,a4 as l}from"./chunks/framework.uQk9_EO2.js";const h="/docs/cocos/assets/extension.DqtsiLKU.png",p="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAEXRFWHRTb2Z0d2FyZQBTbmlwYXN0ZV0Xzt0AAAD7SURBVDiNY9TX12cgFzCRrXNANbMgc/jk1CS4oOxvL249+UC0ZvHAigpnGVY4//eTvd0d658Rp9lKHUknAwMDq4yOk9rVMwgBTLegOBsNiFvk5Vkg8THcQkqAscqoWxJn8++fv7EI/iKk+fujQytn7XghAQ94ZKCmpsHA8Pvj47svv2Nq/v1k77TVDOG1bTLsuNzEwPD7/ubC3p3ofv50dfWMlx6pzvh0Mny6unLaTgYGBhTNP5/sXXBRqyRKmw+/zo7pJ74zoGneMWMdQ1CogQAenb+f7J89/fAnOB/h5+886kqC2AOZgYHhz9eXN4+uW7rzPrIg4wjMzwDAxF1/sSdIQQAAAABJRU5ErkJggg==",o="/docs/cocos/assets/extension-folder-blank.CHdHOzbN.png",k="/docs/cocos/assets/extension-menu-test.Cx3IuDe6.png",x=JSON.parse('{"title":"Getting Started Example - Menu","description":"","frontmatter":{},"headers":[],"relativePath":"en/editor/extension/first.md","filePath":"en/editor/extension/first.md","lastUpdated":1712305443000}'),r={name:"en/editor/extension/first.md"},d=l('<h1 id="getting-started-example-menu" tabindex="-1">Getting Started Example - Menu <a class="header-anchor" href="#getting-started-example-menu" aria-label="Permalink to &quot;Getting Started Example - Menu&quot;">​</a></h1><p>This article will demonstrate how to create a Cocos Creator extension, and it will cover the following points.</p><ul><li>Creating an extension</li><li>Adding a menu</li><li>Menu Messages</li></ul><h2 id="create-and-install-extensions" tabindex="-1">Create and Install Extensions <a class="header-anchor" href="#create-and-install-extensions" aria-label="Permalink to &quot;Create and Install Extensions&quot;">​</a></h2><p>Find the <strong>Extension -&gt; Create</strong> menu in the editor&#39;s menu bar, as shown below:</p><p><img src="'+i+'" alt="create-extension-menu"></p><p>After clicking <strong>Create</strong>, the creation panel will pop up as shown below:</p><p><img src="'+a+'" alt="create-extension-panel"></p><p>Cocos Creator provides 4 extension templates as shown above for quickly creating a new extension project.</p><p>To demonstrate the template creation process more simply, let&#39;s select the <strong>Blank</strong> template and click the <strong>Create Extension</strong> button at the bottom right of the panel to build an extension package.</p><p>For more template creation related content, please refer to the document <a href="./create-extension">Extension Templates and Compile Builds - Template Types</a>.</p><h2 id="extension-manager" tabindex="-1">Extension Manager <a class="header-anchor" href="#extension-manager" aria-label="Permalink to &quot;Extension Manager&quot;">​</a></h2><p>After the extension is successfully created, click <strong>Extensions-&gt; Extension Manager -&gt; Project/Global</strong> in the top menu bar, you can see the extension you just created. The newly created extension is not enabled by default, click the Enable button to enable this extension.</p><p><img src="'+h+'" alt="extension"></p><p>For more information about extension management, please refer to the documentation <a href="./extension-manager#Extensions list">Extension Manager - Extension List</a>.</p><h2 id="extended-directory" tabindex="-1">Extended Directory <a class="header-anchor" href="#extended-directory" aria-label="Permalink to &quot;Extended Directory&quot;">​</a></h2><p>Click the <img src="'+p+'" alt="folder"> button to open the directory where the extensions are located. Take the <strong>Blank</strong> template as an example, the directory structure is as follows:</p><p><img src="'+o+`" alt="extension-folder"></p><p>The function of each subfile (folder) is as follows.</p><ul><li><code>@types</code> - TypeScript definition file.</li><li><code>dist</code> - TypeScript-generated javascript code.</li><li><code>i18n</code> - Multilanguage configuration.</li><li><code>src</code> - TypeScript source code.</li><li><code>package.json</code> - The extension description file.</li><li><code>README-CN/EN.md</code> - Chinese/English description file.</li><li><code>tsconfig.json</code> - TypeScript configuration file.</li></ul><h2 id="extension-definition-file-package-json" tabindex="-1">Extension Definition File <code>package.json</code> <a class="header-anchor" href="#extension-definition-file-package-json" aria-label="Permalink to &quot;Extension Definition File \`package.json\`&quot;">​</a></h2><p>Each extension needs a <code>package.json</code> file to describe the purpose of the extension.</p><p>Only after the complete definition of the description file <code>package.json</code>, the editor will be able to know the specific functionality, loading entry and other information defined in the extension.</p><blockquote><p><strong>Note</strong>: Although many of the fields in <code>package.json</code> are defined similarly to <code>package.json</code> of the <code>node.js</code> npm module, the npm module downloaded from the npm community cannot be used directly as a Cocos Creator extension. You can call the npm module from within the Cocos Creator extension to make the extension capable of doing so.</p></blockquote><p>Open the <code>package.json</code> file and you will see the following:</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;package_version&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;version&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;1.0.0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;simple-1649426645745&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;description&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;i18n:simple-1649426645745.description&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;main&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./dist/main.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;devDependencies&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;@types/node&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;^16.0.1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;typescript&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;^4.3.4&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;author&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Cocos Creator&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;editor&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&gt;=3.4.2&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;scripts&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;build&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;tsc -b&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;watch&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;tsc -w&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>The description of each field is as follows.</p><ul><li><code>package_version</code>: Number - the value of the version number.</li><li><code>version</code>: String - The version number string, it is recommended to use <a href="http://semver.org/" target="_blank" rel="noreferrer">semver</a> format to manage your package version.</li><li><code>name</code>: String - defines the name of the package, the package name is globally unique. Please refer to [option description] for naming rules (. /create-extension.md).</li><li><code>description</code>: Stirng - Extension description, used to briefly introduce the key features, usage and other information of the extension, supports <strong>i18n</strong> multi-language settings.</li><li><code>main</code>: String - The entry program file.</li><li><code>devDependencies</code>: {} - Extension dependencies. In this example, the extension depends on NodeJS version 16.0.1 and TypeScript version 4.3.4.</li><li><code>author</code>: String - Author information.</li><li><code>editor</code>: String - the supported Cocos Creator editor version.</li><li><code>scripts</code>: {} - Script compilation related commands.</li></ul><h2 id="define-menus-and-messages" tabindex="-1">Define Menus and Messages <a class="header-anchor" href="#define-menus-and-messages" aria-label="Permalink to &quot;Define Menus and Messages&quot;">​</a></h2><p>Replace <code>package.json</code> with the following:</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;package_version&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;version&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;1.0.0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;simple-1649426645745&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;description&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;i18n:simple-1649426645745.description&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;main&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./dist/main.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;devDependencies&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;@types/node&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;^16.0.1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;typescript&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;^4.3.4&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;author&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Cocos Creator&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;editor&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&gt;=3.4.2&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;scripts&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;build&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;tsc -b&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;watch&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;tsc -w&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    //------------------------------</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;contributions&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;menu&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            &quot;path&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Develop&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            &quot;label&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;test&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            &quot;message&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;log&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;messages&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            &quot;log&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">                &quot;methods&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;log&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>The description of the new fields is as follows.</p><ul><li><code>contributions</code>: Object (optional) - configuration related to the extension of the editor&#39;s existing functionality <ul><li><code>menu</code>: [], register the menu and bind the message. For details, please refer to <a href="./contributions-menu">Customize the Main Menu</a>.</li><li><code>messages</code>:[] - Register editor messages, which can be bound to one or more methods defined within the extension. See <a href="./contributions-messages">Customized Messages</a> for more definition data.</li></ul></li></ul><p>For more definitions of the <code>package.json</code> format, please refer to <a href="./define">Definition of Extension</a>.</p><h2 id="installing-dependencies-and-compiling" tabindex="-1">Installing Dependencies and Compiling <a class="header-anchor" href="#installing-dependencies-and-compiling" aria-label="Permalink to &quot;Installing Dependencies and Compiling&quot;">​</a></h2><p>After the extension is created, open the directory where the extension package is located and execute the following command.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># install dependencies</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># build</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span></span></code></pre></div><p>For more information on building extensions, see the documentation <a href="./create-extension">Extension Templates and Compile Builds</a>.</p><h2 id="run-extensions" tabindex="-1">Run Extensions <a class="header-anchor" href="#run-extensions" aria-label="Permalink to &quot;Run Extensions&quot;">​</a></h2><p>Go back to the editor and click <strong>Extension -&gt; Extension Manager -&gt; Project/Global</strong> in the top menu bar and find the extension you created earlier. Click on the <img src="`+s+'" alt="refresh"> button on the right side of the extension to make the above changes take effect.</p><p>If the extension has taken effect, a <strong>Develop</strong> menu will appear in the top menu bar area of Cocos Creator with a <strong>test</strong> menu item, as shown below.</p><p><img src="'+k+`" alt="menu-test"></p><p>If you click on the <strong>test</strong> menu item, you will see that there is no response, because we have not yet written the code for the menu information.</p><p>Next, we will see how to make the menu communicate with the extension.</p><h2 id="entry-program-main-ts" tabindex="-1">Entry Program <code>main.ts</code> <a class="header-anchor" href="#entry-program-main-ts" aria-label="Permalink to &quot;Entry Program \`main.ts\`&quot;">​</a></h2><p>Each extension has a unique entry program <code>main.ts</code>, which is generated by default as follows:</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@en</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> Registration method for the main process of Extension</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@zh</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> 为扩展的主进程的注册方法</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> */</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> methods</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { [</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">any</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { };</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@en</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> Hooks triggered after extension loading is complete</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@zh</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> 扩展加载完成后触发的钩子</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> */</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> load</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() { };</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@en</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> Hooks triggered after extension uninstallation is complete</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@zh</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> 扩展卸载完成后触发的钩子</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> */</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> unload</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() { };</span></span></code></pre></div><p>The methods defined in <code>export const methods</code> will be used as interfaces for operations that will be called across extensions via the <a href="./messages">Message System</a> to be called across extensions or to communicate with panels.</p><p>The entry program is the main process of the extension and will be loaded during the startup of Cocos Creator.</p><h2 id="menu-message-handling" tabindex="-1">Menu Message Handling <a class="header-anchor" href="#menu-message-handling" aria-label="Permalink to &quot;Menu Message Handling&quot;">​</a></h2><p>We modify the entry program slightly by adding a handler function that receives <code>log</code> messages, as follows.</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> methods</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { [</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (.. . </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">any</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(){console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Hello World&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><p>Execute the <code>npm run build</code> command to compile the extension.</p><p>Click on the <img src="`+s+'" alt="refresh"> button on the right side of the extension to make the above changes take effect.</p><p>Click the <code>Develop/test</code> menu item again and you will see that &quot;Hello World&quot; is printed out in the Cocos Creator <strong>console</strong>.</p>',55),c=[d];function g(E,u,y,F,m,C){return t(),e("div",null,c)}const b=n(r,[["render",g]]);export{x as __pageData,b as default};
