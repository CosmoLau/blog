import{_ as e,c as a,o as i,a4 as o}from"./chunks/framework.uQk9_EO2.js";const t="/docs/cocos/assets/project-build-menu.B494Me6i.png",s="/docs/cocos/assets/build-panel-mac.BXSZluEF.png",n="/docs/cocos/assets/build-open-path-mac.B6qeFqzU.png",r="/docs/cocos/assets/xcode-folder-mac.DyScgaOm.png",c="/docs/cocos/assets/xcode-showcase-mac.CKTdIVfB.png",l="/docs/cocos/assets/run-mac.B6RNKN1q.png",d="/docs/cocos/assets/run-mac-800to400.DGA8f5MU.png",E=JSON.parse('{"title":"macOS Publishing Example","description":"","frontmatter":{},"headers":[],"relativePath":"en/editor/publish/mac/build-example-mac.md","filePath":"en/editor/publish/mac/build-example-mac.md","lastUpdated":1712305443000}'),p={name:"en/editor/publish/mac/build-example-mac.md"},h=o('<h1 id="macos-publishing-example" tabindex="-1">macOS Publishing Example <a class="header-anchor" href="#macos-publishing-example" aria-label="Permalink to &quot;macOS Publishing Example&quot;">​</a></h1><p>This article will demonstrate the process of publishing a Cocos Creator project as a macOS application. Before getting started, you will need the following preparations:</p><ul><li>A macOS device</li><li>Xcode installed</li></ul><h2 id="publishing-process" tabindex="-1">Publishing Process <a class="header-anchor" href="#publishing-process" aria-label="Permalink to &quot;Publishing Process&quot;">​</a></h2><h3 id="verify-the-macos-system-and-xcode-version" tabindex="-1">Verify the macOS System and Xcode Version <a class="header-anchor" href="#verify-the-macos-system-and-xcode-version" aria-label="Permalink to &quot;Verify the macOS System and Xcode Version&quot;">​</a></h3><p>Publishing macOS desktop apps via Cocos Creator environment requirements:</p><ul><li>Xcode version <strong>11.5</strong> or above.</li><li>macOS version <strong>10.14</strong> or above.</li></ul><blockquote><p><strong>Note</strong>: By default, the corresponding Xcode version in the App Store matches the system. If you want to use a specific version of Xcode, you can download it from the <a href="https://developer.apple.com/xcode/download/" target="_blank" rel="noreferrer">Xcode download page</a>.</p></blockquote><h3 id="prepare-a-test-project" tabindex="-1">Prepare a Test Project <a class="header-anchor" href="#prepare-a-test-project" aria-label="Permalink to &quot;Prepare a Test Project&quot;">​</a></h3><p>Open an existing project or create a new one.</p><h3 id="build" tabindex="-1">Build <a class="header-anchor" href="#build" aria-label="Permalink to &quot;Build&quot;">​</a></h3><p><img src="'+t+'" alt="project-build-menu"></p><p>As shown in the image above, select <strong>Project -&gt; Build</strong> from the top menu in Cocos Creator to open the build panel.</p><p><img src="'+s+'" alt="build-panel-mac"></p><h4 id="general-options" tabindex="-1">General Options <a class="header-anchor" href="#general-options" aria-label="Permalink to &quot;General Options&quot;">​</a></h4><p>In the blue section on the left side of the image, you can find the common parameters that need to be configured for all platforms supported by Cocos Creator. For more details, you can refer to the <a href="./../build-options">General Build Options</a> page.</p><h4 id="macos-specific-options" tabindex="-1">macOS Specific Options <a class="header-anchor" href="#macos-specific-options" aria-label="Permalink to &quot;macOS Specific Options&quot;">​</a></h4><p>Choose the platform as <strong>Mac</strong>, and as you scroll down the panel, you will see the red section on the right side. These are the configurations specific to the <code>native</code> and <code>Mac</code> platforms. For more details, please refer to the <a href="./../native-options">General Native Build Options</a> and <a href="./build-options-mac">Build Options - macOS</a> pages.</p><h4 id="bundle-identifier" tabindex="-1">Bundle Identifier <a class="header-anchor" href="#bundle-identifier" aria-label="Permalink to &quot;Bundle Identifier&quot;">​</a></h4><p>The Bundle Identifier is a required configuration. It is generally in the format of <code>com.mycompany.myproduct</code>. For example, in this example, it is set to <code>com.cocos.mac</code>.</p><h4 id="perform-the-build" tabindex="-1">Perform the Build <a class="header-anchor" href="#perform-the-build" aria-label="Permalink to &quot;Perform the Build&quot;">​</a></h4><p>After completing the configurations, click the <strong>Build</strong> button to generate the Xcode project.</p><p>Once the build is successful, you can click the open file button as shown below to open the generated project folder.</p><p><img src="'+n+'" alt="build-open-path-mac"></p><p>If you haven&#39;t changed the build path, you can find the <code>build/mac/proj</code> directory in the project root, which contains the following files:</p><p><img src="'+r+'" alt="xcode-folder-mac"></p><h3 id="compile-and-run-in-xcode" tabindex="-1">Compile and Run in Xcode <a class="header-anchor" href="#compile-and-run-in-xcode" aria-label="Permalink to &quot;Compile and Run in Xcode&quot;">​</a></h3><p>Double-click on <code>build/mac/proj/&lt;project_name&gt;.xcodeproj</code> to open the Xcode project.</p><p><img src="'+c+'" alt="xcode-showcase-mac"></p><p>Select <code>&lt;ProjectName&gt;-desktop</code> as the build target, choose a suitable simulator or a connected Mac device, and click the compile and run button to start the project.</p><p><img src="'+l+`" alt="run-mac"></p><h3 id="modifying-resolution" tabindex="-1">Modifying Resolution <a class="header-anchor" href="#modifying-resolution" aria-label="Permalink to &quot;Modifying Resolution&quot;">​</a></h3><p>You can modify the resolution by editing <code>_windowInfo</code> in <code>native/engine/common/classes/Game.cpp</code>:</p><p>The default resolution is 800 x 600. Let&#39;s take the example of changing the resolution to 800 x 400.</p><div class="language-C++ vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">C++</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Game</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">init</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  _windowInfo.title </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> GAME_NAME;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // configure window size</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  _windowInfo.width  </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 800</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  _windowInfo.height </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 400</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>After making the modifications, compile and run the project again in Xcode. The effect should be as shown in the following image:</p><p><img src="`+d+'" alt="run-mac-800to400"></p><h2 id="read-more" tabindex="-1">Read More <a class="header-anchor" href="#read-more" aria-label="Permalink to &quot;Read More&quot;">​</a></h2><h3 id="script-native-communication" tabindex="-1">Script-Native Communication <a class="header-anchor" href="#script-native-communication" aria-label="Permalink to &quot;Script-Native Communication&quot;">​</a></h3><p>Sometimes, projects need to call macOS system functions from the script layer, or when integrating a third-party macOS SDK, it is necessary to call its API through script code. In such cases, the communication mechanism between the script layer and the native layer is required.</p><p>For communication mechanisms, please refer to:</p><ul><li><a href="./../../../advanced-topics/oc-reflection">JavaScript and iOS/macOS Communication with Reflection</a></li><li><a href="./../../../advanced-topics/js-oc-bridge">JavaScript and Objective-C Communication using JsbBridge</a></li></ul><h3 id="debugging-javascript-on-native-platforms" tabindex="-1">Debugging JavaScript on Native Platforms <a class="header-anchor" href="#debugging-javascript-on-native-platforms" aria-label="Permalink to &quot;Debugging JavaScript on Native Platforms&quot;">​</a></h3><p>Some issues only occur on specific devices and environments. If you can debug the code on the corresponding situation, you can quickly identify the problem and find a solution.</p><p>Cocos Creator provides a native debugging mechanism that allows you to easily debug game code on a device. For more details, please refer to <a href="./../debug-jsb">Debugging JavaScript on Native Platforms</a>.</p><h2 id="features-and-system-versions" tabindex="-1">Features and System Versions <a class="header-anchor" href="#features-and-system-versions" aria-label="Permalink to &quot;Features and System Versions&quot;">​</a></h2><p>Different features rely on specific system versions. Please refer to <a href="./../../../advanced-topics/supported-versions">Features and System Versions</a> for more details.</p>',47),m=[h];function u(g,f,b,k,y,v){return i(),a("div",null,m)}const x=e(p,[["render",u]]);export{E as __pageData,x as default};
