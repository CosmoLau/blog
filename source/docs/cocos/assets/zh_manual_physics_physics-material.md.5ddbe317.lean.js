import{_ as s,v as a,b as l,R as n}from"./chunks/framework.5ffcbaff.js";const o="/docs/cocos/assets/material-create-pmtl.5ff19784.png",p="/docs/cocos/assets/physics-mat-panel.5f889a19.png",t="/docs/cocos/assets/apply-pmtl.d8fee8c0.jpg",g=JSON.parse('{"title":"物理材质","description":"","frontmatter":{},"headers":[],"relativePath":"zh/manual/physics/physics-material.md","filePath":"zh/manual/physics/physics-material.md"}'),e={name:"zh/manual/physics/physics-material.md"},c=n('<h1 id="物理材质" tabindex="-1">物理材质 <a class="header-anchor" href="#物理材质" aria-label="Permalink to &quot;物理材质&quot;">​</a></h1><p>物理材质是一种资源，它记录了物体的物理属性，这些信息用来计算碰撞物体受到的摩擦力和弹力等。</p><h2 id="创建物理材质" tabindex="-1">创建物理材质 <a class="header-anchor" href="#创建物理材质" aria-label="Permalink to &quot;创建物理材质&quot;">​</a></h2><h3 id="在编辑器内创建" tabindex="-1">在编辑器内创建 <a class="header-anchor" href="#在编辑器内创建" aria-label="Permalink to &quot;在编辑器内创建&quot;">​</a></h3><p>在 <strong>属性检查器</strong> 内右键任意空白处或点击 <strong>+</strong> 号间都可以创建物理材质：</p><p><img src="'+o+`" alt="创建物理材质"></p><h3 id="通过代码创建" tabindex="-1">通过代码创建 <a class="header-anchor" href="#通过代码创建" aria-label="Permalink to &quot;通过代码创建&quot;">​</a></h3><p>也可通过代码实例化物理材质：</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">PhysicsMaterial</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">cc</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> newPMtl </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">PhysicsMaterial</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">newPMtl</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">friction </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.1</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">newPMtl</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">rollingFriction </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.1</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">newPMtl</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">spinningFriction </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.1</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">newPMtl</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">restitution </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.5</span><span style="color:#89DDFF;">;</span></span></code></pre></div><h2 id="属性" tabindex="-1">属性 <a class="header-anchor" href="#属性" aria-label="Permalink to &quot;属性&quot;">​</a></h2><p>物理材质属性如下图所示：</p><p><img src="`+p+'" alt="物理材质"></p><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">属性说明</th></tr></thead><tbody><tr><td style="text-align:left;">Friction</td><td style="text-align:left;">摩擦系数</td></tr><tr><td style="text-align:left;">RollingFriction</td><td style="text-align:left;">滚动摩擦系数</td></tr><tr><td style="text-align:left;">SpinningFriction</td><td style="text-align:left;">自旋摩擦系数</td></tr><tr><td style="text-align:left;">Restitution</td><td style="text-align:left;">回弹系数</td></tr></tbody></table><p>当与其它表面接触时，这些系数用于计算相应的摩擦力和弹力。</p><h2 id="应用" tabindex="-1">应用 <a class="header-anchor" href="#应用" aria-label="Permalink to &quot;应用&quot;">​</a></h2><p>目前物理材质以碰撞体为单位进行设置，每个 <strong>Collider</strong> 都具有一个 <strong>Material</strong> 的属性（不设置时， <strong>Collider</strong> 将会引用物理系统中的默认物理材质）。</p><p>应用到 <strong>Collider</strong> 同样也分编辑器操作和代码操作两种方式。</p><p>编辑器内操作，只需要将资源拖入到 <strong>cc.PhysicMaterial</strong> 属性框中即可，如下图所示：</p><p><img src="'+t+`" alt="应用物理材质"></p><p>在代码中操作：</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Collider</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">cc</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> collider </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">node</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getComponent</span><span style="color:#A6ACCD;">(Collider)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#A6ACCD;"> (collider) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">collider</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">material</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">newPMtl</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">collider</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">material</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">rollingFriction</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0.1</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><h2 id="共享材质" tabindex="-1">共享材质 <a class="header-anchor" href="#共享材质" aria-label="Permalink to &quot;共享材质&quot;">​</a></h2><p>在物理系统中，物理材质拥有共享材质和独享材质两种状态。</p><ul><li><p>共享材质：不同的碰撞体，共用同一个材质，对该材质的修改会影响到所有持有该材质的碰撞体。在默认情况下，碰撞体的物理材质都通过引擎的默认物理材质初始化。通过 <code>sharedMaterial</code> 可以访问，代码示例如下：</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Collider</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">cc</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> collider </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">node</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getComponent</span><span style="color:#A6ACCD;">(Collider)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#A6ACCD;"> (collider) </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;">        </span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">sharedMaterial</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">collider</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">sharedMaterial</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 或</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">collider</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">sharedMaterial</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">friction</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0.5</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">collider</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">sharedMaterial</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">newPMtl</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div></li><li><p>独享材质：只供该碰撞体使用，修改该材质不会影响其他碰撞体。</p><p>若一个碰撞体的物理材质处于共享状态，则在调用 <code>material</code> 的 <code>getter</code> 时，会生成新的物理材质。</p><p>下列代码演示了当物理材质处于共享状态时，调用 <code>getter</code> 后，该碰撞体的材质变为独享状态。</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Collider</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">cc</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> collider </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">node</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getComponent</span><span style="color:#A6ACCD;">(Collider)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#A6ACCD;"> (collider) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">material</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">collider</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">material</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div></li></ul>`,24),r=[c];function y(D,i,F,C,A,d){return a(),l("div",null,r)}const m=s(e,[["render",y]]);export{g as __pageData,m as default};
