import{_ as e,c as n,o as a,a4 as i}from"./chunks/framework.uQk9_EO2.js";const m=JSON.parse('{"title":"Adding Logging within the Engine","description":"","frontmatter":{},"headers":[],"relativePath":"en/scripting/log.md","filePath":"en/scripting/log.md","lastUpdated":1712305443000}'),s={name:"en/scripting/log.md"},o=i(`<h1 id="adding-logging-within-the-engine" tabindex="-1">Adding Logging within the Engine <a class="header-anchor" href="#adding-logging-within-the-engine" aria-label="Permalink to &quot;Adding Logging within the Engine&quot;">​</a></h1><p>This document mainly explains how to add new Log messages (including <strong>log</strong>, <strong>warning</strong>, and <strong>error</strong>) to the internal code of the engine according to the correct specifications.</p><h2 id="log-information-mechanism-and-background" tabindex="-1">Log Information Mechanism and Background <a class="header-anchor" href="#log-information-mechanism-and-background" aria-label="Permalink to &quot;Log Information Mechanism and Background&quot;">​</a></h2><p>Currently, the <strong>Log</strong> information in Cocos Creator is stored in the form of an error message table independent of the engine, which is stored in the <code>EngineErrorMap.md</code> under the engine directory. In the engine code, it is not allowed to write logs, warnings, errors and other information directly in the form of strings. It must be written in the following three APIs:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>import {logID, warnID, errorID} from&#39;core/platform/debug&#39;;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>logID(id, ...params);</span></span>
<span class="line"><span>warnID(id, ...params);</span></span>
<span class="line"><span>errorID(id, ...params);</span></span></code></pre></div><p>The main purpose of this is to reduce the package body occupied by the string in the engine source code.</p><h2 id="engineerrormap-writing-specifications" tabindex="-1">EngineErrorMap writing specifications <a class="header-anchor" href="#engineerrormap-writing-specifications" aria-label="Permalink to &quot;EngineErrorMap writing specifications&quot;">​</a></h2><p><code>EngineErrorMap</code> is divided into large modules according to one hundred bits, a total of four bits, from <code>0000</code> to <code>9900</code>, which means that it supports up to <code>100</code> large modules. The tens digit is used to divide the sub-modules, or it can be arranged in a continuous form, which is determined by the person in charge of the module.</p><p>Due to historical reasons, there is currently no strict priority order for sorting, and newly-built modules can simply be postponed. In the future, we will do better sorting management and sorting.</p><p>The specifications for writing specific error messages are as follows:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>### 4 number ID</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Message in english.</span></span></code></pre></div><p>Example:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>### 8300</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Should only one camera exists, please check your project.</span></span></code></pre></div><p>The information supports the use of parameter receivers such as <code>%s</code>, <code>%d</code>, and <code>%f</code>. When running the output LOG, it will be spliced ​​into the information in the order of the parameters.</p><h2 id="maintenance-of-engineerrormap" tabindex="-1">Maintenance of EngineErrorMap <a class="header-anchor" href="#maintenance-of-engineerrormap" aria-label="Permalink to &quot;Maintenance of EngineErrorMap&quot;">​</a></h2><p>After <code>EngineErrorMap</code> is modified, if you want the call in the code to take effect, you need to execute it in the engine directory</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> gulp build-debug-infos</span></span></code></pre></div><p>Changes to <code>EngineErrorMap.md</code> should also be submitted to git following other changes to the engine.</p>`,18),t=[o];function r(p,c,d,l,g,h){return a(),n("div",null,t)}const f=e(s,[["render",r]]);export{m as __pageData,f as default};
