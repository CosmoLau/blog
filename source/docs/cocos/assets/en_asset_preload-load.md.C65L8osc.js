import{_ as e,c as a,o as i,a4 as s}from"./chunks/framework.uQk9_EO2.js";const E=JSON.parse('{"title":"Loading and Preloading","description":"","frontmatter":{},"headers":[],"relativePath":"en/asset/preload-load.md","filePath":"en/asset/preload-load.md","lastUpdated":1712305443000}'),n={name:"en/asset/preload-load.md"},t=s(`<h1 id="loading-and-preloading" tabindex="-1">Loading and Preloading <a class="header-anchor" href="#loading-and-preloading" aria-label="Permalink to &quot;Loading and Preloading&quot;">â€‹</a></h1><blockquote><p>Author: Santy-Wang, Xunyi</p></blockquote><p>In order to minimize download times, most of the loading interfaces in Asset Manager, including <code>load</code>, <code>loadDir</code>, and <code>loadScene</code> have their own corresponding preloaded versions. The parameters used for the loading interfaces and the preloading interfaces are exactly the same, with the following differences:</p><ol><li>Preloading will only download the resources and will not parse or initialize them.</li><li>Preloading will be more limited during the loading process, e.g.: the maximum number of download concurrently will be smaller.</li><li>Preloading has a lower priority, and when multiple resources are waiting to be downloaded, the preloaded resources will be downloaded last.</li><li>Since the preload does not do any parsing, no available resources are returned when all the preloads load are complete.</li></ol><p>Compared to previous versions of Creator v2.4, these optimizations reduce the preloading performance loss and ensure a smooth gaming experience. You can make full use of the network bandwidth during the game to reduce the loading time of subsequent resources.</p><p>Since the preload does not parse the resources, you need to parse and initialize the resources with the loading interface to complete the resource loading after the preload is complete. For example:</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">resources.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">preload</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;images/background/spriteFrame&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, SpriteFrame);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Wait for while </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">resources.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">load</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;images/background/spriteFrame&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, SpriteFrame, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">spriteFrame</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    spriteFrame.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addRef</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    self.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Sprite).spriteFrame </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> spriteFrame;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><blockquote><p><strong>Note</strong>: loading does not need to wait until the preload is complete, you can load at any time. The normal loading interface will directly reuse the content that was already downloaded during the preload process, reducing the load time</p></blockquote>`,8),l=[t];function o(r,d,p,h,k,c){return i(),a("div",null,l)}const u=e(n,[["render",o]]);export{E as __pageData,u as default};
