import{_ as e,c as s,o as i,a4 as t}from"./chunks/framework.uQk9_EO2.js";const E=JSON.parse('{"title":"Web Preview Customization Workflow","description":"","frontmatter":{},"headers":[],"relativePath":"en/editor/preview/browser.md","filePath":"en/editor/preview/browser.md","lastUpdated":1712305443000}'),a={name:"en/editor/preview/browser.md"},n=t(`<h1 id="web-preview-customization-workflow" tabindex="-1">Web Preview Customization Workflow <a class="header-anchor" href="#web-preview-customization-workflow" aria-label="Permalink to &quot;Web Preview Customization Workflow&quot;">​</a></h1><h2 id="custom-preview-templates" tabindex="-1">Custom Preview Templates <a class="header-anchor" href="#custom-preview-templates" aria-label="Permalink to &quot;Custom Preview Templates&quot;">​</a></h2><p>Preview supports custom templates for users to customize the preview effect they need, and the custom preview template can be placed in the <code>preview-template</code> folder in the project directory. Or click <strong>Project -&gt; Create Preview Template</strong> in the editor main menu to create an updated preview template in the project directory. The preview in the editor also uses the template to inject the latest project data, the preview will look for the index file in the directory and if it exists it will be used as the template for the preview.</p><p>The <code>preview-template</code> folder has a structure similar to</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">project</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">folder</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">assets</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">build</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">preview</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">template</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">     // Required entry file</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">     |--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">index.ejs</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">     // Other files can be added according to the preview effect you want to achieve</span></span></code></pre></div><p>To start customizing the page preview, it should be noted that there are some preview menu items and preview debugging tools in the preview template. Be careful when adding or deleting some template syntax. Random changes may cause the preview template to be unavailable. It is recommended to keep all the content injected with ejs and then add the required content on top of it. Also, if <code>index.html</code> and <code>index.ejs</code> are coexisting, <strong><code>index.html</code> will replace <code>index.ejs</code></strong> as the preview page content.</p><h2 id="usage-examples" tabindex="-1">Usage examples <a class="header-anchor" href="#usage-examples" aria-label="Permalink to &quot;Usage examples&quot;">​</a></h2><ol><li><p>Click <strong>Project -&gt; Create Preview Template</strong> in the editor main menu, the <strong>Console</strong> will output the message &quot;Preview Template generated successfully&quot; and show the path of the generated preview template.</p></li><li><p>Add scripts like <code>test.js</code>, where <code>&lt;%- include(cocosTemplate, {}) %&gt;</code> contains the default start game logic, and the added scripts can be stored before/after the game logic is started as needed. The following <code>test.js</code> is loaded after the game is launched.</p><ul><li><p>Open <code>index.ejs</code> and modify it as follows:</p><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">html</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">body</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ...</span></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">        &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">%- include(cocosTemplate, {}) %&gt; // Game launch processing logic</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> src</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/test.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; // Add a new script</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">body</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">html</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div></li><li><p><code>test.js</code> is placed in the relative path of the logo within the page (only in the <code>preview-template</code> folder)</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>|--preview-template</span></span>
<span class="line"><span>        |--index.ejs</span></span>
<span class="line"><span>        |--test.js</span></span></code></pre></div></li></ul></li></ol><p>For more details, please refer to the example <a href="https://github.com/cocos/cocos-test-projects/tree/v3.8/preview-template" target="_blank" rel="noreferrer">Preview Template</a>.</p>`,9),l=[n];function p(h,o,r,d,c,k){return i(),s("div",null,l)}const m=e(a,[["render",p]]);export{E as __pageData,m as default};
