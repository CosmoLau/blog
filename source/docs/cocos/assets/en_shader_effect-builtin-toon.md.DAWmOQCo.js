import{_ as t,c as e,o,a4 as s}from"./chunks/framework.uQk9_EO2.js";const a="/docs/cocos/assets/toon.C_WbzJP0.png",l="/docs/cocos/assets/toon-pass.CUIPBjXn.png",r="/docs/cocos/assets/cull-front.DUHPnCT5.png",n="/docs/cocos/assets/outline-on.DSKb3ZW2.png",i="data:image/png;base64,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",d="/docs/cocos/assets/outline-off.qURBN6aX.png",c="/docs/cocos/assets/shade-color.Bny0XUI0.png",f="/docs/cocos/assets/shade-map.Buk2Rufm.png",h="/docs/cocos/assets/toon-surf.BXJ9g9VP.png",M=JSON.parse('{"title":"Toon Shading","description":"","frontmatter":{},"headers":[],"relativePath":"en/shader/effect-builtin-toon.md","filePath":"en/shader/effect-builtin-toon.md","lastUpdated":1712305443000}'),g={name:"en/shader/effect-builtin-toon.md"},p=s('<h1 id="toon-shading" tabindex="-1">Toon Shading <a class="header-anchor" href="#toon-shading" aria-label="Permalink to &quot;Toon Shading&quot;">​</a></h1><p>Non-Photorealistic Rendering (NPR), as opposed to Physical Based Rendering (<a href="./effect-builtin-pbr">PBR</a>), achieves a completely different art representation from the real world through feature-based rendering.</p><p>Toon Shading is one of the common effects of non-realistic rendering.</p><p>Usually cartoon rendering contains the following basic components:</p><ul><li>Stroke objects</li><li>Reducing the number of color gradations and simulating color gradation discontinuities</li><li>Separation of light and dark tones</li><li>Shade shape interference, etc.</li></ul><p><img src="'+a+'" alt="toon"></p><h2 id="passes" tabindex="-1">Passes <a class="header-anchor" href="#passes" aria-label="Permalink to &quot;Passes&quot;">​</a></h2><p>Creator provides a built-in toon rendering shader <code>builtin-toon.effect</code>, as an example, we switch the shader in the <strong>Effect</strong> property to <code>builtin-toon.effect</code> in the material resource, we can see that the toon rendering consists of two rendering passes.</p><p><img src="'+l+'" alt="toon pass"></p><ul><li>Pass 0: used for stroking, not enabled by default, can be enabled by checking <strong>USE_OUTLINE_PASS</strong> on the right side.</li><li>Pass 1: normal rendering of the model</li></ul><h3 id="pass-0" tabindex="-1">Pass 0 <a class="header-anchor" href="#pass-0" aria-label="Permalink to &quot;Pass 0&quot;">​</a></h3><p>Pass 0 selects the culling mode in the rasterization state to frontal culling (<code>CullMode = FRONT</code>) and expands the model&#39;s vertices along the normals, resulting in a larger monochrome model than the original model, after which <strong>Pass 1</strong> renders the model once normally and masks the rendering of <strong>Pass 0</strong>, leaving a solid color edge to form a stroke since the model size of <strong>Pass 1</strong> is smaller than that of <strong>Pass 0</strong>.</p><p><img src="'+r+'" alt="cull-front"></p><p><strong>Pass 0</strong> can be turned on or off by checking <strong>USE_OUTLINE_PASS</strong>.</p><p>When <strong>USE_OUTLINE_PASS</strong> is checked to turn on the stroke function for <strong>Pass 0</strong>, the effect is as follows.</p><p><img src="'+n+'" alt="USE_OUTLINE_PASS on"></p><p>If you need to adjust the depth effect of the stroke, you can do so with the <strong>DepthBias</strong> property.</p><p><img src="'+i+'" alt="DepthBias"></p><p>When <strong>USE_OUTLINE_PASS</strong> is unchecked to turn off the stroke function for <strong>Pass 0</strong>, the effect is as follows.</p><p><img src="'+d+'" alt="USE_OUTLINE_PASS off"></p><h3 id="pass-1" tabindex="-1">Pass 1 <a class="header-anchor" href="#pass-1" aria-label="Permalink to &quot;Pass 1&quot;">​</a></h3><p>The core idea of cartoon rendering is to simulate the Celluloid painting style in cartoons by reducing the number of color gradations.</p><p>Reduces the color scale to three shades in the shader and is composed by three colors:</p><ul><li><strong>baseColor</strong>：Basic colors</li><li><strong>shadeColor1</strong>：First-order coloring of colors</li><li><strong>shadeColor2</strong>：Second-order coloring of colors</li></ul><p>The color corresponds to the editor material properties as follows：</p><p><img src="'+c+'" alt="toon-shade-color"></p><p>If <strong>USE_1ST_SHADE_MAP</strong> and <strong>USE_2ND_SHADE_MAP</strong> are checked, the texture is used externally to simulate the color scale discontinuity.</p><p><img src="'+f+'" alt="shade map"></p><p>The parameters of the surface shader (<code>ToonSurface</code>) are calculated by the shader&#39;s <code>surf</code> method, and the final shading is calculated by the <code>CCToonShading</code> method.</p><p><img src="'+h+'" alt="surf code"></p><h2 id="parameters-and-pre-compiled-macro-definitions" tabindex="-1">Parameters and pre-compiled macro definitions <a class="header-anchor" href="#parameters-and-pre-compiled-macro-definitions" aria-label="Permalink to &quot;Parameters and pre-compiled macro definitions&quot;">​</a></h2><h3 id="pass-0-1" tabindex="-1">Pass 0 <a class="header-anchor" href="#pass-0-1" aria-label="Permalink to &quot;Pass 0&quot;">​</a></h3><table><thead><tr><th style="text-align:left;">Properties</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;">lineWidth</td><td style="text-align:left;">The width of the stroke</td></tr><tr><td style="text-align:left;">depthBias</td><td style="text-align:left;">Depth shift adjustment factor for stroke</td></tr><tr><td style="text-align:left;">baseColor</td><td style="text-align:left;">Stroke base color</td></tr></tbody></table><h3 id="pass-1-1" tabindex="-1">Pass 1 <a class="header-anchor" href="#pass-1-1" aria-label="Permalink to &quot;Pass 1&quot;">​</a></h3><table><thead><tr><th style="text-align:left;">Properties</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;">tilingOffset</td><td style="text-align:left;">Scaling and offset of the model UV, xy corresponds to scaling, zw corresponds to offset</td></tr><tr><td style="text-align:left;">mainColor</td><td style="text-align:left;">The primary color, which will be used as the initial color gradient</td></tr><tr><td style="text-align:left;">colorScale</td><td style="text-align:left;">Color scaling, multiplying RGB channels for primary, first-order and second-order colors</td></tr><tr><td style="text-align:left;">alphaThreshold</td><td style="text-align:left;">Set the Alpha test threshold. Pixels with Alpha values below the set value will be discarded. This item is only displayed when <strong>USE_ALPHA_TEST</strong> is checked</td></tr><tr><td style="text-align:left;">shadeColor1</td><td style="text-align:left;">First order color. This color will be used as an intermediate color for cartoon coloring</td></tr><tr><td style="text-align:left;">shadeColor2</td><td style="text-align:left;">Secondary order color. This color will be used as the last color scale of the cartoon coloring</td></tr><tr><td style="text-align:left;">specular</td><td style="text-align:left;">specular color</td></tr><tr><td style="text-align:left;">baseStep</td><td style="text-align:left;">Step size for first-order coloring</td></tr><tr><td style="text-align:left;">baseFeather</td><td style="text-align:left;">First-order shading and primary color mixing factor, and <strong>BaseStep</strong> property to adjust the proportion of first-order shading and the form of mixing</td></tr><tr><td style="text-align:left;">shadeStep</td><td style="text-align:left;">Step size for second-order color</td></tr><tr><td style="text-align:left;">shadeFeather</td><td style="text-align:left;">Blending factor for second-order shading and first-order shading, and <strong>ShadeStep</strong> property to adjust the proportion of second-order shades and the form of blending</td></tr><tr><td style="text-align:left;">shadowCover</td><td style="text-align:left;">Shadow covering factor</td></tr><tr><td style="text-align:left;">emissive</td><td style="text-align:left;">Self-emitting colors, independent of lighting calculation, directly emitted by the model itself</td></tr><tr><td style="text-align:left;">emissiveScale</td><td style="text-align:left;">Self-emitting intensity, used to control the weight of the impact of self-emitting color on the final color</td></tr><tr><td style="text-align:left;">normalStrength</td><td style="text-align:left;">Normal scaling<br>The xy axis of the normal can only be adjusted and scaled if <strong>USE_NORMAL_MAP</strong> is enabled</td></tr><tr><td style="text-align:left;">normalMap</td><td style="text-align:left;">Normal mapping <br>can only be adjusted if <strong>USE_NORMAL_MAP</strong> is enabled</td></tr><tr><td style="text-align:left;">mainTexture</td><td style="text-align:left;">The main texture, which defines the base texture of the object.<br> Is displayed in the editor as <strong>baseColorMap</strong> and can only be adjusted if the <strong>USE_BASE_COLOR_MAP</strong> macro is enabled</td></tr><tr><td style="text-align:left;">shadeMap1</td><td style="text-align:left;">The first-order color texture, if specified, will be multiplied by the set ShadeColor1. This item is only shown when <strong>USE 1ST SHADER MAP</strong> is checked.</td></tr><tr><td style="text-align:left;">shadeMap2</td><td style="text-align:left;">Second-order color texture, if specified, it will be multiplied by the set ShadeColor2. This item is only shown when <strong>USE 2ND SHADER MAP</strong> is checked.</td></tr><tr><td style="text-align:left;">specularMap</td><td style="text-align:left;">The highlight map, if specified, will be multiplied with the highlight color. This item is only shown when <strong>USE SPECULAR MAP</strong> is checked.</td></tr><tr><td style="text-align:left;">emissiveMap</td><td style="text-align:left;">Self-Emitting map, if specified, it will be multiplied by the self-emitting color, so you need to turn up the RGBA in the self-emitting color (default is black) to get the effect. This item is only shown when <strong>USE EMISSIVE MAP</strong> is checked.</td></tr></tbody></table><h2 id="pre-compiled-macro-definition" tabindex="-1">Pre-compiled Macro Definition <a class="header-anchor" href="#pre-compiled-macro-definition" aria-label="Permalink to &quot;Pre-compiled Macro Definition&quot;">​</a></h2><table><thead><tr><th style="text-align:left;">macro</th><th style="text-align:left;">description</th></tr></thead><tbody><tr><td style="text-align:left;">USE_INSTANCING</td><td style="text-align:left;">Whether to enable dynamic gpu instancing</td></tr><tr><td style="text-align:left;">USE_OUTLINE_PASS</td><td style="text-align:left;">Whether to enable strokes Pass</td></tr><tr><td style="text-align:left;">USE_NORMAL_MAP</td><td style="text-align:left;">Whether to use normal mapping</td></tr><tr><td style="text-align:left;">USE_BASE_COLOR_MAP</td><td style="text-align:left;">Whether to use base color maps</td></tr><tr><td style="text-align:left;">USE_1ST_SHADE_MAP</td><td style="text-align:left;">Whether to use the map as a first-order color scale</td></tr><tr><td style="text-align:left;">USE_2ND_SHADE_MAP</td><td style="text-align:left;">Whether to use a texture as a second-order color map</td></tr><tr><td style="text-align:left;">USE_EMISSIVE_MAP</td><td style="text-align:left;">Whether to use self-emitting maps</td></tr><tr><td style="text-align:left;">USE_ALPHA_TEST</td><td style="text-align:left;">Whether to perform alpha tests</td></tr><tr><td style="text-align:left;">USE_SPECULAR_MAP</td><td style="text-align:left;">Whether to use the highlight map</td></tr><tr><td style="text-align:left;">BASE_COLOR_MAP_AS_SHADE_MAP_1</td><td style="text-align:left;">Use baseColorMap as first-order shading</td></tr><tr><td style="text-align:left;">BASE_COLOR_MAP_AS_SHADE_MAP_2</td><td style="text-align:left;">Use baseColorMap as second-order shading</td></tr><tr><td style="text-align:left;">SHADE_MAP_1_AS_SHADE_MAP_2</td><td style="text-align:left;">Whether second-order coloring is overlaid with first-order coloring</td></tr></tbody></table>',37),u=[p];function m(A,x,y,b,S,P){return o(),e("div",null,u)}const T=t(g,[["render",m]]);export{M as __pageData,T as default};
