import{_ as t,c as o,o as d,a4 as e}from"./chunks/framework.uQk9_EO2.js";const r="/docs/cocos/assets/apply-transform.DEDkqBkD.png",a="/docs/cocos/assets/apply-transform-inspector.-ODO4Y1N.png",c="/docs/cocos/assets/copy-transform.BWzb9_g8.png",s="/docs/cocos/assets/copy-transform-inspector.CyBWtXor.png",n="/docs/cocos/assets/curve.DP1XEc5i.png",p="/docs/cocos/assets/inspector-property.VYFizwYZ.png",h="/docs/cocos/assets/two-bone-ik-solver.DD09RjFT.png",i="/docs/cocos/assets/two-bone-ik-demonstration.CO6NyApV.gif",l="/docs/cocos/assets/pole-target-demonstration.CdvoEa1s.gif",b="/docs/cocos/assets/two-bone-ik-inspector.CynCeD6p.png",A=JSON.parse('{"title":"修改姿态","description":"","frontmatter":{},"headers":[],"relativePath":"zh/animation/marionette/procedural-animation/pose-graph/pose-nodes/modify-pose.md","filePath":"zh/animation/marionette/procedural-animation/pose-graph/pose-nodes/modify-pose.md","lastUpdated":1712305443000}'),m={name:"zh/animation/marionette/procedural-animation/pose-graph/pose-nodes/modify-pose.md"},g=e('<h1 id="修改姿态" tabindex="-1">修改姿态 <a class="header-anchor" href="#修改姿态" aria-label="Permalink to &quot;修改姿态&quot;">​</a></h1><p>姿态图提供了几种用于修改姿态的结点。这些结点都接受一个输入姿态，并输出修改后的姿态。</p><table><thead><tr><th>输入</th><th>类型</th><th>含义</th></tr></thead><tbody><tr><td><code>姿态</code></td><td>姿态</td><td>要修改的姿态。</td></tr></tbody></table><p>姿态节点的操作请参考 <a href="./node-operation">姿态图节点视图</a>。</p><h2 id="应用变换" tabindex="-1">应用变换 <a class="header-anchor" href="#应用变换" aria-label="Permalink to &quot;应用变换&quot;">​</a></h2><p><img src="'+r+'" alt="apply-transform.png"></p><p><strong>应用变换结点</strong> 应用变换（位移和旋转）到输入姿态的指定结点。</p><table><thead><tr><th>输入</th><th>类型</th><th>含义</th></tr></thead><tbody><tr><td><code>位置</code></td><td>三维向量</td><td>对位置的修改量。</td></tr><tr><td><code>旋转</code></td><td>四元数</td><td>对旋转的修改量。</td></tr><tr><td><code>强度值</code></td><td>浮点数</td><td>修改的应用强度，在 [0, 1] 范围内。0 表示完全不应用修改，1 表示完全应用修改。</td></tr></tbody></table><p><img src="'+a+'" alt="apply-transform-inspector.png"></p><table><thead><tr><th>对象属性</th><th>含义</th></tr></thead><tbody><tr><td><code>结点</code></td><td>要修改的结点的名称。</td></tr><tr><td><code>位置操作</code></td><td>指定如何修改位置。见 <a href="#变换操作选项">变换操作选项</a></td></tr><tr><td><code>旋转操作</code></td><td>指定如何修改旋转。见 <a href="#变换操作选项">变换操作选项</a></td></tr><tr><td><code>空间</code></td><td>修改发生的空间；也即指定的 <code>位置</code> 输入 和 <code>旋转</code>输入所处的空间。</td></tr></tbody></table><h3 id="变换操作选项" tabindex="-1">变换操作选项 <a class="header-anchor" href="#变换操作选项" aria-label="Permalink to &quot;变换操作选项&quot;">​</a></h3><p>变换操作选项指定了应用变换结点如何修改位置或旋转。选项如下：</p><table><thead><tr><th>选项</th><th>含义</th></tr></thead><tbody><tr><td>LEAVE_UNCHANGED</td><td>不修改。</td></tr><tr><td>REPLACE</td><td>作为位置的应用选项时，将 <code>位置</code> 输入直接用作结点的新位置；作为旋转的应用选项时，将 <code>旋转</code> 输入直接用作结点的新旋转。</td></tr><tr><td>ADD</td><td>作为位置的应用选项时，将 <code>位置</code> 输入加到结点目前的位置上；作为旋转的应用选项时，将 <code>旋转</code> 输入加到结点目前的旋转上。</td></tr></tbody></table><h2 id="拷贝变换" tabindex="-1">拷贝变换 <a class="header-anchor" href="#拷贝变换" aria-label="Permalink to &quot;拷贝变换&quot;">​</a></h2><p><img src="'+c+'" alt="copy-transform.png"></p><p><strong>拷贝变换结点</strong> 拷贝输入姿态中一个结点的变换至另一结点上。</p><p><img src="'+s+'" alt="copy-transform-inspector.png"></p><table><thead><tr><th>对象属性</th><th>含义</th></tr></thead><tbody><tr><td><code>源结点</code></td><td>要拷贝的结点的名称。</td></tr><tr><td><code>目标结点</code></td><td>拷贝到的结点的名称。</td></tr><tr><td><code>空间</code></td><td>指定拷贝发生的空间。当为 <code>COMPONENT</code> 时表示在组件空间中进行拷贝；当为 <code>LOCAL</code> 时表示在本地空间中进行拷贝。</td></tr></tbody></table><h2 id="设置辅助曲线" tabindex="-1">设置辅助曲线 <a class="header-anchor" href="#设置辅助曲线" aria-label="Permalink to &quot;设置辅助曲线&quot;">​</a></h2><p><img src="'+n+'" alt="curve.png"></p><p><strong>设置辅助曲线结点</strong> 修改输入姿势中指定辅助曲线的当前值。</p><table><thead><tr><th>输入</th><th>类型</th><th>含义</th></tr></thead><tbody><tr><td><code>曲线值</code></td><td>浮点值</td><td>对辅助曲线的修改量。</td></tr></tbody></table><p><img src="'+p+'" alt="inspector-property.png"></p><table><thead><tr><th>对象属性</th><th>含义</th></tr></thead><tbody><tr><td><code>曲线名</code></td><td>要修改的辅助曲线的名称。</td></tr><tr><td><code>标志</code></td><td>指定如何修改辅助曲线。当为 <code>LEAVE_UNCHANGED</code> 时不修改；当为 <code>REPLACE</code> 时表示将 <code>曲线值</code> 输入作为辅助曲线的当前值；当为 <code>ADD</code> 时表示将 <code>曲线值</code> 输入加到辅助曲线的当前值上。</td></tr></tbody></table><h2 id="双骨骼-ik" tabindex="-1">双骨骼 IK <a class="header-anchor" href="#双骨骼-ik" aria-label="Permalink to &quot;双骨骼 IK&quot;">​</a></h2><p><img src="'+h+'" alt="two-bone-ik-solver.png"></p><p>IK 解算往往用于移动或旋转骨骼到目标位置，并且带动父级骨骼，使之保持与父级骨骼之间的距离不变（或在可接受的范围内）。例如，在移动脚时，膝盖骨骼和大腿骨骼应该相应弯曲。</p><p><strong>双骨骼 IK 解算器结点</strong> 为输入姿势解算两段（三根）骨骼构成的 IK 问题。这三根骨骼构成直接父子关系，即 “子级 - 父级 - 父级的父级”。其中，“子级” 称为 <strong>末端执行器</strong> 或 <strong>末端骨骼</strong>，“父级的父级” 称为 （在此 IK 问题中的）<strong>根骨骼</strong>，“父级” 称为 <strong>中间骨骼</strong>。</p><blockquote><p>因此，“双骨骼 IK” 中的 “双” 应该理解为 “两段” 而非 “两根”。</p></blockquote><p>求值时，解算器将变换末端骨骼和中间骨骼，并旋转根骨骼，以使末端骨骼到达指定位置；并且在此过程中，保持父子级之间的距离不变、保持根骨骼的位置不变。</p><p><img src="'+i+'" alt="Two Bone IK Demonstration"></p><p>对于固定的末端骨骼和根骨骼位置，在解算时，中间骨骼存在无穷多个解。如图：</p><p><img src="'+l+'" alt="Pole Target Demonstration"></p><p>解算器会尝试找到“最佳”的解，但这样的解可能仍然不止一个，且可能并不是期望的。</p><p>因此，为了明确指定中间骨骼的方位，解算器还允许指定一个 <strong>极向目标</strong> 来确定骨骼链的弯曲方向。</p><p><img src="'+b+'" alt="two-bone-ik-inspector.png"></p><table><thead><tr><th>输入</th><th>类型</th><th>含义</th></tr></thead><tbody><tr><td><code>末端执行器目标</code></td><td>三维向量</td><td>末端执行器的目标位置。</td></tr><tr><td><code>极向目标</code></td><td>三维向量</td><td>极向目标的位置。</td></tr></tbody></table><table><thead><tr><th>对象属性</th><th>含义</th></tr></thead><tbody><tr><td><code>末端执行器结点</code></td><td>末端执行器结点的名称。</td></tr><tr><td><code>末端执行器目标</code></td><td>末端执行器的目标设置。</td></tr><tr><td><code>极向目标</code></td><td>极向目标设置。</td></tr></tbody></table><h3 id="目标设置" tabindex="-1">目标设置 <a class="header-anchor" href="#目标设置" aria-label="Permalink to &quot;目标设置&quot;">​</a></h3><p>目标设置用于描述末端执行器目标或极向目标。选项如下：</p><table><thead><tr><th>对象属性</th><th>含义</th></tr></thead><tbody><tr><td><code>类型</code></td><td>目标类型。当为 <code>VALUE</code> 时，表示以指定（三维向量）值的形式表示目标位置；当为 <code>BONE</code> 时，表示以另一骨骼的位置作为目标位置；当为 <code>NONE</code> 时，表示以当前位置作为目标位置，也即不对该目标进行解算。</td></tr><tr><td><code>目标骨骼</code></td><td>当目标类型为 <code>BONE</code> 时，目标骨骼的名称。</td></tr><tr><td><code>目标位置空间</code></td><td>当目标类型为 <code>VALUE</code> 时，目标位置的空间。</td></tr></tbody></table>',41),_=[g];function y(f,u,E,k,D,q){return d(),o("div",null,_)}const N=t(m,[["render",y]]);export{A as __pageData,N as default};
