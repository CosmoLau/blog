import{_ as t,v as e,b as r,R as s}from"./chunks/framework.5ffcbaff.js";const o="/docs/cocos/assets/probe.9861534f.png",a="/docs/cocos/assets/basic.2637dd6a.png",n="/docs/cocos/assets/light-probe.84a48be4.png",i="/docs/cocos/assets/probe-property.50ccb4b8.png",l="/docs/cocos/assets/edit-area-box.1743ff41.gif",g="/docs/cocos/assets/done-edit.b5a99e51.png",p="/docs/cocos/assets/generate-probes.20828c7e.png",c="/docs/cocos/assets/select-probe.d4f470af.png",d="/docs/cocos/assets/edit-probe.dc2528a1.gif",h="/docs/cocos/assets/mobility.fc91154e.png",b="/docs/cocos/assets/use-light-probe.f686ab9b.png",m="/docs/cocos/assets/node-probes.e8aec007.png",f="/docs/cocos/assets/bake-to-light-probe.a68d6c40.png",_="/docs/cocos/assets/result.72eba393.png",v=JSON.parse('{"title":"光照探针","description":"","frontmatter":{},"headers":[],"relativePath":"zh/manual/concepts/scene/light/probe/light-probe.md","filePath":"zh/manual/concepts/scene/light/probe/light-probe.md"}'),u={name:"zh/manual/concepts/scene/light/probe/light-probe.md"},x=s('<h1 id="光照探针" tabindex="-1">光照探针 <a class="header-anchor" href="#光照探针" aria-label="Permalink to &quot;光照探针&quot;">​</a></h1><p><img src="'+o+'" alt="result"></p><p>光照探针旨在通过预计算为场景内的物体提供高质量的光照信息；同时为需要 LOD 的物体提供光照信息。</p><p>在场景中光线在照射到某个物体后，可能反弹到另一个物体，这样的反弹可能会有多次。</p><p>下图演示了光线在场景反弹一次并被光照探针捕获的情景。</p><p><img src="'+a+'" alt="basic"></p><p>光线照射到 A 物体表面后，反射至 B 物体，通过光照探针，将 B 物体对此光线的反射情况捕获到贴图上，之后在运行时对光线进行重建，以此来获得场景内静态物体的间接反射光信息。</p><p>Cocos Creator 支持最大 4 次反弹，详情可参考 <a href="./light-probe-panel.html">光照探针面板</a>。</p><h2 id="添加光照探针组" tabindex="-1">添加光照探针组 <a class="header-anchor" href="#添加光照探针组" aria-label="Permalink to &quot;添加光照探针组&quot;">​</a></h2><p>在 <strong>主菜单</strong> 选中 <strong>节点</strong> -&gt; <strong>光源</strong> -&gt; <strong>光照探针组</strong> 可以在场景内添加光照探针。</p><p><img src="'+n+'" alt="add-component"></p><h2 id="属性" tabindex="-1">属性 <a class="header-anchor" href="#属性" aria-label="Permalink to &quot;属性&quot;">​</a></h2><p><img src="'+i+'" alt="property"></p><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>Generating Method</strong></td><td style="text-align:left;">生成方式，目前仅支持内置</td></tr><tr><td style="text-align:left;"><strong>Generating Min Pos</strong></td><td style="text-align:left;">生成时的包围盒的最小值</td></tr><tr><td style="text-align:left;"><strong>Generating Max Pos</strong></td><td style="text-align:left;">生成时的包围盒的最大值</td></tr><tr><td style="text-align:left;"><strong>Number Of Probes X</strong></td><td style="text-align:left;">X 轴上探针的数量</td></tr><tr><td style="text-align:left;"><strong>Number Of Probes Y</strong></td><td style="text-align:left;">Y 轴上探针的数量</td></tr><tr><td style="text-align:left;"><strong>Number Of Probes Z</strong></td><td style="text-align:left;">Z 轴上探针的数量</td></tr><tr><td style="text-align:left;"><strong>Edit Area Box</strong></td><td style="text-align:left;">编辑生成的包围盒 <br> 点击此按钮后在场景内会进入探针包围盒的编辑模式，请参考下方编辑文档获取更详细的信息 <br> 编辑的过程会影响到上述的 <strong>Generating Min Pos</strong> 以及 <strong>Generating Max Pos</strong> 的值</td></tr><tr><td style="text-align:left;"><strong>Generate Probes</strong></td><td style="text-align:left;">生成光照探针 <br> 点击按钮后，会重新生成所有的探针，旧的探针会被删除 <br> 此时生成的探针是均匀的，如果需要手动调整，请点击下放 <strong>Enter Probe Edit Mode</strong> 按钮</td></tr><tr><td style="text-align:left;"><strong>Enter Probe Edit Mode</strong></td><td style="text-align:left;">进入编辑探针模式 <br> 点击此按钮后在场景编辑器内可以通过 <strong>鼠标左键</strong> 选择不同的探针，并通过 <strong>变换工具</strong> 修改探针的位置</td></tr></tbody></table><h2 id="编辑探针" tabindex="-1">编辑探针 <a class="header-anchor" href="#编辑探针" aria-label="Permalink to &quot;编辑探针&quot;">​</a></h2><h3 id="编辑探针范围" tabindex="-1">编辑探针范围 <a class="header-anchor" href="#编辑探针范围" aria-label="Permalink to &quot;编辑探针范围&quot;">​</a></h3><p>点击 <strong>Edit Area Box</strong> 可以进行光照探针范围编辑。此时场景内会以 <span style="color:green;"><strong>绿色</strong></span> 包围盒的形式显示，点击包围盒上的绿色 Gizmo 即可调整其大小。</p><p><img src="'+l+'" alt="edit area box"></p><p>点击 <strong>Done Edit</strong> 按钮可以退出编辑模式：</p><p><img src="'+g+'" alt="done edit"></p><p>之后可以点击 <strong>Generate Probes</strong> 重新生成探针。</p><h3 id="生成探针" tabindex="-1">生成探针 <a class="header-anchor" href="#生成探针" aria-label="Permalink to &quot;生成探针&quot;">​</a></h3><p>点击 <strong>Generate Probes</strong> 按钮可以生成探针。此时旧的探针会被删除，如果需要重新烘焙探针，请参考下方 <strong>烘焙光照探针</strong> 部分。</p><p><img src="'+p+'" alt="generate probes"></p><h3 id="编辑探针位置" tabindex="-1">编辑探针位置 <a class="header-anchor" href="#编辑探针位置" aria-label="Permalink to &quot;编辑探针位置&quot;">​</a></h3><p>生成探针后，可以点击 <strong>Enter Probe Edit Mode</strong> 按钮进入探针编辑模式。</p><p>此时场景的探针才可以被选择。</p><p><img src="'+c+'" alt="select"></p><p>通过鼠标拖拽这些 Gizmo 可以调整探针的位置。</p><p><img src="'+d+'" alt="edit"></p><h2 id="启用探针" tabindex="-1">启用探针 <a class="header-anchor" href="#启用探针" aria-label="Permalink to &quot;启用探针&quot;">​</a></h2><p>在节点的 <strong>属性检查器</strong> 内勾选 <strong>使用光照探针（Use Light Probe）</strong> 并将节点的 <strong>Mobility</strong> 属性设置为 <strong>Movable</strong> 可启用节点探针。</p><p><img src="'+h+'" alt="mobility"></p><p><img src="'+b+'" alt="use light probe"></p><p>启用后在 <strong>层级管理器</strong> 内选中节点，可查看节点受那些探针影响，图示中的白色小点为光照探针。</p><p><img src="'+m+'" alt="probes"></p><h2 id="烘焙光照探针" tabindex="-1">烘焙光照探针 <a class="header-anchor" href="#烘焙光照探针" aria-label="Permalink to &quot;烘焙光照探针&quot;">​</a></h2><p>对于需要烘焙的节点，可勾选节点的 <strong>Bake To Light Probe</strong>：</p><p><img src="'+f+'" alt="bake to light probe"></p><p>在编辑好光照探针后，可以选择 <strong>项目</strong> -&gt; <strong>光照烘焙</strong> -&gt; <strong>光照探针</strong> 打开 <a href="./light-probe-panel.html">光照探针面板</a>。</p><p><img src="'+_+'" alt="result"></p><p>更多示例可参考 <a href="./example.html">基于图像的光照示例</a>。</p><h2 id="理论参考" tabindex="-1">理论参考 <a class="header-anchor" href="#理论参考" aria-label="Permalink to &quot;理论参考&quot;">​</a></h2><p>通常光照探针是通过球谐函数计算，对于技术细节感兴趣的开发者，我们也准备了一些参考文档：</p><ul><li><a href="http://www.cse.chalmers.se/~uffe/xjobb/Readings/GlobalIllumination/Spherical%20Harmonic%20Lighting%20-%20the%20gritty%20details.pdf" target="_blank" rel="noreferrer">Spherical Harmonic Lighting: The Gritty Details</a></li><li><a href="https://en.wikipedia.org/wiki/Spherical_harmonic_lighting" target="_blank" rel="noreferrer">Spherical harmonic lighting Wiki</a></li><li><a href="https://en.wikipedia.org/wiki/Fourier_transform" target="_blank" rel="noreferrer">Fourier Transform Wiki</a></li><li><a href="https://en.wikipedia.org/wiki/Spherical_Harmonic#:~:text=.%20In%20mathematics%20and%20physical%20science%2C%20spherical%20harmonics,solving%20partial%20differential%20equations%20in%20many%20scientific%20fields." target="_blank" rel="noreferrer">Spherical Harmonic</a></li></ul>',45),y=[x];function P(k,q,G,M,w,E){return e(),r("div",null,y)}const z=t(u,[["render",P]]);export{v as __pageData,z as default};
