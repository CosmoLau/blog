import{_ as t,c as l,o as a,a5 as e}from"./chunks/framework.CqnjdYks.js";const i="/docs/cocos/assets/maya-viewport.DKfZhRiq.png",r="/docs/cocos/assets/cocos-viewport.Bl7NbSOp.png",o="/docs/cocos/assets/enable-smart-conversion.CvMJ88Ph.png",s="/docs/cocos/assets/img.ghLlzjMz.png",n="/docs/cocos/assets/img_1.C6k5IY_i.png",d="/docs/cocos/assets/img_2.Ds3lATEp.png",c="/docs/cocos/assets/img_3.DCdg-_lA.png",u="/docs/cocos/assets/img_4.BHQdVWAT.png",p="/docs/cocos/assets/img_5.DibjkG2T.png",k=JSON.parse('{"title":"FBX 智能材质导入","description":"","frontmatter":{},"headers":[],"relativePath":"zh/manual/importer/materials/fbx-materials.md","filePath":"zh/manual/importer/materials/fbx-materials.md"}'),h={name:"zh/manual/importer/materials/fbx-materials.md"},m=e('<h1 id="fbx-智能材质导入" tabindex="-1">FBX 智能材质导入 <a class="header-anchor" href="#fbx-智能材质导入" aria-label="Permalink to &quot;FBX 智能材质导入&quot;">​</a></h1><p>FBX 智能材质导入是模型导入器中辅助转换材质的一个功能，它可以将各种 DCC（Digital Content Creation） 工具导出到模型中的部分标准材质直接映射到 Cocos Creator 的内置材质中，尽量还原美术在 DCC 工具中看到的材质效果。该功能为 v3.5.1 新增。</p><p>该功能当前支持以下材质：</p><table><thead><tr><th style="text-align:left;">Software</th><th style="text-align:left;">Phong</th><th style="text-align:left;">PBR</th></tr></thead><tbody><tr><td style="text-align:left;">3ds Max</td><td style="text-align:left;">Standard(legacy)</td><td style="text-align:left;">Physical Material</td></tr><tr><td style="text-align:left;">Blender</td><td style="text-align:left;">N/A</td><td style="text-align:left;">Principled BSDF</td></tr><tr><td style="text-align:left;">C4D</td><td style="text-align:left;">Standard</td><td style="text-align:left;">N/A</td></tr><tr><td style="text-align:left;">Maya</td><td style="text-align:left;">Lambert/Blinn/Phong</td><td style="text-align:left;">Standard Surface</td></tr></tbody></table><p>以 Maya Standard Surface 为例，材质导入 Cocos Creator 效果对比下表所示：</p><table><thead><tr><th style="text-align:left;">Maya Viewport</th><th style="text-align:left;">Cocos Creator Viewport</th></tr></thead><tbody><tr><td style="text-align:left;"><img src="'+i+'" alt="Maya"></td><td style="text-align:left;"><img src="'+r+'" alt="cocos"></td></tr></tbody></table><p>您可以参考以下工程文件设置，以确保导入器可以准确的导入 Maya Standard Surface 各个通道的贴图。</p><p><a href="maya_car.zip">Maya Car Demo</a></p><h2 id="fbx-智能材质导入配置和流程" tabindex="-1">FBX 智能材质导入配置和流程 <a class="header-anchor" href="#fbx-智能材质导入配置和流程" aria-label="Permalink to &quot;FBX 智能材质导入配置和流程&quot;">​</a></h2><ol><li>在 Cocos Creator 主菜单依次进入 <strong>Project -&gt; Project Settings -&gt; Model -&gt; Smart Material Conversion</strong> 确保该选项出于开启状态。</li><li>在 Cocos Creator 中选中 FBX 文件，确保 FBX 文件的 <strong>Inspector</strong> 面板中 <strong>Smart Material Conversion</strong> 选项处于开启状态。</li></ol><p>设置结果如下图所示：</p><p><img src="'+o+'" alt="img_6.png"></p><h2 id="不同-dcc-材质支持说明" tabindex="-1">不同 DCC 材质支持说明 <a class="header-anchor" href="#不同-dcc-材质支持说明" aria-label="Permalink to &quot;不同 DCC 材质支持说明&quot;">​</a></h2><h3 id="autodesk-3ds-max" tabindex="-1">Autodesk 3ds Max <a class="header-anchor" href="#autodesk-3ds-max" aria-label="Permalink to &quot;Autodesk 3ds Max&quot;">​</a></h3><ul><li><p>材质： 支持以下材质类型：</p><ul><li>Standard（Legacy）</li><li>Physical Material (建议使用)</li><li>Multi/SubObject <ul><li>Multi/SubObject 的子材质类型只能是 Standard 或者 Physical Material，不可以是 Multi/SubObject， 否则，导入后部分材质会丢失</li></ul></li></ul></li><li><p>纹理：</p><ul><li>对于 Standard（Legacy） 材质， Cocos Creator 支持以下纹理贴图的自动导入： <ul><li>Diffuse Color</li><li>Specular Color</li><li>Glossiness</li><li>Opacity</li><li>Bump</li></ul></li><li>对于 Physical Material， Cocos Creator 支持以下纹理贴图的自动导入： <ul><li>Base Color</li><li>Roughness</li><li>Metalness</li><li>Bump</li><li>Opacity</li></ul></li><li>纹理导入简化要求： <ul><li>在导出 FBX 前，除 Normal Map 可以用 Normal Bump 节点矫正外，请确保证材质右侧输入的纹理节点均为 Bitmap 节点。</li><li>关于如何将简化纹理简化为只剩Bitmap节点，您可以参考 <a href="https://knowledge.autodesk.com/support/3ds-Max/learn-explore/caas/sfdcarticles/sfdcarticles/How-to-convert-a-Procedural-texture-into-a-bitmap-image-texture-in-3ds-Max-for-fbx-export.html" target="_blank" rel="noreferrer">Convert a Procedural texture into a bitmap image texture in 3ds Max</a></li></ul></li></ul></li></ul><table><thead><tr><th style="text-align:left;">简化前</th><th style="text-align:left;">简化后</th></tr></thead><tbody><tr><td style="text-align:left;"><img src="'+s+'" alt="img.png"></td><td style="text-align:left;"><img src="'+n+'" alt="img_1.png"></td></tr></tbody></table><p>渲染说明：对于 Max Physical Material 材质，需要在 Max Viewport 中开启 High Quality 才可能获取相对准确的预览效果。为了获取最佳的配对效果，您可以配对 Max 和 Cocos Creator 的渲染环境。</p><ul><li>关于 Max Viewport 渲染更多设置内容，您可参考 <a href="https://www.youtube.com/watch?v=82hhg8Q1nus&amp;list=PL9xXzsdQ6pbZGBnVSKMBO_BCYjzmFTj0R&amp;index=2" target="_blank" rel="noreferrer">教程</a></li><li>关于 Cocos Creator 渲染环境配置详细内容，您可参考 <a href="https://docs.cocos.com/creator/manual/zh/module-map/graphics.html" target="_blank" rel="noreferrer">Cocos Creator 官方文档</a></li></ul><h3 id="autodesk-maya" tabindex="-1">Autodesk Maya <a class="header-anchor" href="#autodesk-maya" aria-label="Permalink to &quot;Autodesk Maya&quot;">​</a></h3><ul><li>材质：支持以下材质类型： <ul><li>Lambert、Blinn、Phong、Phong-E</li><li>Standard Surface (建议使用)</li></ul></li><li>纹理： <ul><li>对于 Lambert，Blinn，Phong Cocos Creator 支持以下纹理自动导入： <ul><li>Color</li><li>Normal</li><li>Transparency</li><li>SpecularColor</li><li>Cosine Power</li></ul></li><li>对于 Standard Surface Cocos Creator 支持以下纹理通道的自动导入： <ul><li>Base Color</li><li>Specular Roughness</li><li>Metalness</li><li>Normal</li><li>Alpha</li></ul></li><li>纹理导入要求： 在导出 FBX 之前，除 Bump Map 可以用 Bump2D 节点矫正外，确保有贴图输入通道的输入户节点类型均为 File 纹理节点。</li><li>关于如何将简化纹理简化为只剩 File Texture 节点，您可以参考 <a href="https://knowledge.autodesk.com/support/Maya/learn-explore/caas/CloudHelp/cloudhelp/2016/ENU/Maya/files/GUID-0F504570-CB7A-49D3-A7A2-83438C353A9C-htm.html" target="_blank" rel="noreferrer">Convert a texture or shading network to a File Texture in Maya</a></li></ul></li></ul><table><thead><tr><th style="text-align:left;">简化前</th><th style="text-align:left;">简化后</th></tr></thead><tbody><tr><td style="text-align:left;"><img src="'+d+'" alt="img_2.png"></td><td style="text-align:left;"><img src="'+c+'" alt="img_3.png"></td></tr></tbody></table><p>渲染说明：使用 Maya Viewport 预览时半透明材质时，建议开启 Depth peeling 和 Alpha Cut Prepass 以获取正准确的预览效果。 为了获取最佳的配对效果，您可以配对 Maya 和 Cocos Creator 的渲染环境。</p><ul><li>关于 Maya Viewport渲染设置更多内容，您可参考 <a href="https://help.autodesk.com/view/MAYAUL/2022/ENU/" target="_blank" rel="noreferrer">Maya 官方文档</a></li><li>关于 Cocos Creator 渲染环境配置详细内容，您可参考 <a href="https://docs.cocos.com/creator/manual/zh/module-map/graphics.html" target="_blank" rel="noreferrer">Cocos Creator 官方文档</a></li></ul><h3 id="cinema-4d" tabindex="-1">Cinema 4D <a class="header-anchor" href="#cinema-4d" aria-label="Permalink to &quot;Cinema 4D&quot;">​</a></h3><ul><li>材质：支持以下材质类型： <ul><li>Standard Material</li></ul></li><li>纹理： <ul><li>支持以下纹理： <ul><li>Diffuse Color</li><li>Specular Color</li><li>Glossiness</li><li>Opacity</li><li>Bump</li></ul></li><li>纹理导出要求：C4D 导出 FBX 前，若一个模型有多个材质需要保证UV集的面和材质有唯一的对应关系。 <ul><li><a href="https://github.com/cocos-creator/3d-tasks/issues/11267" target="_blank" rel="noreferrer">Example</a></li></ul></li></ul></li></ul><h3 id="blender" tabindex="-1">Blender <a class="header-anchor" href="#blender" aria-label="Permalink to &quot;Blender&quot;">​</a></h3><ul><li>材质：支持以下材质类型： <ul><li>Principled bsdf</li></ul></li><li>纹理： <ul><li>对于 Principled bsdf 材质支持以下纹理： <ul><li>Base Color</li><li>Roughness</li><li>Metallic</li><li>Normal</li><li>Alpha</li></ul></li><li>纹理导入要求：在导出 FBX 之前，除 Normal Map 可以用 Normal Map 节点矫正外，确保材质的其它贴图输入通道均为File纹理节点。</li></ul></li></ul><p>关于如何将简化纹理简化为只剩 Bitmap 节点，您可以参考 <a href="https://www.youtube.com/watch?v=AB24ITZHtuE" target="_blank" rel="noreferrer">Baking Procedural Materials to Image Textures in Blender</a></p><table><thead><tr><th style="text-align:left;">简化前</th><th style="text-align:left;">简化后</th></tr></thead><tbody><tr><td style="text-align:left;"><img src="'+u+'" alt="img_4.png"></td><td style="text-align:left;"><img src="'+p+'" alt="img_5.png"></td></tr></tbody></table>',29),g=[m];function f(x,y,b,C,_,M){return a(),l("div",null,g)}const S=t(h,[["render",f]]);export{k as __pageData,S as default};
