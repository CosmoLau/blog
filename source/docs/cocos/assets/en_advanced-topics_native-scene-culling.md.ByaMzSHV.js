import{_ as e,c as t,o as n,a4 as o}from"./chunks/framework.uQk9_EO2.js";const i="/docs/cocos/assets/octree-scene-culling.DfML1Wu9.png",f=JSON.parse('{"title":"Native Scene Culling","description":"","frontmatter":{},"headers":[],"relativePath":"en/advanced-topics/native-scene-culling.md","filePath":"en/advanced-topics/native-scene-culling.md","lastUpdated":1712305443000}'),s={name:"en/advanced-topics/native-scene-culling.md"},l=o('<h1 id="native-scene-culling" tabindex="-1">Native Scene Culling <a class="header-anchor" href="#native-scene-culling" aria-label="Permalink to &quot;Native Scene Culling&quot;">​</a></h1><p>Creator supports native scene culling starting from v3.4.0, including <strong>Octree Scene Culling</strong> and <strong>Occlusion Query Culling</strong> for native platforms only.</p><h2 id="octree-scene-culling" tabindex="-1">Octree Scene Culling <a class="header-anchor" href="#octree-scene-culling" aria-label="Permalink to &quot;Octree Scene Culling&quot;">​</a></h2><p>Generally, the engine culls models that are not in the viewing frustum (the visible range of the camera) by checking whether the bounding boxes of the models are in the viewing frustum one by one, which is slower. If octree culling is enabled, the models that are not in the viewing frustum can be quickly culled by the octree.</p><p>This feature is disabled by default, to enable it, select the scene root node <strong>Scene</strong> in the <strong>Hierarchy</strong> panel, then notice the <strong>Octree Scene Culling</strong> option in the <strong>Inspector</strong> panel, and check <strong>Enabled</strong>.</p><p><img src="'+i+'" alt="octree scene culling"></p><p>When octree culling is enabled, the whole world&#39;s bounding box (e.g. the white bordered cube in the scene above) will be displayed in the <strong>Scene</strong> panel.</p><p>The properties of <strong>Octree Scene Culling</strong> are described as follows:</p><table><thead><tr><th style="text-align:left;">Property</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;">Enabled</td><td style="text-align:left;">Check this option to enable Octree Scene Culling, only for native platforms.</td></tr><tr><td style="text-align:left;">World MinPos</td><td style="text-align:left;">The minimum vertex coordinates of the world bounding box (objects beyond the bounding box are not rendered).</td></tr><tr><td style="text-align:left;">World MaxPos</td><td style="text-align:left;">The maximum vertex coordinates of the world bounding box (objects beyond the bounding box are not rendered).</td></tr><tr><td style="text-align:left;">Depth</td><td style="text-align:left;">Depth of the octree, the default value is 8. If the scene is small, it is recommended not to set this value too large, otherwise it may consume memory.</td></tr></tbody></table><h2 id="occlusion-query-culling" tabindex="-1">Occlusion Query Culling <a class="header-anchor" href="#occlusion-query-culling" aria-label="Permalink to &quot;Occlusion Query Culling&quot;">​</a></h2><p><strong>Occlusion Query Culling</strong> is off by default, if it is on, the GFX backend will perform an occlusion query through the graphics API and if the object is occluded, only the simplified bounding box and material will be used to render the object to improve performance.</p><p>This feature can be turned on with code that says</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">director.root.pipeline.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setOcclusionQueryEnabled</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><blockquote><p><strong>Note</strong>: GLES 2.0 does not support occlusion query culling, and some GLES 3.0 devices do not support it without the <code>GL_EXT_occlusion_query_boolean</code> extension.</p></blockquote><h2 id="performance-optimization-suggestions" tabindex="-1">Performance optimization suggestions <a class="header-anchor" href="#performance-optimization-suggestions" aria-label="Permalink to &quot;Performance optimization suggestions&quot;">​</a></h2><ul><li>If most of the objects in the scene are visible, it is recommended not to enable <strong>Octree Scene Culling</strong> and <strong>Occlusion Query Culling</strong>.</li><li>Performance may vary slightly from device to device, so decide whether to turn on the corresponding culling function after comparing performance tests.</li></ul>',16),a=[l];function r(c,d,h,u,g,p){return n(),t("div",null,a)}const m=e(s,[["render",r]]);export{f as __pageData,m as default};
