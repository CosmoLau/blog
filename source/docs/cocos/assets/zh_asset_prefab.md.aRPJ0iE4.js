import{_ as t,c as e,o as a,a4 as s}from"./chunks/framework.uQk9_EO2.js";const r="/docs/cocos/assets/prefab-asset.Djfn25Oh.png",o="/docs/cocos/assets/prefab-instance.Ds4SureC.png",n="/docs/cocos/assets/prefab-edit-mode.C5eSbXw2.png",l="/docs/cocos/assets/nested-prefab.D5R1WJR7.png",i="/docs/cocos/assets/create.Djpz1his.png",g="/docs/cocos/assets/create-prefab.ByELIX3k.gif",d="/docs/cocos/assets/persistent.fs3fFjpS.png",c="/docs/cocos/assets/use-prefab.DmYTAJsr.gif",p="/docs/cocos/assets/prefab-edit-mode.B75Cm3pd.gif",A="/docs/cocos/assets/edit-prefab.D1jC9LA7.png",h="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAfCAYAAAAfrhY5AAACeklEQVRIie2W30tTYRjHP7PlOeTw18ZE2casiRtJzBglJgZWIKFQUOCFF0Jd+MdE4F3X4oWQF11ZF2MUTDBQ2oWS0mByGlPWZtMyz0yw91UpXVbvYkvBvjcv73MOz4fn1zmPpcUf3OGYVHFc4NMNtx68nK3UOVdVzU6Ju8BigS8b63zdMn8Nl2CPpwFdrywp3DS3MAxYK4AfSruMuNRgKenzqGz+bzhl6fZGHKySzOZ377bAVbq8NVg3syzMzhL/VDZ4C30D/fitBi9GJoh3DzLc4fzuJHg5wPT4GOGUmrci0/6OlbVt0JrwhyBnrJJbiTE28phH4zEyOAn1XENX9FZ0zaPzKUwRq8svIEuTPBmNsCQqYBpvSYqUW+uc+MoF580cyU0BaWqmS/thtrV34KuD7Y8p5koP1wj2D3Dn4gIzxoa4iwi76/fBd3l4qxnbdpqZyGtlj4pwCR6kN9CEy9NIfCpBTlgd5zvw4ubmlX3wxFPlZpNS6nZXz30BroGVWZ49XxaWPPFsGyG7m5Bvkti8aDZjiqiRVyejErl2nd6QEzKiq0dfkdw1rvIykRZnFd5LfuLRSNFgNbivnlpxZJYi+2DxodE0TJH6pJg63S0yUDRWFR5PkxEQx4XbBO31+DrvMTx0A29+ioXU3sy3dZYLLiDhmEhxnZ++B0MMdHmwVZzBJh5NL+7NfG1Dy1/BLQcXyOpaJ62t7iNf1O0ive1O9FyC6ZkEn3etGg6XGLcPy2T+UPLFxfes59KHbMrfdjM7RzRcaM2TSS6ruvhJp/d/fnLgcsuUy16pJX1K34U61HByvZVbZrlW59/C5V5duN6WUyen5v9a3wBf09TjoonG+gAAAABJRU5ErkJggg==",f="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAfCAYAAAAfrhY5AAACX0lEQVRIieWWz0vTYRjAP5PlVk7rYLaNKRMaE5qxcqjYaNLBLkkdOoZ08NKtP0UCiWiHiI4dDA8JQbj4JgscDrdow8PGNtaQFeZmTBvY+85Dc2X7ftumlc/p/b4/ns/zPO/zPt9H5xhw73JE0nZU4OMN11d/nGg3cqqji90mZ4FOB1+3Nvm2UzoYLsF9fecwGtubCi+Vdkil4EsNfF/YpcfNBkuROn8VzeObcA3ADZg6DQ3B9fW3/AztHnTjcbhw2yG5GiW2Eib8abvFcIOLW1PXcJ2G4tYezOwc4fzlEbwfXuOfj1Kqo6JaNITdwo2pCQbaEiw8esDMyxjJVIy5WTF+lQDHBNPXLZp8UQ03en24OrMoT+ZZLoiJjxGUYIScGBZX5vEHs5gu+BjXkAaqw+6x90D2LYqMdreP6akhzOJ0ORfC/zRAfmmNzPAV7ENifUmdTnWeX73DuFWPvs/H/Zv9cLG3Aq5Yb+7FTT+37/mwt+uxjYm9Kh1SB3/zjMVsmXIqwMwLcb+raXLlvaVyLk2YBM8fBkjulMksib0q4arDvpxcxzvswGsIoeQD+Gcj2M5CPvO5kuHGMQe2tnWCIbUaNSRcSQkQLVjx3p3E0ykmLIN4Rwcxi6Hp0iTTo1aK7wMsanjuuuo2qutMD05n78G7a9658aQwaltUug7YqPPO4/E0mxvr++a0FZntKHOP11CqKlwuHj6kCrdnAfnIOxYiYRQR/mJBO7QB+A8jioU/Py3lX/2l/k9w2WXKZq/ZInVK3bWyL+Fkeyu7zFa1zr+Fy766tr1tpfw9d37Y8h1J9dJ85dzuuQAAAABJRU5ErkJggg==",b="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAfCAYAAAAfrhY5AAAB7UlEQVRIie2WTUsbURSGn0h0xsavmjBiakKR1GRRsMWhiTigCymxYqF0k3blj/EfdF3oIntBXHRVVGoRiWCXQsCQSgRJirEZGW1A7y2Ck2CqUyZa0Rdmce899zwzZ87ceT1PYs9OuCG13BT4bsO99kFrm8oDXxcnLneBxwOH5gG/j63GcAkOh/tQ1TZX4ZZ1TD4P5Tp4TdnlE7sNlpI5L6rm3W24Wwjv1HgcHSExHGLAr4iJGMn3MxgBZ2m8l4fYpIQwpl9iRLprNlqlMvhVdvrEoNgUeD+T796Q6DXJfp1n8ds2FaWXyPMEk/EYAY6unsopXDXG0TWTzfRHFgtnk6OvSL3QzgZVqtUmwY3BIOSXz8FSS2nmlpwB7bpiw4mydkOlXLg81H34NvumKL3P3zhkcJzU1FNU9+FHZEsm6qMYCeWi9X6SE8NEghod7sMh+zlDjjATszPonbYF+fmlXqMHxA2urzr50vDYbVRXj0Y0GmocHRxj9m2cgXbR2+ZPipZC4KFPdK1JbmWB9Ppuw61bWz842N+rmXN2yBRW+fRhk4geRx8K0uG1yH3PkFnbIPvLUaZ/gP+ROGQyX8TlfGe9buGP5R7uJly6TGn23JbMKXPXq6bbpb2VLrNZ1vmvcOmr6+1tM/X/vPPr1imMIYoF1707cwAAAABJRU5ErkJggg==",m="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAfCAYAAAAfrhY5AAACkUlEQVRIie2W8WtSURTHv5btveY2TYeZqMjQdGAhTGaw2GKNWpFQtNh+kOiHoL9p0A8RQgshf5iFP5TYkGiw4kFCipKiMmM00TXXe85Y99Yqn8z2Fs82WF94cO+5757PO/fed+5R2J3uLeyTjuwX+HDDlc2dY10sulV92JL5FCgUwEZtDZt1vj2cgi2Wk2DZLlnhPF9HPg9UW+CiZacRyw2moj53Ws3/B25PYnV2uM+YoaGzG1Xk3iWQXBU6DO914trNi3DrGTTqNVTKAlhtHzzDY+A/coiEokh87gS8fwj+6TGYGlnE5p4hnv8dKWvx4voV8txWQ3k/BE7iIkjccy0mro7AVHuDwGxIBKbi84uYmw1i6YsZk7e8YCXGIw1uPQenQUAm/hLFHYZ7BofgMZYQWciCN7ow0S8nfEALTbWApQxp9+ph0jG/hkzDU7jrG4H7tBbIJFGsqWE4Kw0uac9dGjUgFJAjbeuoD37HV3Dzj8Cd8GHqghHrb0MIxMpktIxKjRyPo+R9VHf1KynyRIU4YlSwknbuaQDhHAO37x78P8HPC/iROO3QqMjft7k7WDIcH0hEajM8NtoRwD15gHC6jOLrZjCRzQmTitgTkrxKhOdegFtmYBsdh5XZ/oD5AAILTWDGhZnLdrDL7xH7JCecwOLBKHLH3Zi5cwPnLYxotGfAS+zjsCGLSHARfBsvrVI013B9Gj0cDnP7txk7JqcvwWMg8HoDje9GJZTkIqQZLvw4imSbBJNKFbBWWRHZ9pZehTQiD9OI6U7B6RiEoZvYNlaQSKVR7Hhu3xa/WgL3qvQ3U0U6vPf5wYHTKpMWe3KL+qS+WyU6cLS8pVVmp0rnP8JpXd1a3nZSB2fP/7W+AT5Z5NREiGAPAAAAAElFTkSuQmCC",y="/docs/cocos/assets/prefab-mounted-children.Dd7gJjUj.png",x="/docs/cocos/assets/instance-add-component.BGzuLQ_f.png",P="/docs/cocos/assets/instance-remove-component.DK3g7UJx.png",u="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAABdElEQVRIiWM0tnD7z0BjwPLpwyta28HARHMbRi0ZBpZwCDFIKhkw6GtJMYjysgAFlBlc4kMYzPnxa2MhynAWMQbjgFgGT0MxBg4k4R/PXzH8keRkuCvKwHDyI0WWCDE4pOQzuIi/Y7i4aSLD5pPPGH6w8DLIGjox+LlZMUgyfCbsRoIKLEMYHGTfMRzp62XY8RYqaB7LkO4lD1fz5x+FlljoKjP8ubYcYQEIHJ3GUHOUkE4EIBDxygySQgwMn98/It5E0i15yPD6EwMDJ68YbiXSTgyhHhp4g4SAJX8Ybj57x8CjYsqgj9UUYKLwd2bQV5FHSXUkWsLA8HzLToZrDDoMgTkhDFrIJoGSdXQWg4v0d4aLe/YyfMFjBqOqhgHh+kTYkiEuNYBBjfcPw5/3rxge/eBgkBMVYmBhesdwbcNshmVn3+HVTpwlYMDJIGlgx2CjL8/Ay/Kb4fPD8wxHjlxgeP6DsE4SLCEfDMICctSSYWMJAHAUWyPmRM6QAAAAAElFTkSuQmCC",B="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAACI0lEQVRIie2Vb0gTcRjHP+ohW3jCaWvVaIOrzNagyRgWJPZHVlm9KCTIoBDKol7Yu+hdL3rRm97E6MUgAgf6QsFeRQ1L6o3YiBhNOV94lNLIxbbwhA1d1M1hKnRry/Ym/L763T13z+e53/N8f1fhOeD7QZklzH2Ll5tBZdkJG5BSJRT/qBnJ6cazvXbpSouFiUwkyRTxZsXuRvcfRljA4r3ApdMuJLLMp+JoiFgkESEbJ/I8yFA4rkfWAdnm6+Faq0RsJEjv8NSqys3IbV10HrERDz0g8DppmKNwT3Z1cLlFZDx4j8AaQE5p1OFH3A9GqfNd5YzNOE1BSHNLE6aPLxlSfrMZwhacLgcoA4yotew/7P4byE7sVpiOjur7LVBjqcP0C+DgxPUeOtu92PXomPIZ0469yKVDHEhiGi2RWzdx7sZtbl30Ii0Bujm0KUrfw0HUXHg2xXyVsFJE8ZBPpDQzYn1uHabX/4Kk3qObd5YB/UwsN8kqUbOYNhznApAppmfB7jqYN1PiFQH/U9TY+7UAPdrcaCMzo+S/qjQIjIXeosnHOO80528kRul7PLgKAFJrNyflOSJvooZ5quo3b71rGNUmUb67OHX2OA2VM4yrqRXTCSINR6/Q1WbjS8hP/4e0YZoiHK9X69Ed3+7GUp0ls7CYZ1SbERZ0xz97wsA7YyMWDclLP7vkPeyTrfoUpfmqRplU/9nZtX79P/+TDUhJ+gmFPq9BH9RoBgAAAABJRU5ErkJggg==",H=JSON.parse('{"title":"预制件（Prefab）","description":"","frontmatter":{},"headers":[],"relativePath":"zh/asset/prefab.md","filePath":"zh/asset/prefab.md","lastUpdated":1712305443000}'),k={name:"zh/asset/prefab.md"},R=s('<h1 id="预制件-prefab" tabindex="-1">预制件（Prefab） <a class="header-anchor" href="#预制件-prefab" aria-label="Permalink to &quot;预制件（Prefab）&quot;">​</a></h1><p>预制件用于存储一些可以复用的场景对象，它可以包含节点、组件以及组件上的数据。由预制件生成的实例既可以继承模板的数据，又可以有自己定制化的数据修改。</p><h2 id="基础概念" tabindex="-1">基础概念 <a class="header-anchor" href="#基础概念" aria-label="Permalink to &quot;基础概念&quot;">​</a></h2><table><thead><tr><th style="text-align:left;">名称</th><th style="text-align:left;">说明</th><th style="text-align:left;">示例</th></tr></thead><tbody><tr><td style="text-align:left;">预制件资源</td><td style="text-align:left;">在 <strong>资源管理器</strong> 中的预制件资源，是预制件的序列化文件。</td><td style="text-align:left;"><img src="'+r+'" alt="prefab asset"></td></tr><tr><td style="text-align:left;">预制件实例</td><td style="text-align:left;">预制件资源被拖拽到 <strong>层级管理器</strong> 中就会生成一个预制件实例，它的根节点目前标记为暗绿色，它的子节点为亮绿色</td><td style="text-align:left;"><img src="'+o+'" alt="prefab instance"></td></tr><tr><td style="text-align:left;">预制件编辑模式</td><td style="text-align:left;">双击预制件资源，会进入预制件的编辑模式，此时所有的非嵌套预制件节点都显示为亮绿色。可点击 <strong>场景编辑器</strong> 左上方的按钮来 <strong>保存</strong> 修改或者 <strong>关闭</strong> 编辑模式</td><td style="text-align:left;"><img src="'+n+'" alt="prefab edit mode"></td></tr><tr><td style="text-align:left;">嵌套的预制件实例</td><td style="text-align:left;">一个预制件资源中的某个子节点是另一个预制件资源的实例，则这个子预制件实例就是一个嵌套的预制件实例</td><td style="text-align:left;"><img src="'+l+'" alt="nested prefab"></td></tr></tbody></table><h2 id="创建预制件" tabindex="-1">创建预制件 <a class="header-anchor" href="#创建预制件" aria-label="Permalink to &quot;创建预制件&quot;">​</a></h2><p>创建预制件有两种方法：</p><ol><li><p>在场景中将节点编辑好之后，直接将节点从 <strong>层级管理器</strong> 拖到 <strong>资源管理器</strong> 中即可完成预制件资源的创建。</p></li><li><p>点击 <strong>资源管理器</strong> 左上方的 <strong>+</strong> 按钮，或者点击面板空白处，然后选择 <strong>Node Prefab</strong> 即可。（v3.1.1 新增）</p><p><img src="'+i+'" alt="create"></p></li></ol><p>创建完成后，原节点自动变为该预制件的实例，根节点呈现 <strong>亮绿色</strong>，非嵌套预制件子节点呈现 <strong>暗绿色</strong>。</p><p><img src="'+g+'" alt="create prefab"></p><h2 id="v3-4-1-预制体更新说明" tabindex="-1">v3.4.1 预制体更新说明 <a class="header-anchor" href="#v3-4-1-预制体更新说明" aria-label="Permalink to &quot;v3.4.1 预制体更新说明&quot;">​</a></h2><p>在 v3.4.1 中我们对预制体资源增加了 <strong>Persistent</strong> 选项。该选项目前为引擎预留，开发者不必关心。其说明如下：</p><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">说明</th><th style="text-align:left;">默认值</th><th style="text-align:left;">可选项</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>Persistent</strong></td><td style="text-align:left;">标记该预制体是否需要同步</td><td style="text-align:left;"><strong>false</strong></td><td style="text-align:left;">true, false</td></tr></tbody></table><p><img src="'+d+'" alt="persistent"></p><h2 id="使用预制件" tabindex="-1">使用预制件 <a class="header-anchor" href="#使用预制件" aria-label="Permalink to &quot;使用预制件&quot;">​</a></h2><p>将预制件资源从 <strong>资源管理器</strong> 拖拽到 <strong>层级管理器</strong> 或 <strong>场景编辑器</strong>，即可在场景中生成一个预制件的实例。<br> 场景中的预制件实例对象，数据源来自预制件资源的反序列化，所以它的数据默认同步了预制件资源，如果对预制件实例中的各项属性进行修改，修改的数据会被存储在预制件实例中，所以不会影响到预制件资源和它生成的其它预制件实例的数据。</p><p><img src="'+c+'" alt="use prefab"></p><h2 id="进入预制件编辑模式" tabindex="-1">进入预制件编辑模式 <a class="header-anchor" href="#进入预制件编辑模式" aria-label="Permalink to &quot;进入预制件编辑模式&quot;">​</a></h2><p>在 <strong>资源管理器</strong> 中双击预制件资源可从场景编辑模式切换到预制件编辑模式。</p><p>此时可以在编辑器中编辑预制件资源，编辑完成之后，点击场景编辑器中的 <strong>保存</strong> 按钮即可保存编辑后的预制件资源，之后点击 <strong>关闭</strong> 按钮即可返回场景编辑模式。</p><blockquote><p><strong>注意</strong>：请尽量避免多人同时修改同一个 Prefab 资源，否则可能会导致冲突，且无法通过 <code>git</code> 合并解决冲突。</p></blockquote><p><img src="'+p+'" alt="prefab edit mode"></p><h2 id="预制件节点的状态" tabindex="-1">预制件节点的状态 <a class="header-anchor" href="#预制件节点的状态" aria-label="Permalink to &quot;预制件节点的状态&quot;">​</a></h2><p>预制件节点在 <strong>属性检查器</strong> 中呈现 <strong>绿色</strong> 时表示与资源关联正常；呈现 <strong>红色</strong> 则表示关联的资源丢失。</p><h2 id="场景中编辑预制件节点" tabindex="-1">场景中编辑预制件节点 <a class="header-anchor" href="#场景中编辑预制件节点" aria-label="Permalink to &quot;场景中编辑预制件节点&quot;">​</a></h2><h3 id="通用操作" tabindex="-1">通用操作 <a class="header-anchor" href="#通用操作" aria-label="Permalink to &quot;通用操作&quot;">​</a></h3><p>在 <strong>层级管理器</strong> 中选中预制件节点，<strong>属性检查器</strong> 的顶部便会出现几个可操作的按钮：</p><p><img src="'+A+'" alt="edit prefab"></p><table><thead><tr><th style="text-align:left;">按钮图标</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;"><img src="'+h+'" alt="unlink prefab button"></td><td style="text-align:left;">还原为普通节点。预制件节点可变为普通节点，即完全脱离和资源的关系。还可以通过点击 Creator 顶部菜单栏中的 <strong>节点 -&gt; 取消关联当前的 Prefab 资源</strong> 来实现。v3.4 支持批量取消关联。</td></tr><tr><td style="text-align:left;"><img src="'+f+'" alt="locate prefab button"></td><td style="text-align:left;">定位资源。便于快速在 <strong>资源管理器</strong> 中定位到预制件资源。</td></tr><tr><td style="text-align:left;"><img src="'+b+'" alt="revert prefab button"></td><td style="text-align:left;">从资源还原。将当前预制件实例的数据还原为预制件资源中的数据，其中名字、位置和旋转不会被还原为预制件资源中的数据。</td></tr><tr><td style="text-align:left;"><img src="'+m+'" alt="apply prefab button"></td><td style="text-align:left;">更新到资源。将当前预制件实例的所有数据更新到所关联的预制件资源中。</td></tr></tbody></table><h3 id="新增节点" tabindex="-1">新增节点 <a class="header-anchor" href="#新增节点" aria-label="Permalink to &quot;新增节点&quot;">​</a></h3><p>在预制件实例下增加的新节点，在节点名字的右下角会有一个 <strong>+</strong> 标志，它的数据存储在预制件的实例下，所以不会影响关联的预制件资源的数据。</p><p><img src="'+y+'" alt="prefab mounted children"></p><h3 id="新增组件" tabindex="-1">新增组件 <a class="header-anchor" href="#新增组件" aria-label="Permalink to &quot;新增组件&quot;">​</a></h3><p>在预制件实例下增加的新组件，在组件名字的后面会有一个 <strong>+</strong> 标志，它的数据存储在预制件的实例下，所以不会影响关联的预制件资源的数据。</p><p><img src="'+x+'" alt="instance add component"></p><h3 id="删除组件" tabindex="-1">删除组件 <a class="header-anchor" href="#删除组件" aria-label="Permalink to &quot;删除组件&quot;">​</a></h3><p>在预制件实例下删除 <strong>非预制件实例下新增的组件</strong>，会在 <strong>属性检查器</strong> 上增加一条删除的组件的数据，它的数据存储在预制件的实例下，所以不会影响关联的预制件资源的数据。</p><p><img src="'+P+'" alt="instance remove component"></p><p>同时会在这条数据后面出现以下两个按钮：</p><table><thead><tr><th style="text-align:left;">按钮图标</th><th style="text-align:left;">功能说明</th></tr></thead><tbody><tr><td style="text-align:left;"><img src="'+u+'" alt="revert remove component"></td><td style="text-align:left;">还原该删除的组件</td></tr><tr><td style="text-align:left;"><img src="'+B+'" alt="apply remove component"></td><td style="text-align:left;">将该删除的组件在预制件资源中同步删除</td></tr></tbody></table><h2 id="目前的一些限制" tabindex="-1">目前的一些限制 <a class="header-anchor" href="#目前的一些限制" aria-label="Permalink to &quot;目前的一些限制&quot;">​</a></h2><ul><li>不允许在预制件实例中删除从预制件资源中创建的节点</li><li>不允许在预制件实例中更改从预制件资源中创建的节点的层级关系</li><li>不允许预制件嵌套自己</li></ul>',41),Y=[R];function D(w,E,U,Z,q,G){return a(),e("div",null,Y)}const L=t(k,[["render",D]]);export{H as __pageData,L as default};
