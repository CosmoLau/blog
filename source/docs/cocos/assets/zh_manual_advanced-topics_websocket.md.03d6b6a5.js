import{_ as e,v as s,b as a,R as t}from"./chunks/framework.5ffcbaff.js";const D=JSON.parse('{"title":"WebSocket 客户端","description":"","frontmatter":{},"headers":[],"relativePath":"zh/manual/advanced-topics/websocket.md","filePath":"zh/manual/advanced-topics/websocket.md"}'),o={name:"zh/manual/advanced-topics/websocket.md"},n=t('<h1 id="websocket-客户端" tabindex="-1">WebSocket 客户端 <a class="header-anchor" href="#websocket-客户端" aria-label="Permalink to &quot;WebSocket 客户端&quot;">​</a></h1><p>原生环境支持 <a href="https://developer.mozilla.org/en-US/docs/Web/API/WebSocket/WebSocket" target="_blank" rel="noreferrer">Web 标准的</a> WebSocket 接口。</p><h2 id="差异" tabindex="-1">差异 <a class="header-anchor" href="#差异" aria-label="Permalink to &quot;差异&quot;">​</a></h2><p>在 v3.5 版本之前，Android 和 Windows 上的 WebSocket API 使用 <a href="https://github.com/warmcat/libwebsockets" target="_blank" rel="noreferrer">libwebsockets</a> 实现。需要开发者通过第三个参数指定 CA 文件路径：</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">wsInstance </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">WebSocket</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">wss://echo.websocket.org</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> []</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> caURL)</span><span style="color:#89DDFF;">;</span></span></code></pre></div><p>详情请参考 <a href="https://github.com/cocos/cocos-test-projects/blob/07f5671e18ef3ed4494d8cba6c2f9499766467a6/assets/cases/network/NetworkCtrl.ts#L113-L120" target="_blank" rel="noreferrer">示例代码</a>。可访问 <a href="https://curl.se/docs/caextract.html" target="_blank" rel="noreferrer">下载 CA 证书</a> 下载对应的证书。</p><p>在 v3.5 版本之后, Android 上不再强制要求提供证书。</p>',7),r=[n];function c(l,p,i,d,b,h){return s(),a("div",null,r)}const f=e(o,[["render",c]]);export{D as __pageData,f as default};
