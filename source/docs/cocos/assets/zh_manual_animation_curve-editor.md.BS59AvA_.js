import{_ as t,c as o,o as a,a5 as e}from"./chunks/framework.CqnjdYks.js";const s="/docs/cocos/assets/add-keyframe-to-curve.fBI27aLB.png",r="data:image/png;base64,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",i="/docs/cocos/assets/select-key.BU8l5pbW.gif",n="/docs/cocos/assets/move-keys.CjJKUCAC.gif",l="/docs/cocos/assets/scale-keys.9cJNH8wI.gif",d="/docs/cocos/assets/edit-key.A2LlO7-s.png",c="/docs/cocos/assets/interopMode.ub1euCF6.png",p="/docs/cocos/assets/interopMode-key.CLyxc0FM.gif",h="/docs/cocos/assets/linear.CawLodsB.png",b="/docs/cocos/assets/constant.DppRQ2t6.png",g="/docs/cocos/assets/cubic.q4M6Hph5.png",k="/docs/cocos/assets/tangentWeightMode-key.BbypkD12.gif",m="/docs/cocos/assets/tangentWeightMode.CAgBTJqu.png",N=JSON.parse('{"title":"曲线编辑器","description":"","frontmatter":{},"headers":[],"relativePath":"zh/manual/animation/curve-editor.md","filePath":"zh/manual/animation/curve-editor.md"}'),A={name:"zh/manual/animation/curve-editor.md"},u=e('<h1 id="曲线编辑器" tabindex="-1">曲线编辑器 <a class="header-anchor" href="#曲线编辑器" aria-label="Permalink to &quot;曲线编辑器&quot;">​</a></h1><p>曲线编辑器主要用于编辑关键帧之间变化的曲线轨迹，在编辑器中的 <a href="./animation-curve.html">动画</a> 和 <a href="./../particle-system/editor/curve-editor.html">粒子</a> 都使用了曲线编辑器来编辑关键帧曲线。</p><p>每一条曲线上的关键点，<strong>横坐标</strong> 表示关键帧时间/帧数，<strong>纵坐标</strong> 表示当前曲线属性在对应时间上的值。曲线编辑器支持同时编辑多条曲线，但在粒子的使用场景内目前只支持单条曲线编辑。</p><h2 id="缩放移动曲线显示区域" tabindex="-1">缩放移动曲线显示区域 <a class="header-anchor" href="#缩放移动曲线显示区域" aria-label="Permalink to &quot;缩放移动曲线显示区域&quot;">​</a></h2><ul><li>直接在曲线显示区域内滚动鼠标滚轮，即可同时放大或者缩小横纵时间轴的显示比例。</li><li>按住鼠标右键不放拖动也可以直接平移当前的显示区域范围。</li></ul><p>除此之外还可以结合快捷键来单独控制横纵时间轴的平移缩放：</p><ul><li>按住 <kbd>Shift</kbd> 不放后滚动鼠标滚轮，可以向左或向右 <strong>平移</strong> 曲线视图区域;</li><li>按住 <kbd>Ctrl</kbd>/<kbd>Cmd</kbd> + <kbd>Shift</kbd> 不放后滚动鼠标滚轮，可以向左或向右 <strong>缩放</strong> 曲线视图区域;</li><li>按住 <kbd>Alt</kbd>/<kbd>Option</kbd> 不放后滚动鼠标滚轮，可以向上或向下 <strong>平移</strong> 曲线视图区域;</li><li>按住 <kbd>Ctrl</kbd>+<kbd>Alt</kbd> / <kbd>Cmd</kbd>+<kbd>Option</kbd> 不放后滚动鼠标滚轮，可以向上或向下 <strong>缩放</strong> 曲线视图区域;</li></ul><h2 id="编辑曲线轨迹" tabindex="-1">编辑曲线轨迹 <a class="header-anchor" href="#编辑曲线轨迹" aria-label="Permalink to &quot;编辑曲线轨迹&quot;">​</a></h2><h3 id="添加关键帧" tabindex="-1">添加关键帧 <a class="header-anchor" href="#添加关键帧" aria-label="Permalink to &quot;添加关键帧&quot;">​</a></h3><ol><li><p>当只显示一条曲线轨迹时，可以在任意空白处右键点击，然后在弹出的菜单中选择 <strong>新建关键帧</strong> 即可。</p><p>以粒子编辑器中的曲线为例：</p><p><img src="'+s+'" alt="add-keyframe-to-curve.png"></p></li><li><p>对于动画组件，可以点击下图中的红框内的按钮添加关键帧:</p><p><img src="'+r+'" alt="add-keyframe.png"></p></li></ol><h3 id="选择关键帧" tabindex="-1">选择关键帧 <a class="header-anchor" href="#选择关键帧" aria-label="Permalink to &quot;选择关键帧&quot;">​</a></h3><p>直接点击关键帧，或者框选关键帧即可选中关键帧，被选中的关键帧将会显示为黄色。单独点选关键帧时，左右坐标轴上会显示当前关键帧的数值。</p><p><img src="'+i+'" alt="select-key"></p><h3 id="移动关键帧" tabindex="-1">移动关键帧 <a class="header-anchor" href="#移动关键帧" aria-label="Permalink to &quot;移动关键帧&quot;">​</a></h3><p>单击选中关键帧后直接拖动关键帧即可。</p><p><img src="'+n+'" alt="move-keys"></p><h3 id="缩放关键帧" tabindex="-1">缩放关键帧 <a class="header-anchor" href="#缩放关键帧" aria-label="Permalink to &quot;缩放关键帧&quot;">​</a></h3><p>框选多个关键帧后，拖动选中区域的边框可以整体缩放关键帧位置。</p><p><img src="'+l+'" alt="scale-keys"></p><h3 id="间隔排列关键帧" tabindex="-1">间隔排列关键帧 <a class="header-anchor" href="#间隔排列关键帧" aria-label="Permalink to &quot;间隔排列关键帧&quot;">​</a></h3><p>框选多个关键帧后，点击选中区域后，在弹出的菜单里选择 <strong>间隔排列选中关键帧</strong> 即可。</p><h3 id="移除关键帧" tabindex="-1">移除关键帧 <a class="header-anchor" href="#移除关键帧" aria-label="Permalink to &quot;移除关键帧&quot;">​</a></h3><p>选中关键帧后，直接按下 <kbd>Delete</kbd> 键（Windows）或者 <kbd>Cmd</kbd> + <kbd>Backspace</kbd>（macOS） 或者右键点击选中区域，在弹出的菜单中选择 <strong>删除</strong> 即可。</p><h3 id="复制粘贴关键帧" tabindex="-1">复制粘贴关键帧 <a class="header-anchor" href="#复制粘贴关键帧" aria-label="Permalink to &quot;复制粘贴关键帧&quot;">​</a></h3><ul><li><p>复制关键帧</p><p>选中关键帧后，右键点击选中区域并选择 <strong>复制</strong>，或者按下 <kbd>Ctrl</kbd>/<kbd>Cmd</kbd> + <kbd>C</kbd> 即可。</p></li><li><p>粘贴关键帧</p><p>在任意空白处，点击选中区域右键并选择 <strong>粘贴</strong>，或者直接使用快捷键 <kbd>Ctrl</kbd>/<kbd>Cmd</kbd> + <kbd>V</kbd> 即可。</p></li></ul><h3 id="编辑关键帧数据" tabindex="-1">编辑关键帧数据 <a class="header-anchor" href="#编辑关键帧数据" aria-label="Permalink to &quot;编辑关键帧数据&quot;">​</a></h3><p>在曲线编辑器内，关键帧的数值已经用可视化的方式显示，直接上下左右拖动关键帧本身实际上就是在修改关键帧数据。在一些需要精确控制关键帧数值的情况时，可以直接右键点击关键帧，在弹出的菜单中选择 <strong>编辑关键帧数据</strong> 后，将会显示一块编辑区域，修改后点击空白处即可应用。</p><p><img src="'+d+'" alt="edit-key"></p><h3 id="线性插值模式" tabindex="-1">线性插值模式 <a class="header-anchor" href="#线性插值模式" aria-label="Permalink to &quot;线性插值模式&quot;">​</a></h3><p>右键点击关键帧，在弹出的菜单中选择 <strong>线性插值模式</strong> 的对应值即可。线性插值模式将会影响当前关键帧到下一帧之间数值的变化方式，不同选项值会有不同的显示效果，具体可以参考下文的选项值介绍。</p><p><img src="'+c+'" alt="interopMode"></p><p><img src="'+p+'" alt="interopMode Key"></p><p>线性插值模式包括以下几个选项值：</p><ul><li><p><strong>Linear</strong>：线性模式，线性变化当前帧到下一关键帧之间的值，切线方向指向下一关键帧；</p><p><img src="'+h+'" alt="linear"></p></li><li><p><strong>Constant</strong>：常量模式，当前关键帧到下一个关键帧之间的变化保持为当前关键帧值不变；</p><p><img src="'+b+'" alt="constant"></p></li><li><p><strong>Cubic</strong>：自由曲线模式，当前帧到下一关键帧之间的值呈曲线变化。只有在当前模式下，点选关键帧才会出现左右切线控制杆；</p><p><img src="'+g+'" alt="cubic"></p></li></ul><h3 id="编辑关键帧切线" tabindex="-1">编辑关键帧切线 <a class="header-anchor" href="#编辑关键帧切线" aria-label="Permalink to &quot;编辑关键帧切线&quot;">​</a></h3><p>一个关键帧有左右两条切线，切线的长度和方向将会控制关键帧之间曲线的形状。<strong>Cubic</strong> 插值模式下，直接拖动左右两侧的切线控制点即可编辑。在不同的切线权重模式下，切线控制杆的可操作范围不同，具体可以参考切线权重模式的介绍。</p><h4 id="切线权重模式" tabindex="-1">切线权重模式 <a class="header-anchor" href="#切线权重模式" aria-label="Permalink to &quot;切线权重模式&quot;">​</a></h4><p>右键点击关键帧，即可看到线性插值模式的修改选项菜单，点击修改即可。仅在 <strong>线性插值模式</strong> 为 <strong>Cubic</strong> 的情况下，切线权重模式的值才会生效。</p><p>切线选项范围实际上主要是两种：</p><ul><li><p><strong>无权重模式</strong>。关键帧之间的变化采用 Hermite 算法，曲线的走向根据关键帧的左右切线方向而定。因而此时，关键帧的左右切线控制杆只能更改切线方向。此时的切线控制点只是为了方便修改方向而绘制显示的，因而缩放此时的曲线视图区域，切线控制杆长度也不会发生变化。</p></li><li><p><strong>权重模式</strong>。关键帧之间的变化采用贝塞尔算法，曲线的走向也受关键帧左右切点控制点影响。左切线控制点可以任意移动调整控制杆长度，此时的左切线控制点是真实的坐标点，缩放曲线视图区域控制杆也会同步缩放。</p><p><img src="'+k+'" alt="interopMode Key"></p></li></ul><p>关键帧有左右两切线，切线权重模式有以下选项值：</p><p><img src="'+m+'" alt="tangentWeightMode"></p><ul><li><code>None</code>：左右切线均为无权重模式。</li><li><code>Left</code>：左切线为权重模式，右切线为无权重模式。</li><li><code>Right</code>：右切线为权重模式，左切线为无权重模式。</li><li><code>Both</code>：左右切线均为权重模式。</li></ul><h4 id="broken" tabindex="-1">Broken <a class="header-anchor" href="#broken" aria-label="Permalink to &quot;Broken&quot;">​</a></h4><p>默认情况下关键帧的左右切线斜率是保持一致的，调整任何一边的切线控制杆另一边都会跟随调整，这让我们更容易调整出过渡更加自然的曲线。但在一些情况下，我们希望曲线并不总是平和过渡，此时便可以右键点击关键帧，然后选择菜单中的 Broken 选项，断开关键帧左右控制杆的关联，断开后即可分开调整关键帧的左右控制杆。</p><h3 id="上下移动曲线" tabindex="-1">上下移动曲线 <a class="header-anchor" href="#上下移动曲线" aria-label="Permalink to &quot;上下移动曲线&quot;">​</a></h3><p>双击选中整条曲线后可以直接上下拖动整条曲线。</p>',47),f=[u];function x(q,y,C,P,v,z){return a(),o("div",null,f)}const M=t(A,[["render",x]]);export{N as __pageData,M as default};
