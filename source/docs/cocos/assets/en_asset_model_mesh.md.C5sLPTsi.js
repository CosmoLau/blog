import{_ as t,c as e,o,a4 as l}from"./chunks/framework.uQk9_EO2.js";const a="/docs/cocos/assets/mesh_list.fpDJqaBi.png",s="/docs/cocos/assets/mesh_list_1.C6kUIjqG.png",i="/docs/cocos/assets/mesh-asset-preview.D-SzkUqZ.png",r="/docs/cocos/assets/mesh_use.sDpMlw0f.gif",n="/docs/cocos/assets/mesh-model.Cz5wfzRx.jpg",d="/docs/cocos/assets/mesh-advopts.f-kwMuqb.jpg",h="/docs/cocos/assets/mesh_animation.CE6w-cGL.png",m="/docs/cocos/assets/mesh_material.CrTGjmsL.png",c="/docs/cocos/assets/mesh_fbx.DVBg6meV.png",M=JSON.parse('{"title":"Model Assets","description":"","frontmatter":{},"headers":[],"relativePath":"en/asset/model/mesh.md","filePath":"en/asset/model/mesh.md","lastUpdated":1712305443000}'),f={name:"en/asset/model/mesh.md"},p=l('<h1 id="model-assets" tabindex="-1">Model Assets <a class="header-anchor" href="#model-assets" aria-label="Permalink to &quot;Model Assets&quot;">​</a></h1><p>Currently, Creator supports model files in <strong>FBX</strong> and <strong>glTF</strong> formats.</p><ul><li>FBX: FBX 2020 and earlier file formats are supported.</li><li>glTF: glTF 2.0 and earlier file formats are supported, please refer to the <a href="./glTF">glTF models</a> documentation for details.</li></ul><p>For how to export these two model files from third-party tools, please refer to the <a href="./dcc-export-mesh">Importing Models Exported from DCC Tools</a> documentation.</p><h2 id="model-import" tabindex="-1">Model Import <a class="header-anchor" href="#model-import" aria-label="Permalink to &quot;Model Import&quot;">​</a></h2><p>After importing into the editor, from the outside, the corresponding model asset file can be obtained in the <strong>Assets</strong> panel. It&#39;s directory structure is as follows:</p><ul><li><p>The structure of a model file without animations is as follows:</p><p><img src="'+a+'" alt="mesh_list"></p></li><li><p>The structure of the model file that contains animations is as follows:</p><p><img src="'+s+'" alt="mesh_list"></p><ul><li><code>.material</code> -- Material files</li><li><code>.mesh</code> -- Model files</li><li><code>.texture</code> -- Model texture files</li><li><code>.animation</code> -- Model animation files</li><li><code>.skeleton</code> -- Model bone files</li><li><code>.prefab</code> -- Prefab files that are automatically generated on import</li></ul></li></ul><h3 id="mesh-file" tabindex="-1">Mesh File <a class="header-anchor" href="#mesh-file" aria-label="Permalink to &quot;Mesh File&quot;">​</a></h3><p>Mesh File contains vertices, index, and texture coordinate data. When a mesh file is selected in the <strong>Assets</strong>, the <strong>Inspector</strong> will show the information of the mesh, also the mesh can be previewed in the bottom panel.</p><p><img src="'+i+'" alt="Mesh Asset"></p><table><thead><tr><th style="text-align:left;">Property</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;">Vertices</td><td style="text-align:left;">number of vertices</td></tr><tr><td style="text-align:left;">Triangles</td><td style="text-align:left;">number of triangle</td></tr><tr><td style="text-align:left;">UV</td><td style="text-align:left;">indices of texture coordinate</td></tr><tr><td style="text-align:left;">MinPos</td><td style="text-align:left;">minimum position of mesh</td></tr><tr><td style="text-align:left;">MaxPos</td><td style="text-align:left;">maximum position of mesh</td></tr></tbody></table><h2 id="using-models" tabindex="-1">Using Models <a class="header-anchor" href="#using-models" aria-label="Permalink to &quot;Using Models&quot;">​</a></h2><p>After importing a <strong>model</strong> file, drag the <strong>root node</strong> of the <strong>model</strong> file directly from the <strong>Assets</strong> panel to the <strong>node</strong> you want to place in the <strong>Hierarchy</strong> panel to complete the node creation. At this point the model is successfully created in the scene. <br> Alternatively, to expand the node of the <strong>model</strong> file, select the <code>.prefab</code> file under the model file node, and drag it from the <strong>Assets</strong> panel into the <strong>Hierarchy</strong> panel to complete the creation.</p><p><img src="'+r+'" alt="mesh_use"></p><h2 id="model-asset-properties" tabindex="-1">Model asset Properties <a class="header-anchor" href="#model-asset-properties" aria-label="Permalink to &quot;Model asset Properties&quot;">​</a></h2><p>When the model asset file (<code>.fbx</code> or <code>.gltf</code>) is selected in the <strong>Assets</strong> panel, the properties of the model asset can be set in the <strong>Inspector</strong> panel.</p><p>There are four tabs to choose from:</p><table><thead><tr><th style="text-align:left;">Tab</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>Model</strong></td><td style="text-align:left;">Used to set options related to model mesh import.</td></tr><tr><td style="text-align:left;"><strong>Animation</strong></td><td style="text-align:left;">Used to view and edit model animation clips.</td></tr><tr><td style="text-align:left;"><strong>Material</strong></td><td style="text-align:left;">Used to set options related to the import of model materials.</td></tr><tr><td style="text-align:left;"><strong>FBX</strong></td><td style="text-align:left;">Used to set options related to FBX file.</td></tr></tbody></table><h3 id="model" tabindex="-1">Model <a class="header-anchor" href="#model" aria-label="Permalink to &quot;Model&quot;">​</a></h3><p><img src="'+n+'" alt="mesh_model"></p><table><thead><tr><th style="text-align:left;">Property</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;">Normals</td><td style="text-align:left;">Normals import setting, including the following four options:<br>1. <strong>Optional</strong>: Import normals only if the model file contains normals.<br>2. <strong>Exclude</strong>: Do not import normals.<br>3. <strong>Required</strong>: Import normals that are contained in the model file, or recalculate if not contained. It is recommended to use this option if the model data itself is fine, without additional processing.<br>4. <strong>Recalculate</strong>: Recalculate normals and import, ignoring whether if the model file contain normals. Selecting this option will increase the calculated amount, but it will eliminate the subsequent problems caused by the absence of normalization of the model&#39;s original normal data.</td></tr><tr><td style="text-align:left;">Tangents</td><td style="text-align:left;">Tangents import setting, including Optional, Exclude, Require and Recalculate four options, option feature can refer to the description of <strong>Normals</strong>, the two are not very different.</td></tr><tr><td style="text-align:left;">Morph Normals</td><td style="text-align:left;">Import the deformation normal information, including: <br><strong>Optional</strong>: Import only the deformation normals contained in the model file, for cases where you know your model data very well.<br><strong>Exclude</strong>: Not to import deformation normals.</td></tr><tr><td style="text-align:left;">Skip Validation</td><td style="text-align:left;">Skip validation of the model file.</td></tr><tr><td style="text-align:left;">Disable mesh split</td><td style="text-align:left;">Currently there is a joint-counting-based mesh splitting process during the import pipeline to workaround the max uniform vector limit problem for real-time calculated skeletal animation system on many platforms. This process has a preference impact on other runtime system too. So if it can be pre-determined that the real-time calculated skeletal animations (when <code>useBakedAnimation</code> option of the <strong>SkeletalAnimation</strong> component is unchecked) will not be used, this option can be checked to improve preference. But note that toggling this would update the corresponding prefab, so all the references in the scene should be updated as well to accompany that. <br> Please refer to the following for details.</td></tr><tr><td style="text-align:left;">Allow Data Access</td><td style="text-align:left;">Identifies whether all mesh data in this model can be read or written. If unchecked, the grid data will be automatically released after it is committed to the CPU</td></tr><tr><td style="text-align:left;">Promote Single Root Node</td><td style="text-align:left;">If enabled and there is only one root node at the top of the model scene, then that node will be the root node of the Prefab, otherwise all root nodes of the scene will be the children of the Prefab</td></tr></tbody></table><h3 id="disable-mesh-split" tabindex="-1">Disable Mesh Split <a class="header-anchor" href="#disable-mesh-split" aria-label="Permalink to &quot;Disable Mesh Split&quot;">​</a></h3><p>The policy for Disable mesh split in v3.6 is as follows：</p><ul><li>By default, the model is not split and no changes are made to the imported model data (the previous model settings are also maintained)</li><li>If the number of bones does not exceed the actual runtime drive limit, pass it directly using uniform</li><li>If the number of bones exceeds the limit, use texture pass</li></ul><p><img src="'+d+'" alt="mesh-advopts"></p><h3 id="mesh-optimize" tabindex="-1">Mesh Optimize <a class="header-anchor" href="#mesh-optimize" aria-label="Permalink to &quot;Mesh Optimize&quot;">​</a></h3><table><thead><tr><th style="text-align:left;">Property</th><th style="text-align:left;">Desc</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>Vetex Cache</strong></td><td style="text-align:left;">Reorder triangles to improve the vertex cache hit rate.</td></tr><tr><td style="text-align:left;"><strong>Vertex Fetch</strong></td><td style="text-align:left;">Reorder triangles to improve the vertex fetch efficiency.</td></tr><tr><td style="text-align:left;"><strong>Overdraw</strong></td><td style="text-align:left;">Reorder triangles to reduce overdraw.</td></tr></tbody></table><blockquote><p>It is recommended to enable the above options for meshes with high vertex count. If multiple options are enabled simultaneously, the optimization algorithm will automatically adjust parameters to achieve the best result.</p></blockquote><h3 id="mesh-simplify" tabindex="-1">Mesh Simplify <a class="header-anchor" href="#mesh-simplify" aria-label="Permalink to &quot;Mesh Simplify&quot;">​</a></h3><table><thead><tr><th style="text-align:left;">Property</th><th style="text-align:left;">Desc</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>Target Ratio</strong></td><td style="text-align:left;">Target ratio of the simplified mesh data, recommended to set to 0.5</td></tr><tr><td style="text-align:left;"><strong>Auto Error Rate</strong></td><td style="text-align:left;">Whether to calculate the error rate automatically</td></tr><tr><td style="text-align:left;"><strong>Error Rate</strong></td><td style="text-align:left;">Tune it until you get a good result</td></tr><tr><td style="text-align:left;"><strong>Lock Boundary</strong></td><td style="text-align:left;">Whether to lock the boundary of the simplified mesh data</td></tr></tbody></table><blockquote><p>The known issue is that there may be a loss of UV layout after mesh reduction. Developers should pay attention to warnings at the bottom of the inspector to determine whether to use this option.</p></blockquote><h3 id="mesh-cluster" tabindex="-1">Mesh Cluster <a class="header-anchor" href="#mesh-cluster" aria-label="Permalink to &quot;Mesh Cluster&quot;">​</a></h3><table><thead><tr><th style="text-align:left;">Property</th><th style="text-align:left;">Desc</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>Generate Bounding</strong></td><td style="text-align:left;">Whether to generate bounding sphere and normal cone for clustered mesh</td></tr></tbody></table><h3 id="mesh-compress" tabindex="-1">Mesh Compress <a class="header-anchor" href="#mesh-compress" aria-label="Permalink to &quot;Mesh Compress&quot;">​</a></h3><table><thead><tr><th style="text-align:left;">Property</th><th style="text-align:left;">Desc</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>Encode</strong></td><td style="text-align:left;">Encode to binary format to reduce file size</td></tr><tr><td style="text-align:left;"><strong>Compress</strong></td><td style="text-align:left;">Use zlib, which is based on LZ777 and Huffman coding, for compression</td></tr><tr><td style="text-align:left;"><strong>Quantize</strong></td><td style="text-align:left;">Quantize the mesh data, compress float-point values to reduce file size</td></tr></tbody></table><h3 id="lods" tabindex="-1">LODS <a class="header-anchor" href="#lods" aria-label="Permalink to &quot;LODS&quot;">​</a></h3><p>The mesh importer will automatically take sub-meshes end with _lodN as a LOD node, if none, you can use the auto LOD by checking the LOD check box.</p><p>The LOD1 and LOD2 options are used to set the ratios of the triangle count for different levels.</p><p>For more, please refer to <a href="./../../editor/rendering/lod">Level Of Details</a>.</p><blockquote><p>The algorithm details for the above options can be found in the open-source library: <a href="https://github.com/zeux/meshoptimizer" target="_blank" rel="noreferrer">https://github.com/zeux/meshoptimizer</a></p></blockquote><h3 id="animation" tabindex="-1">Animation <a class="header-anchor" href="#animation" aria-label="Permalink to &quot;Animation&quot;">​</a></h3><p><img src="'+h+'" alt="mesh_animation"></p><p>The above image is all the animation asset information under the current model, and the editing area of ​​the specific frame number information of the currently selected animation. You can change the animation name or perform simple animation cropping here. To do so:</p><ul><li><p>Click the <strong>+</strong> button in the red box on the image to add an animation clip asset. The new file added by default copies a complete clip data. You can input the number of frames in the <code>Start</code> and <code>End</code> input box to crop the animation. (Drag and drop animation is not currently supported)</p></li><li><p>Click the <strong>-</strong> button in the red box on the image to delete the currently selected animation file</p></li></ul><h3 id="material" tabindex="-1">Material <a class="header-anchor" href="#material" aria-label="Permalink to &quot;Material&quot;">​</a></h3><p><img src="'+m+'" alt="mesh_material"></p><p>The top half of the properties are described below, while the bottom half shows the materials contained in the current model.</p><table><thead><tr><th style="text-align:left;">Property</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;">Dump material</td><td style="text-align:left;">It is possible to customize or modify the material that comes with the model file. Enable this option to dump the material files in the file structure directory out of the model assets for modifying the materials.</td></tr><tr><td style="text-align:left;">Material dumper directory</td><td style="text-align:left;">Specify or view the directory location for the dumped files.</td></tr><tr><td style="text-align:left;">Use vertex colors</td><td style="text-align:left;">Whether to use vertex colors.</td></tr><tr><td style="text-align:left;">Depth-write if blending</td><td style="text-align:left;">Enable depth-write when Alpha mode is <strong>Blend</strong>.</td></tr></tbody></table><h3 id="fbx" tabindex="-1">FBX <a class="header-anchor" href="#fbx" aria-label="Permalink to &quot;FBX&quot;">​</a></h3><p><img src="'+c+'" alt="mesh material"></p><table><thead><tr><th style="text-align:left;">Property</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;">Animation Baking Rate</td><td style="text-align:left;">Units are <strong>frames per second</strong> and options include <strong>auto</strong>, <strong>24</strong>, <strong>25</strong>, <strong>30</strong> and <strong>60</strong>.</td></tr><tr><td style="text-align:left;">Promote single root node</td><td style="text-align:left;">When this option is enabled, if the FBX asset contains a scene with only one root node, that root node will be used as the root node of the prefab when converting the FBX scene to a Creator&#39;s prefab. Otherwise, the FBX scene will be used as the root node.</td></tr><tr><td style="text-align:left;">Prefer Local Time Span</td><td style="text-align:left;">If this option is checked, imported FBX animations will use the animation time range recorded in the FBX file as a priority. <br>If this option is not checked, the animation time range from the FBX will not be used, and the animation time range will be calculated roughly. <br>Some FBX tools may not export animation time range information, so the animation time range is also calculated roughly.</td></tr></tbody></table>',51),g=[p];function u(y,b,x,w,_,k){return o(),e("div",null,g)}const P=t(f,[["render",u]]);export{M as __pageData,P as default};
