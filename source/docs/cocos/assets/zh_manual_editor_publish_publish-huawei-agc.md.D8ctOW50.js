import{_ as e,c as r,o,a5 as t}from"./chunks/framework.CqnjdYks.js";const a="/docs/cocos/assets/app-info.CRXkwlw9.png",n="/docs/cocos/assets/agc-builder.BCqwr7zy.png",s="/docs/cocos/assets/sdkhub.CRX7pKCG.png",p="/docs/cocos/assets/apk.D8UGpmZn.png",l="/docs/cocos/assets/agc-upload-panel.tcqsAEZA.png",c="/docs/cocos/assets/upload-oauth.D6Vo17Vm.png",i="/docs/cocos/assets/upload-api.tHuyAQnM.png",g="/docs/cocos/assets/create-api-key.CpLaUAej.png",h="/docs/cocos/assets/apk-list.BlGSPTQJ.png",G=JSON.parse('{"title":"发布到 HUAWEI AppGallery Connect","description":"","frontmatter":{},"headers":[],"relativePath":"zh/manual/editor/publish/publish-huawei-agc.md","filePath":"zh/manual/editor/publish/publish-huawei-agc.md"}'),d={name:"zh/manual/editor/publish/publish-huawei-agc.md"},u=t('<h1 id="发布到-huawei-appgallery-connect" tabindex="-1">发布到 HUAWEI AppGallery Connect <a class="header-anchor" href="#发布到-huawei-appgallery-connect" aria-label="Permalink to &quot;发布到 HUAWEI AppGallery Connect&quot;">​</a></h1><p>Cocos Creator 支持将游戏发布到 <strong>HUAWEI AppGallery Connect</strong>，帮助开发者接入到华为的应用市场。</p><h2 id="准备工作" tabindex="-1">准备工作 <a class="header-anchor" href="#准备工作" aria-label="Permalink to &quot;准备工作&quot;">​</a></h2><ul><li><p>进入 <a href="https://developer.huawei.com/consumer/cn/service/josp/agc/index.html" target="_blank" rel="noreferrer">AppGallery Connect 后台</a> 并登录，需要先完成 <a href="https://developer.huawei.com/consumer/cn/doc/20300" target="_blank" rel="noreferrer">开发者注册</a>，然后再 <a href="https://developer.huawei.com/consumer/cn/doc/distribution/app/agc-create_app" target="_blank" rel="noreferrer">创建应用</a>。创建应用时，<strong>软件包类型</strong> 选择 <strong>APK</strong>。</p><p><img src="'+a+'" alt="app info"></p></li><li><p>通过 Cocos Service 面板接入所需的 HUAWEI AppGallery Connect 相关服务。目前 SDK 仅支持 <strong>Android</strong> 平台，具体的操作步骤可参考文档 <a href="https://service.cocos.com/document/zh/sdkhub-plugins/sdkhub-hms.html" target="_blank" rel="noreferrer">HUAWEI HMS Core</a>。</p></li></ul><h2 id="发布流程" tabindex="-1">发布流程 <a class="header-anchor" href="#发布流程" aria-label="Permalink to &quot;发布流程&quot;">​</a></h2><p>使用 Cocos Creator 打开需要发布的项目工程，从 <strong>菜单栏 -&gt; 项目</strong> 中打开 <strong>构建发布</strong> 面板，<strong>发布平台</strong> 项选择 <strong>HUAWEI AppGallery Connect</strong>。</p><p><img src="'+n+'" alt="agc-build"></p><p>通用构建选项的设置请参考 <a href="./build-options.html">构建选项</a>，需要注意的是请确保 <strong>包名</strong> 与华为后台设置的包名一致。</p><ul><li><p><strong>agconnect-services 配置</strong>：用于配置华为参数文件 <code>agconnect-services.json</code>，具体的配置方法请参考 <a href="https://service.cocos.com/document/zh/sdkhub-plugins/sdkhub-hms.html#%E9%85%8D%E7%BD%AE%E5%8D%8E%E4%B8%BA%E5%8F%82%E6%95%B0%E6%96%87%E4%BB%B6" target="_blank" rel="noreferrer">配置华为参数文件</a>。</p></li><li><p><strong>Cocos SDKHub 配置集</strong>：在 Cocos Service 服务面板开通 Cocos SDKHub 服务之后，<strong>构建发布</strong> 面板中就会出现该选项，用于帮助游戏快速集成渠道。</p><p><img src="'+s+'" alt="sdkhub"></p></li></ul><h3 id="构建编译" tabindex="-1">构建编译 <a class="header-anchor" href="#构建编译" aria-label="Permalink to &quot;构建编译&quot;">​</a></h3><p><strong>构建发布</strong> 面板的相关参数项设置完成后，点击 <strong>构建</strong>。<br> 构建完成后点击 <strong>构建任务</strong> 左下角的文件夹图标按钮打开构建发布包，可以看到在默认发布路径 build 目录下生成了 <code>huawei-agc</code> 目录，其中已经自动集成了 HUAWEI AppGallery Connect 相关服务。</p><p>然后点击 <strong>生成</strong>，或者使用 <a href="./native-options.html#生成和运行">Android Studio</a> 打开项目进行编译，编译完成后在发布包目录下会生成 HUAWEI AppGallery Connect 的 APK。</p><p><img src="'+p+'" alt="apk"></p><h3 id="上传-apk-到-appgallery-connect" tabindex="-1">上传 APK 到 AppGallery Connect <a class="header-anchor" href="#上传-apk-到-appgallery-connect" aria-label="Permalink to &quot;上传 APK 到 AppGallery Connect&quot;">​</a></h3><p>有以下两种方式可以将 APK 上传到 AppGallery Connect。</p><h4 id="_1-通过构建发布面板上传" tabindex="-1">1. 通过构建发布面板上传 <a class="header-anchor" href="#_1-通过构建发布面板上传" aria-label="Permalink to &quot;1. 通过构建发布面板上传&quot;">​</a></h4><p>Creator 支持直接将构建编译生成的 APK 上传到 AppGallery Connect 后台。<br> 点击 <strong>构建任务</strong> 右下角的 <strong>上传</strong> 按钮，即可打开 <strong>上传</strong> 面板，然后填写相关信息。</p><p><img src="'+l+'" alt="agc-upload-panel"></p><ul><li><p>APP ID：填写应用的 APP ID。登录 AppGallery Connect 后台，选择 <strong>我的应用 -&gt; 应用信息</strong>，即可获取应用的 APP ID。</p></li><li><p>版本号：根据需要填写。</p></li><li><p>APK 路径：选择之前构建编译生成的 APK。</p></li><li><p>登录方式：包括 <strong>OAuth</strong> 和 <strong>API 客户端</strong> 两种。</p><ul><li><p><strong>OAuth</strong></p><p>OAuth 登录方式只需要在点击 <strong>确认上传</strong> 的时候，根据提示登录 HUAWEI 账号（账号需要有足够的 <a href="https://developer.huawei.com/consumer/cn/doc/development/AppGallery-connect-Guides/agcapi-getstarted-0000001111845114#section797720532313" target="_blank" rel="noreferrer">权限</a>），然后勾选对应权限的允许框，窗口会自动关闭并自动上传 APK。</p><p><img src="'+c+'" alt="upload-oauth"></p></li><li><p><strong>API 客户端</strong></p><ul><li><p>若首次使用 <strong>API 客户端</strong> 登录方式，需要登录 AppGallery Connect 后台获取相关配置信息。</p><p><img src="'+i+'" alt="upload-api"></p></li><li><p>选择 <strong>用户与访问 -&gt; Connect API -&gt; 创建</strong>，创建一个 API 客户端，并根据需要选择 <a href="https://developer.huawei.com/consumer/cn/doc/distribution/app/agc-help-rolepermission-0000001155345429" target="_blank" rel="noreferrer">权限</a>，然后点击 <strong>确认</strong>。</p><p><img src="'+g+'" alt="create-api-key"></p></li><li><p>将 API 客户端的 <strong>客户端 ID</strong> 和 <strong>密钥</strong> 填入 Creator <strong>上传</strong> 面板中的对应输入框。</p></li><li><p>配置完成后点击 <strong>确认上传</strong> 即可。</p></li></ul></li></ul><p>两种登录方式的详细说明可参考文档 <a href="https://developer.huawei.com/consumer/cn/doc/development/AppGallery-connect-Guides/agcapi-getstarted" target="_blank" rel="noreferrer">AppGallery Connect 使用入门</a>。</p></li></ul><h4 id="_2-通过-appgallery-connect-后台上传" tabindex="-1">2. 通过 AppGallery Connect 后台上传 <a class="header-anchor" href="#_2-通过-appgallery-connect-后台上传" aria-label="Permalink to &quot;2. 通过 AppGallery Connect 后台上传&quot;">​</a></h4><p>在 AppGallery Connect 后台进入 <strong>我的应用</strong>，选择应用，切换到 <strong>分发</strong> 栏。然后点击左侧的 <strong>版本信息 -&gt; 准备提交</strong>，找到软件版本，点击 <strong>软件包管理</strong>，然后点击 <strong>上传</strong>。</p><h3 id="提交审核" tabindex="-1">提交审核 <a class="header-anchor" href="#提交审核" aria-label="Permalink to &quot;提交审核&quot;">​</a></h3><ol><li><p>在 AppGallery Connect 后台进入 <strong>我的应用</strong>，选择应用，切换到 <strong>分发</strong> 栏。然后点击左侧的 <strong>版本信息 -&gt; 准备提交</strong>，找到软件版本，点击 <strong>软件包管理</strong>，选中刚刚上传的 APK，然后点击 <strong>选取</strong>。</p><p><img src="'+h+'" alt="apk-list"></p></li><li><p>其他的配置信息填写可参考文档 <a href="https://developer.huawei.com/consumer/cn/doc/distribution/app/agc-release_app" target="_blank" rel="noreferrer">发布应用</a>。填写完成确认各个信息没有问题后，便可以直接点击页面右上方的 <strong>提交审核</strong> 按钮。华为应用市场将在 <strong>3~5</strong> 个工作日内完成审核。</p></li></ol><h2 id="相关参考链接" tabindex="-1">相关参考链接 <a class="header-anchor" href="#相关参考链接" aria-label="Permalink to &quot;相关参考链接&quot;">​</a></h2><ul><li><a href="https://developer.huawei.com/consumer/cn/service/josp/agc/index.html" target="_blank" rel="noreferrer">AppGallery Connect 后台</a></li><li><a href="https://developer.huawei.com/consumer/cn/doc/distribution/app/agc-create_app" target="_blank" rel="noreferrer">AppGallery Connect 操作指南</a></li></ul>',25),m=[u];function A(_,b,f,C,k,P){return o(),r("div",null,m)}const E=e(d,[["render",A]]);export{G as __pageData,E as default};
