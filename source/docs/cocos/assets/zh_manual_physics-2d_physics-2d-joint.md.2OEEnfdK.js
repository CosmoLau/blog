import{_ as t,c as e,o as s,a5 as o}from"./chunks/framework.CqnjdYks.js";const n="/docs/cocos/assets/joint-with-body.DAnMYEC5.png",r="/docs/cocos/assets/add-joint.9Aas7zUQ.png",l="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAlCAIAAABZK/egAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAEXRFWHRTb2Z0d2FyZQBTbmlwYXN0ZV0Xzt0AAAJlSURBVFiF7dexi9NgFADwd82XGOi39EBaxekyZRBuOHG4Dv4DhSOj9D9wdOhBXYV2d3Fy0y0IBy4iyBlxKUI5IVM6FIeE8xKQqLk0QYdXPtukafPlormhb0rTNvnx8t77vuw8Or337P5rqDpqVQPmsXUsx9axHFvHclwXB+H9w8CS8eCjRwCgpwQA0G5E/8lheMRwyXAiA4BKY3a+M6Lo6CnBVTS5HANLRoHWDLXWLPGt6Qu6I3ZG9OTAL0zZ7EDESgGGSuM+jXVb7Ixoby84VoLyHRsRLPAHmLYClA2OnIg05fKl+P5UKsfRGVGVxjkRjKI70nAiP74bPoCwBIfhEcMj/dwZ1m0RxSqNTV94cvQTjvIzNs2xxRZdvGV3XO+O67ot4pnuuK4786eAdDZmckZ2PlyShWC3xAOtNUvXUHuXr4Ez84HjcoXDkdIfEwiVxkPOfFyX9SXT0UtVqOkLui2p9aWHpTU5mmJNrKsP0xeYAI9VGmutkJVI1mgxfeHkwC/HcawEw4n8fHrjpvQbBaxstdZszVBh+nIchksOG9EHj/SVYGXjZIXuiL097rV3RX0YLhlYsuGRh7dDADB9jlrWbdH0Bd6mhUQ+DJcYHgGAdiPCa01/1eYrfo7pjnVTIBl/HWkBBq6ceSgMUXDdd6J9nMEJQZpi/hC05ixdK6x9CiMAgDjxfpZgkdLejYaW/NRK7guxO64iwNjhet/HZ8dm9mEjgkK7nnTw7dexANucMypP1ADg28X30q9bxPHm3eeqGVADgE9nF5chx+bvXzlu3VFevHpbvYMQafTlfPr1vELHHxS1I0aun0VKAAAAAElFTkSuQmCC",a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAiCAIAAABa5/erAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAEXRFWHRTb2Z0d2FyZQBTbmlwYXN0ZV0Xzt0AAAJMSURBVEiJ7dY/a9tAFADwl1YEGUSR60W3uDKoXTJITkvx4EVDQXjubOO2Y6Z8jUKmzE2TD+F6KAiKhxRqy+pWclTqUE6LIg+CqCbQDkckV9ZJ57QEWvImcTz7p6f7827r54/vcCNx52aYW+mfkQSepBi7MZ4DgKQZACBp+qbM5FzYKl/lwfg4GJ+sj0uarlgDHnJyLkwiAQCYUmrIbbOGVBG16HhCvMixASAhvrZ3UIKlRrd+2b1/WSxRRm6b9V2T9UfRzF44tqTp2t5BuUEHCyTKoN4wrYMVCfHI6Eix+oo1KDFo5FdEjF1OBgBE1EK9IRkdAQB++pJlFEv4cF9umzxMiuHOq7df7yoPBZZRIAXjYwAomZtcnC4bp8sGPHhknL22zi7Sb1gtxdgVkVqYF83sJPAAAPVeZAZAZzvsbIdR814wPtlMQr3hehIZvUmIT5/fffz8Zed5aqQ5lXsrk2LsFmYkxKPMvPF43ngCS+h+e/9sp7maU0MqcewYuyVe9Wl0Qfz02Qg/GeFUbpsATeYPGJGdsPR1Vv+XRu1q5oxwaoTT1ZFrSqwQUUtuZ6uxcA/Q9yufqt++nmL1F+4HgPwqr++atA7WPksCr3JF5GtKiB/N7PU8EbWYDPES4pcv8bxEGwHdN/wRObak6RvXpFgDVlnFzMzmKahAkjRdsfoLx+bBaONQrD5PSyzuTzF28eG+iNQ647SlBgCstozrSHB1d6BtV0SqqGReakiawX+nqLhHxNilB3x6VtHJ38jgkv5i/I83y1vpT+IXAuYjTqiteVUAAAAASUVORK5CYII=",i="/docs/cocos/assets/distance-joint-gizmo.C5czHwET.png",d="/docs/cocos/assets/distance-joint-dis.VVCfYn07.png",g="/docs/cocos/assets/distance-joint.D2APznCI.gif",c="/docs/cocos/assets/distance-joint-dis.DZVBcvfF.gif",h="/docs/cocos/assets/fixed-joint.C3mNmp_C.png",p="/docs/cocos/assets/fixed-joint.B3aBEYUc.gif",f="/docs/cocos/assets/hinge-joint.qmlkaMVU.png",x="/docs/cocos/assets/hinge-joint.BH9hIqhx.gif",y="/docs/cocos/assets/motor-speed.BRJOxLUM.png",A="/docs/cocos/assets/hinge-joint-motor.CopVufTq.gif",m="/docs/cocos/assets/relative-joint.C2-HesLd.png",b="/docs/cocos/assets/relative-joint.Dxs9uOOC.gif",u="/docs/cocos/assets/slider-joint.C8P2mmh_.png",_="/docs/cocos/assets/slider-joint.CKDQuOeE.gif",q="/docs/cocos/assets/spring-joint.DgtqbCVY.png",C="/docs/cocos/assets/spring-joint.CyQADNRD.gif",D="/docs/cocos/assets/wheel-joint.Bi-uj5_4.png",P="/docs/cocos/assets/wheel-joint.T_Nb7o03.gif",H=JSON.parse('{"title":"2D 关节组件","description":"","frontmatter":{},"headers":[],"relativePath":"zh/manual/physics-2d/physics-2d-joint.md","filePath":"zh/manual/physics-2d/physics-2d-joint.md"}'),k={name:"zh/manual/physics-2d/physics-2d-joint.md"},V=o('<h1 id="_2d-关节组件" tabindex="-1">2D 关节组件 <a class="header-anchor" href="#_2d-关节组件" aria-label="Permalink to &quot;2D 关节组件&quot;">​</a></h1><p>物理系统包含了一系列用于链接两个刚体的关节组件。关节组件可以用来模拟真实世界物体间的交互，比如铰链，活塞、绳子、轮子、滑轮、机动车、链条等。学习如何使用关节组件可以创建一个真实有趣的场景。</p><blockquote><p><strong>注意</strong>：</p><ol><li><p>关节组件在 Builtin 2D 物理模块中是无效的。</p></li><li><p>关节组件都需要搭配 <a href="./physics-2d-rigid-body.html">刚体</a> 才可以正确运行。如下图所示：</p><p><img src="'+n+'" alt="with-body"></p></li></ol></blockquote><h2 id="添加关节" tabindex="-1">添加关节 <a class="header-anchor" href="#添加关节" aria-label="Permalink to &quot;添加关节&quot;">​</a></h2><p>在 <strong>属性检查器</strong> 上点击 <strong>添加组件</strong> 按钮并输入 2D 关节的组件名。</p><p><img src="'+r+'" alt="add-joint"></p><h2 id="关节的共用属性" tabindex="-1">关节的共用属性 <a class="header-anchor" href="#关节的共用属性" aria-label="Permalink to &quot;关节的共用属性&quot;">​</a></h2><p>虽然每种关节都有不同的表现，但是它们也有一些共同的属性：</p><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>ConnectedBody</strong></td><td style="text-align:left;">关节链接的另一端的刚体 <br> <strong>注意</strong>：在 v3.7 版本中，如该属性没有被设置，则会默认取原点 [0, 0]，以与 <strong>3D 物理</strong> 中的约束在实现上统一 <br> 由于目前 2D 世界的坐标原点默认取 Canvas 所在的左下角，此时关节的 <strong>ConnectedBody</strong> 会连接到左下角。如果觉得这样对开发不太方便，可以通过将 Canvas 进行偏移的方式来处理; 而由于 Canvas 组件本身无法修改其位置信息，可以在通过给 Canvas 组件所在的节点添加父节点并偏移父节点来解决</td></tr><tr><td style="text-align:left;"><strong>Anchor</strong></td><td style="text-align:left;">关节本端链接的刚体的锚点</td></tr><tr><td style="text-align:left;"><strong>ConnectedAnchor</strong></td><td style="text-align:left;">关节链接另一端刚体的锚点</td></tr><tr><td style="text-align:left;"><strong>CollideConnected</strong></td><td style="text-align:left;">关节两端的刚体是否能够互相碰撞</td></tr></tbody></table><p>每个关节都需要链接两个刚体才能够发挥它的功能，我们把和关节挂在同一节点下的刚体视为关节的本端，把 <strong>ConnectedBody</strong> 视为另一端的刚体。通常情况下，每个刚体会选取自身周围的某个位置设定成锚点。根据关节组件类型的不同，锚点决定了物体的旋转中心，或者是用来保持一定距离的坐标点，等等。</p><p><strong>CollideConnected</strong> 属性用于确定关节两端的刚体是否需要继续遵循常规的碰撞规则。</p><p>如果你现在准备制作一个布娃娃，你可能会希望大腿和小腿能够部分重合，然后在膝盖处链接到一起，那么就需要设置 <strong>CollideConnected</strong> 属性为 false。如果你准备做一个升降机，希望升降机平台和地板能够碰撞，那么就需要设置 <strong>CollideConnected</strong> 属性为 true。</p><h2 id="调整锚点" tabindex="-1">调整锚点 <a class="header-anchor" href="#调整锚点" aria-label="Permalink to &quot;调整锚点&quot;">​</a></h2><p>在场景中可以通过点击并拖拽 <img src="'+l+'" alt="gizmo-a"> 来调整 <strong>Anchor</strong> 属性，通过 <img src="'+a+'" alt="gizmo-b"> 来调整 <strong>ConnectedAnchor</strong>。</p><p><img src="'+i+'" alt="gizmo"></p><h2 id="距离关节" tabindex="-1">距离关节 <a class="header-anchor" href="#距离关节" aria-label="Permalink to &quot;距离关节&quot;">​</a></h2><p>在 <strong>属性检查器</strong> 上点击 <strong>添加组件</strong> 并输入 <strong>DistanceJoint2D</strong> 则可以添加距离关节。</p><p><img src="'+d+'" alt="distance-joint"></p><p><strong>距离关节（Distance Joint）</strong> 会将关节两端的刚体约束在一个最大范围内。超出该范围时，刚体的运动会互相影响。</p><p><img src="'+g+'" alt="distance-joint"></p><p>低于该范围则不会互相影响。</p><p><img src="'+c+'" alt="dis"></p><h3 id="属性" tabindex="-1">属性 <a class="header-anchor" href="#属性" aria-label="Permalink to &quot;属性&quot;">​</a></h3><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>MaxLength</strong></td><td style="text-align:left;">最大距离</td></tr><tr><td style="text-align:left;"><strong>AutoCalcDistance</strong></td><td style="text-align:left;">是否自动计算关节连接的两个刚体间的距离</td></tr></tbody></table><h2 id="固定关节" tabindex="-1">固定关节 <a class="header-anchor" href="#固定关节" aria-label="Permalink to &quot;固定关节&quot;">​</a></h2><p>在 <strong>属性检查器</strong> 上点击 <strong>添加组件</strong> 并输入 <strong>FixedJoint2D</strong> 则可以添加固定关节。</p><p><img src="'+h+'" alt="fixed"></p><p><strong>固定关节（Fixed Joint）</strong>，根据两个物体的初始角度将两个物体上的两个点固定在一起。</p><p><img src="'+p+'" alt="fixed"></p><h3 id="属性-1" tabindex="-1">属性 <a class="header-anchor" href="#属性-1" aria-label="Permalink to &quot;属性&quot;">​</a></h3><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>Frequency</strong></td><td style="text-align:left;">弹性系数</td></tr><tr><td style="text-align:left;"><strong>DampingRatio</strong></td><td style="text-align:left;">阻尼，表示关节变形后，恢复到初始状态受到的阻力</td></tr></tbody></table><h2 id="铰链关节" tabindex="-1">铰链关节 <a class="header-anchor" href="#铰链关节" aria-label="Permalink to &quot;铰链关节&quot;">​</a></h2><p>在 <strong>属性检查器</strong> 上点击 <strong>添加组件</strong> 并输入 <strong>HingeJoint2D</strong> 则可以添加铰链关节。</p><p><img src="'+f+'" alt="hinge"></p><p><strong>铰链关节（Hinge Joint）</strong>，可以看做一个铰链或者钉，刚体会围绕一个共同点来旋转。</p><p><img src="'+x+'" alt="hinge"></p><h3 id="属性-2" tabindex="-1">属性 <a class="header-anchor" href="#属性-2" aria-label="Permalink to &quot;属性&quot;">​</a></h3><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>EnableLimit</strong></td><td style="text-align:left;">是否开启关节的限制</td></tr><tr><td style="text-align:left;"><strong>LowerAngle</strong></td><td style="text-align:left;">角度的最低限制</td></tr><tr><td style="text-align:left;"><strong>UpperAngle</strong></td><td style="text-align:left;">角度的最高限制</td></tr><tr><td style="text-align:left;"><strong>EnableMotor</strong></td><td style="text-align:left;">是否开启关节马达</td></tr><tr><td style="text-align:left;"><strong>MaxMotorTorque</strong></td><td style="text-align:left;">可以施加到刚体的最大扭矩</td></tr><tr><td style="text-align:left;"><strong>MotorSpeed</strong></td><td style="text-align:left;">期望的马达速度</td></tr></tbody></table><p>启用马达速度后，关节连接的刚体会尝试逐渐加速到期望速度。</p><p><img src="'+y+'" alt="speed"></p><p><img src="'+A+'" alt="motor"></p><h2 id="相对关节" tabindex="-1">相对关节 <a class="header-anchor" href="#相对关节" aria-label="Permalink to &quot;相对关节&quot;">​</a></h2><p>在 <strong>属性检查器</strong> 上点击 <strong>添加组件</strong> 并输入 <strong>RelativeJoint2D</strong> 则可以添加相对关节。</p><p><img src="'+m+'" alt="relative"></p><p><strong>相对关节（Relative Joint）</strong>，控制两个刚体间的相对运动。</p><p><img src="'+b+'" alt="relative"></p><h3 id="属性-3" tabindex="-1">属性 <a class="header-anchor" href="#属性-3" aria-label="Permalink to &quot;属性&quot;">​</a></h3><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>MaxForce</strong></td><td style="text-align:left;">可以应用于刚体的最大的力值</td></tr><tr><td style="text-align:left;"><strong>MaxTorque</strong></td><td style="text-align:left;">可以应用于刚体的最大扭矩值</td></tr><tr><td style="text-align:left;"><strong>CorrectionFactor</strong></td><td style="text-align:left;">位置矫正系数，范围为 [0, 1]</td></tr><tr><td style="text-align:left;"><strong>LinearOffset</strong></td><td style="text-align:left;">关节另一端的刚体相对于起始端刚体的位置偏移量</td></tr><tr><td style="text-align:left;"><strong>AngularOffset</strong></td><td style="text-align:left;">关节另一端的刚体相对于起始端刚体的角度偏移量</td></tr><tr><td style="text-align:left;"><strong>AutoCalcOffset</strong></td><td style="text-align:left;">自动计算关节连接的两个刚体间的 angularOffset 和 linearOffset</td></tr></tbody></table><h2 id="滑动关节" tabindex="-1">滑动关节 <a class="header-anchor" href="#滑动关节" aria-label="Permalink to &quot;滑动关节&quot;">​</a></h2><p>在 <strong>属性检查器</strong> 上点击 <strong>添加组件</strong> 并输入 <strong>SliderJoint2D</strong> 则可以添加滑动关节。</p><p><img src="'+u+'" alt="slider"></p><p><strong>滑动关节（Slider Joint）</strong>，两个刚体位置间的角度是固定的，它们只能在一个指定的轴上滑动。如下图蓝色方块虽然受重力影响，但实际上由于关节的约束，只能沿设定的方向运动。</p><p><img src="'+_+'" alt="slider"></p><h3 id="属性-4" tabindex="-1">属性 <a class="header-anchor" href="#属性-4" aria-label="Permalink to &quot;属性&quot;">​</a></h3><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>Angle</strong></td><td style="text-align:left;">滑动的方向</td></tr><tr><td style="text-align:left;"><strong>AutoCalcAngle</strong></td><td style="text-align:left;">根据连接的两个刚体自动计算滑动方向</td></tr><tr><td style="text-align:left;"><strong>EnableMotor</strong></td><td style="text-align:left;">是否开启关节马达</td></tr><tr><td style="text-align:left;"><strong>MaxMotorForce</strong></td><td style="text-align:left;">可以施加到刚体的最大力</td></tr><tr><td style="text-align:left;"><strong>MotorSpeed</strong></td><td style="text-align:left;">期望的马达速度</td></tr><tr><td style="text-align:left;"><strong>EnableLimit</strong></td><td style="text-align:left;">是否开启关节的距离限制</td></tr><tr><td style="text-align:left;"><strong>LowerLimit</strong></td><td style="text-align:left;">刚体能够移动的最小值</td></tr><tr><td style="text-align:left;"><strong>UpperLimit</strong></td><td style="text-align:left;">刚体能够移动的最大值</td></tr></tbody></table><h2 id="弹簧关节" tabindex="-1">弹簧关节 <a class="header-anchor" href="#弹簧关节" aria-label="Permalink to &quot;弹簧关节&quot;">​</a></h2><p>在 <strong>属性检查器</strong> 上点击 <strong>添加组件</strong> 并输入 <strong>SpringJoint2D</strong> 则可以添加弹簧关节。</p><p><img src="'+q+'" alt="spring"></p><p><strong>弹簧关节（Spring Joint）</strong>，将关节两端物体像弹簧一样连接在一起。</p><p><img src="'+C+'" alt="spring"></p><h3 id="属性-5" tabindex="-1">属性 <a class="header-anchor" href="#属性-5" aria-label="Permalink to &quot;属性&quot;">​</a></h3><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>Frequency</strong></td><td style="text-align:left;">弹性系数</td></tr><tr><td style="text-align:left;"><strong>DamingRatio</strong></td><td style="text-align:left;">阻尼，表示关节变形后，恢复到初始状态受到的阻力</td></tr><tr><td style="text-align:left;"><strong>Distance</strong></td><td style="text-align:left;">关节两端的距离</td></tr><tr><td style="text-align:left;"><strong>AutoCalcDistance</strong></td><td style="text-align:left;">自动计算关节连接的两个刚体间的距离</td></tr></tbody></table><h2 id="轮子关节" tabindex="-1">轮子关节 <a class="header-anchor" href="#轮子关节" aria-label="Permalink to &quot;轮子关节&quot;">​</a></h2><p>在 <strong>属性检查器</strong> 上点击 <strong>添加组件</strong> 并输入 <strong>WheelJoint2D</strong> 则可以添加轮子关节。</p><p><img src="'+D+'" alt="wheel"></p><p><strong>轮子关节（Wheel Joint）</strong>，用于模拟机动车车轮。</p><p><img src="'+P+'" alt="wheel"></p><p>在模拟现实中四驱的情况下，可以考虑将前后轮的轮子关节都启用 <strong>EnableMotor</strong>，而非四驱的情况下可以考虑只启用驱动轮的 <strong>EnableMotor</strong>。 图示中仅前轮开启了 <strong>EnableMotor</strong>，从而模拟前驱的情况。</p><h3 id="属性-6" tabindex="-1">属性 <a class="header-anchor" href="#属性-6" aria-label="Permalink to &quot;属性&quot;">​</a></h3><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>Angle</strong></td><td style="text-align:left;">轮子震动方向</td></tr><tr><td style="text-align:left;"><strong>EnableMotor</strong></td><td style="text-align:left;">是否开启关节马达</td></tr><tr><td style="text-align:left;"><strong>MaxMotorTorque</strong></td><td style="text-align:left;">可以施加到刚体的最大扭矩</td></tr><tr><td style="text-align:left;"><strong>MotorSpeed</strong></td><td style="text-align:left;">期望的马达速度</td></tr><tr><td style="text-align:left;"><strong>Frequency</strong></td><td style="text-align:left;">弹性系数</td></tr><tr><td style="text-align:left;"><strong>DampingRatio</strong></td><td style="text-align:left;">阻尼，表示关节变形后，恢复到初始状态受到的阻力</td></tr></tbody></table>',70),B=[V];function j(E,R,w,M,F,T){return s(),e("div",null,B)}const S=t(k,[["render",j]]);export{H as __pageData,S as default};
