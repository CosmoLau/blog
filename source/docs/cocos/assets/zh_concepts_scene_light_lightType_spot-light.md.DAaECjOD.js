import{_ as t}from"./chunks/spot-light-shadow-prop.a0qP2fpP.js";import{_ as e,c as l,o as a,a4 as s}from"./chunks/framework.uQk9_EO2.js";const r="/docs/cocos/assets/spot-light.CcFAxNOo.jpg",o="/docs/cocos/assets/spot-light-scene.CZj4nCDt.jpg",n="/docs/cocos/assets/spot-light-prop.BWZukbkL.png",u=JSON.parse('{"title":"聚光灯","description":"","frontmatter":{},"headers":[],"relativePath":"zh/concepts/scene/light/lightType/spot-light.md","filePath":"zh/concepts/scene/light/lightType/spot-light.md","lastUpdated":1712305443000}'),d={name:"zh/concepts/scene/light/lightType/spot-light.md"},i=s('<h1 id="聚光灯" tabindex="-1">聚光灯 <a class="header-anchor" href="#聚光灯" aria-label="Permalink to &quot;聚光灯&quot;">​</a></h1><p><strong>聚光灯</strong> 是由一个点向一个方向发射一束锥形光线，类似于手电筒或舞台照明灯产生的光线。与其他光源相比，聚光灯多了 <code>SpotAngle</code> 属性，用于调整聚光灯的光照范围。</p><p><img src="'+r+'" alt="spotlight"></p><p>在编辑器中可以直观地看到光源的位置、颜色、光照范围以及它的聚光角度等，如下图所示。配合编辑器左上角的 <a href="./../../../../editor/toolbar/">变换工具</a> 可调整聚光灯的位置及照射方向等。</p><p><img src="'+o+'" alt="spotlight"></p><p>在场景中添加聚光灯的方式可参考 <a href="./">添加光源</a>。</p><p>聚光灯组件接口请参考 <a href="./__APIDOC__/zh/class/SpotLight">SpotLight API</a>。</p><blockquote><p><strong>注意</strong>：从 v3.5 开始，<strong>聚光灯光阴影</strong> 从场景设置面板中独立出来，不再受到全局阴影参数的影响。</p></blockquote><h2 id="聚光灯属性" tabindex="-1">聚光灯属性 <a class="header-anchor" href="#聚光灯属性" aria-label="Permalink to &quot;聚光灯属性&quot;">​</a></h2><p><img src="'+n+'" alt="image"></p><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">Color</td><td style="text-align:left;">设置光源颜色</td></tr><tr><td style="text-align:left;">UseColorTemperature</td><td style="text-align:left;">是否启用色温</td></tr><tr><td style="text-align:left;">ColorTemperature</td><td style="text-align:left;">调节色温</td></tr><tr><td style="text-align:left;">Size</td><td style="text-align:left;">设置光源大小</td></tr><tr><td style="text-align:left;">Range</td><td style="text-align:left;">设置光照影响范围</td></tr><tr><td style="text-align:left;">SpotAngle</td><td style="text-align:left;">调整聚光角度，控制光照范围</td></tr><tr><td style="text-align:left;">Term</td><td style="text-align:left;">设置光照强度单位类型，包括 <strong>光通量（LUMINOUS_POWER）</strong> 和 <strong>亮度（LUMINANCE）</strong> 两种</td></tr><tr><td style="text-align:left;">LuminousPower</td><td style="text-align:left;">光通量，单位 <strong>流明（lm）</strong><br>当 <strong>Term</strong> 设置为 <strong>LUMINOUS_POWER</strong> 时生效</td></tr><tr><td style="text-align:left;">Luminance</td><td style="text-align:left;">亮度，单位 <strong>坎德拉每平方米（cd/m<sup>2</sup>）</strong><br>当 <strong>Term</strong> 设置为 <strong>LUMINANCE</strong> 时生效</td></tr><tr><td style="text-align:left;">StaticSettings</td><td style="text-align:left;">静态灯光设置，详情请参考 <a href="./../lightmap">光照贴图</a></td></tr></tbody></table><h3 id="聚光灯阴影属性" tabindex="-1">聚光灯阴影属性 <a class="header-anchor" href="#聚光灯阴影属性" aria-label="Permalink to &quot;聚光灯阴影属性&quot;">​</a></h3><p>阴影属性需要在场景中开启阴影。开启方法请参考 <a href="./../shadow#开启阴影">阴影 - 开启阴影</a>。</p><p>开启后，聚光灯会展示如下动态阴影界面：</p><p><img src="'+t+'" alt="image"></p><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">ShadowEnabled</td><td style="text-align:left;">是否开启平行光阴影</td></tr><tr><td style="text-align:left;">ShadowPcf</td><td style="text-align:left;">设置阴影边缘反走样等级，目前支持 <strong>HARD</strong>、<strong>SOFT</strong>、<strong>SOFT_2X</strong>，详情可参考下文 <strong>PCF 软阴影</strong> 部分的介绍。</td></tr><tr><td style="text-align:left;">ShadowBias</td><td style="text-align:left;">设置阴影偏移值，防止 z-fighting</td></tr><tr><td style="text-align:left;">ShadowNormalBias</td><td style="text-align:left;">设置法线偏移值，防止曲面出现锯齿状</td></tr></tbody></table><h3 id="pcf-软阴影" tabindex="-1">PCF 软阴影 <a class="header-anchor" href="#pcf-软阴影" aria-label="Permalink to &quot;PCF 软阴影&quot;">​</a></h3><p>百分比渐近过滤（PCF）是一个简单、常见的用于实现阴影边缘反走样的技术，通过对阴影边缘进行平滑处理来消除阴影贴图的锯齿现象。原理是在当前像素（也叫做片段）周围进行采样，然后计算样本跟片段相比更接近光源的比例，使用这个比例对散射光和镜面光成分进行缩放，然后再对片段着色，以达到模糊阴影边缘的效果。</p><p>目前 Cocos Creator 支持 <strong>硬采样</strong>、<strong>4 倍采样（SOFT 模式）</strong>、<strong>9 倍采样（SOFT_2X 模式）</strong>，倍数越大，采样区域越大，阴影边缘也就越柔和。</p><h2 id="支持动态合批提高性能" tabindex="-1">支持动态合批提高性能 <a class="header-anchor" href="#支持动态合批提高性能" aria-label="Permalink to &quot;支持动态合批提高性能&quot;">​</a></h2><p>对于材质中已经开启 instancing 的模型，平面阴影也会自动同步使用 instancing 绘制，详情请参考 <a href="./../../../engine/renderable/model-component#关于动态合批">动态合批</a>。</p>',21),g=[i];function h(p,c,f,_,x,m){return a(),l("div",null,g)}const S=e(d,[["render",h]]);export{u as __pageData,S as default};
