import{_ as e,c as t,o as s,a4 as a}from"./chunks/framework.uQk9_EO2.js";const _=JSON.parse('{"title":"WebSocket 客户端","description":"","frontmatter":{},"headers":[],"relativePath":"zh/advanced-topics/websocket.md","filePath":"zh/advanced-topics/websocket.md","lastUpdated":1712305443000}'),i={name:"zh/advanced-topics/websocket.md"},o=a('<h1 id="websocket-客户端" tabindex="-1">WebSocket 客户端 <a class="header-anchor" href="#websocket-客户端" aria-label="Permalink to &quot;WebSocket 客户端&quot;">​</a></h1><p>原生环境支持 <a href="https://developer.mozilla.org/en-US/docs/Web/API/WebSocket/WebSocket" target="_blank" rel="noreferrer">Web 标准的</a> WebSocket 接口。</p><h2 id="差异" tabindex="-1">差异 <a class="header-anchor" href="#差异" aria-label="Permalink to &quot;差异&quot;">​</a></h2><p>在 v3.5 版本之前，Android 和 Windows 上的 WebSocket API 使用 <a href="https://github.com/warmcat/libwebsockets" target="_blank" rel="noreferrer">libwebsockets</a> 实现。需要开发者通过第三个参数指定 CA 文件路径：</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.wsInstance </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> WebSocket</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;wss://echo.websocket.org&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, [], caURL);</span></span></code></pre></div><p>详情请参考 <a href="https://github.com/cocos/cocos-test-projects/blob/07f5671e18ef3ed4494d8cba6c2f9499766467a6/assets/cases/network/NetworkCtrl.ts#L113-L120" target="_blank" rel="noreferrer">示例代码</a>。可访问 <a href="https://curl.se/docs/caextract.html" target="_blank" rel="noreferrer">下载 CA 证书</a> 下载对应的证书。</p><p>在 v3.5 版本之后, Android 上不再强制要求提供证书。</p>',7),r=[o];function c(n,h,l,p,k,d){return s(),t("div",null,r)}const g=e(i,[["render",c]]);export{_ as __pageData,g as default};
