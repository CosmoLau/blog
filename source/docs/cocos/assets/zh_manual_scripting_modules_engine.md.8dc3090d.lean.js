import{_ as t,v as e,b as l,R as s}from"./chunks/framework.5ffcbaff.js";const D=JSON.parse('{"title":"引擎模块","description":"","frontmatter":{},"headers":[],"relativePath":"zh/manual/scripting/modules/engine.md","filePath":"zh/manual/scripting/modules/engine.md"}'),a={name:"zh/manual/scripting/modules/engine.md"},n=s(`<h1 id="引擎模块" tabindex="-1">引擎模块 <a class="header-anchor" href="#引擎模块" aria-label="Permalink to &quot;引擎模块&quot;">​</a></h1><p>引擎通过模块向开发者暴露功能接口，模块以 <strong>ECMAScript</strong> 模块形式存在。</p><p>⚠️ 注意，从 v3.0 开始，将不能通过全局变量 <code>cc</code> 访问引擎功能！</p><h2 id="功能" tabindex="-1">功能 <a class="header-anchor" href="#功能" aria-label="Permalink to &quot;功能&quot;">​</a></h2><p>模块 <code>&#39;cc&#39;</code> 提供了所有引擎功能的访问。模块 <code>&#39;cc&#39;</code> 的内容是动态的，其内容和 <strong>项目设置</strong> 中的 <strong>功能裁剪</strong> 设置有关。</p><h3 id="引擎日志输出" tabindex="-1">引擎日志输出 <a class="header-anchor" href="#引擎日志输出" aria-label="Permalink to &quot;引擎日志输出&quot;">​</a></h3><p>示例：</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">log</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">cc</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Hello world!</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span></code></pre></div><h2 id="构建时常量" tabindex="-1">构建时常量 <a class="header-anchor" href="#构建时常量" aria-label="Permalink to &quot;构建时常量&quot;">​</a></h2><p>引擎模块 <code>&#39;cc/env&#39;</code> 暴露了一些构建时的 <strong>常量</strong>，这些常量代表执行环境、调试级别或平台标识等。</p><p>由于这些常量都以 <code>const</code> 声明，提供了很好的代码优化机会。</p><h3 id="执行环境" tabindex="-1">执行环境 <a class="header-anchor" href="#执行环境" aria-label="Permalink to &quot;执行环境&quot;">​</a></h3><table><thead><tr><th style="text-align:left;">名称（类型都为 <code>boolean</code>）</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;"><code>BUILD</code></td><td style="text-align:left;">是否正在构建后的环境中运行</td></tr><tr><td style="text-align:left;"><code>PREVIEW</code></td><td style="text-align:left;">是否正在预览环境中运行</td></tr><tr><td style="text-align:left;"><code>EDITOR</code></td><td style="text-align:left;">是否正在编辑器环境中运行</td></tr></tbody></table><h3 id="调试级别" tabindex="-1">调试级别 <a class="header-anchor" href="#调试级别" aria-label="Permalink to &quot;调试级别&quot;">​</a></h3><table><thead><tr><th style="text-align:left;">名称（类型都为 <code>boolean</code>）</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;"><code>DEBUG</code></td><td style="text-align:left;">是否处于调试模式。仅当构建时未勾选调试选项的情况下为 <code>false</code>，其它情况下都为 <code>true</code></td></tr><tr><td style="text-align:left;"><code>DEV</code></td><td style="text-align:left;">等价于 <code>DEBUG</code>/<code>EDITOR</code>/<code>PREVIEW</code></td></tr></tbody></table><h3 id="平台标识" tabindex="-1">平台标识 <a class="header-anchor" href="#平台标识" aria-label="Permalink to &quot;平台标识&quot;">​</a></h3><p>下表列出的常量表示是否正在 <strong>某一个</strong> 或 <strong>某一类</strong> 平台上运行，常量的类型都是 <code>boolean</code>。</p><table><thead><tr><th style="text-align:left;">名称</th><th style="text-align:left;">代表平台</th><th style="text-align:left;"><code>MINIGAME</code> “小游戏”</th><th style="text-align:left;"><code>RUNTIME_BASED</code> 基于 Cocos Runtime</th><th style="text-align:left;"><code>SUPPORT_JIT</code> 支持 JIT</th></tr></thead><tbody><tr><td style="text-align:left;"><code>HTML5</code></td><td style="text-align:left;">Web</td><td style="text-align:left;">❌</td><td style="text-align:left;">❌</td><td style="text-align:left;">❌</td></tr><tr><td style="text-align:left;"><code>NATIVE</code></td><td style="text-align:left;">原生平台</td><td style="text-align:left;">❌</td><td style="text-align:left;">❌</td><td style="text-align:left;">❌</td></tr><tr><td style="text-align:left;"><code>ALIPAY</code></td><td style="text-align:left;">支付宝小游戏</td><td style="text-align:left;">✔️</td><td style="text-align:left;">❌</td><td style="text-align:left;">✔️</td></tr><tr><td style="text-align:left;"><code>BAIDU</code></td><td style="text-align:left;">百度小游戏</td><td style="text-align:left;">✔️</td><td style="text-align:left;">❌</td><td style="text-align:left;">✔️</td></tr><tr><td style="text-align:left;"><code>BYTEDANCE</code></td><td style="text-align:left;">字节跳动小游戏</td><td style="text-align:left;">✔️</td><td style="text-align:left;">❌</td><td style="text-align:left;">✔️</td></tr><tr><td style="text-align:left;"><code>WECHAT</code></td><td style="text-align:left;">微信小游戏</td><td style="text-align:left;">✔️</td><td style="text-align:left;">❌</td><td style="text-align:left;">✔️</td></tr><tr><td style="text-align:left;"><code>XIAOMI</code></td><td style="text-align:left;">小米快游戏</td><td style="text-align:left;">✔️</td><td style="text-align:left;">❌</td><td style="text-align:left;">✔️</td></tr><tr><td style="text-align:left;"><code>COCOSPLAY</code></td><td style="text-align:left;">Cocos Play</td><td style="text-align:left;">❌</td><td style="text-align:left;">✔️</td><td style="text-align:left;">✔️</td></tr><tr><td style="text-align:left;"><code>HUAWEI</code></td><td style="text-align:left;">华为快游戏</td><td style="text-align:left;">❌</td><td style="text-align:left;">✔️</td><td style="text-align:left;">✔️</td></tr><tr><td style="text-align:left;"><code>OPPO</code></td><td style="text-align:left;">OPPO 小游戏</td><td style="text-align:left;">❌</td><td style="text-align:left;">✔️</td><td style="text-align:left;">✔️</td></tr><tr><td style="text-align:left;"><code>VIVO</code></td><td style="text-align:left;">vivo 小游戏</td><td style="text-align:left;">❌</td><td style="text-align:left;">✔️</td><td style="text-align:left;">✔️</td></tr></tbody></table><h3 id="调试模式下的输出" tabindex="-1">调试模式下的输出 <a class="header-anchor" href="#调试模式下的输出" aria-label="Permalink to &quot;调试模式下的输出&quot;">​</a></h3><p>示例如下：</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">log</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">cc</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">DEV</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">cc/env</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#A6ACCD;"> (DEV) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">I am in development mode!</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div>`,21),o=[n];function d(c,p,r,i,y,g){return e(),l("div",null,o)}const x=t(a,[["render",d]]);export{D as __pageData,x as default};
