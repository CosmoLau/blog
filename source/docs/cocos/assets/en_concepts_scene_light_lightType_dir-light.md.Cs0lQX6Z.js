import{_ as t,c as e,o as a,a4 as o}from"./chunks/framework.uQk9_EO2.js";const i="/docs/cocos/assets/dir-light.CtYu3INs.jpg",s="/docs/cocos/assets/dir-light-scene.FJgVwiWE.jpg",l="/docs/cocos/assets/dir-light-prop.DUk7Hwsz.png",r="/docs/cocos/assets/dir-light-shadow-prop.BxPktbMz.png",n="/docs/cocos/assets/csm-off.DyE8y8NC.png",d="/docs/cocos/assets/csm-on.VK7dpMr-.png",h="/docs/cocos/assets/dir-light-fixed-shadow-prop.DHtjhvi6.png",_=JSON.parse('{"title":"Directional Lights","description":"","frontmatter":{},"headers":[],"relativePath":"en/concepts/scene/light/lightType/dir-light.md","filePath":"en/concepts/scene/light/lightType/dir-light.md","lastUpdated":1712305443000}'),c={name:"en/concepts/scene/light/lightType/dir-light.md"},g=o('<h1 id="directional-lights" tabindex="-1">Directional Lights <a class="header-anchor" href="#directional-lights" aria-label="Permalink to &quot;Directional Lights&quot;">​</a></h1><p>Directional Light is the most common type of light that simulates the light emitted by a source at infinity and is often used to simulate sunlight.</p><p><img src="'+i+'" alt="image"></p><p>Because the distance between the light and the illuminated target is undefined (infinite distance), the lighting effect is not affected by the <strong>position</strong> and <strong>orientation</strong> of the light (as shown below, directional light produces the same lighting brightness in all planes). However, <strong>rotation</strong> affects the direction of directional light, which in turn affects the extent to which the model receives light and where the model produces shadows. This can be done with the <a href="./../../../../editor/toolbar/#rotate-gizmo">Rotate Gizmo</a> in the upper left corner of the editor to adjust the direction of directional light.</p><p><img src="'+s+'" alt="image"></p><p>Adding directional lights to the scene can be done as described in <a href="./#adding-lights">Adding Lights</a>.</p><blockquote><p><strong>Note</strong>: Cocos Creator currently supports only one directional light. If adding more than one at the same time, the last one added will prevail.</p></blockquote><p>A directional light node <code>Main Light</code> will be created automatically by default when creating a new scene.</p><p>For the interface of the directional light component, please refer to <a href="./__APIDOC__/en/class/DirectionalLight">DirectionalLight API</a>.</p><blockquote><p><strong>Note</strong>: Starting with v3.5, <strong>Parallel Light Shadows</strong> are separated from the Scene Settings panel and do not set shadow properties globally.</p></blockquote><h2 id="directional-light-properties" tabindex="-1">Directional Light Properties <a class="header-anchor" href="#directional-light-properties" aria-label="Permalink to &quot;Directional Light Properties&quot;">​</a></h2><p><img src="'+l+'" alt="image"></p><table><thead><tr><th style="text-align:left;">Property</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;">Color</td><td style="text-align:left;">Sets the light color.</td></tr><tr><td style="text-align:left;">UseColorTemperature</td><td style="text-align:left;">Whether to enable the color temperature.</td></tr><tr><td style="text-align:left;">ColorTemperature</td><td style="text-align:left;">Adjusts the color temperature.</td></tr><tr><td style="text-align:left;">StaticSettings</td><td style="text-align:left;">Sets static lighting, please refer to the <a href="./../lightmap">Lightmapping</a> documentation for details.</td></tr><tr><td style="text-align:left;">Illumination</td><td style="text-align:left;">Illumination in <strong>lux (lx)</strong>.</td></tr></tbody></table><h3 id="directional-light-shadow-properties" tabindex="-1">Directional Light Shadow Properties <a class="header-anchor" href="#directional-light-shadow-properties" aria-label="Permalink to &quot;Directional Light Shadow Properties&quot;">​</a></h3><p><img src="'+r+'" alt="image"></p><table><thead><tr><th style="text-align:left;">Property</th><th style="text-align:left;">Explanation</th></tr></thead><tbody><tr><td style="text-align:left;">ShadowEnabled</td><td style="text-align:left;">Whether to enable the shadow effect.</td></tr><tr><td style="text-align:left;">ShadowPcf</td><td style="text-align:left;">Set the anti-aliasing level of the shadow edge, currently including <strong>HARD</strong>, <strong>SOFT</strong>, <strong>SOFT_2X</strong>. Please refer to the section <strong>PCF Soft Shadow</strong> below for details.</td></tr><tr><td style="text-align:left;">ShadowBias</td><td style="text-align:left;">Set the shadow offset value to prevent z-fitting.</td></tr><tr><td style="text-align:left;">ShadowNormalBias</td><td style="text-align:left;">Set the normal offset value.</td></tr><tr><td style="text-align:left;">ShadowSaturation</td><td style="text-align:left;">Set the shadow saturation. It is recommended to set as <strong>1</strong>. If it is necessary to reduce the saturation of the directional light shadows, it is recommended to do it by increasing the ambient light instead of adjusting this value.</td></tr><tr><td style="text-align:left;">ShadowInvisibleOcclusionRange</td><td style="text-align:left;">Set whether shadows from objects outside of the Camera&#39;s visible range are cast into the visible range, and if so, turns up the value.</td></tr><tr><td style="text-align:left;">ShadowDistance</td><td style="text-align:left;">Set the range of shadow effects displayed within the visible range of the Camera, with the shadow quality inversely proportional to the size of this value.</td></tr><tr><td style="text-align:left;">Enable CSM</td><td style="text-align:left;">Whether to enable Cascaded Shadow Map mode.</td></tr><tr><td style="text-align:left;">FixedArea</td><td style="text-align:left;">Whether to manually control the display of shadow effects within the visible range of the Camera.</td></tr></tbody></table><h4 id="enable-csm-mode" tabindex="-1">Enable CSM Mode <a class="header-anchor" href="#enable-csm-mode" aria-label="Permalink to &quot;Enable CSM Mode&quot;">​</a></h4><p>The Cascaded Shadow Maps (CSM) method solves this problem by providing depth textures in chunks based on the distance from the object to the observer. It splits the camera&#39;s view cone into several parts, and then generates separate depth maps for each part of the split.</p><p>A higher quality shadow map is used for near scenes, and a lower quality shadow map is used for far scenes, with one of the two shadow maps chosen for use where they transition. This ensures that the observer sees higher quality shadows in the near area and lower quality shadows in the far area, because the distant objects occupy only a small fraction of the screen, while the near objects occupy a large fraction of the screen.</p><ul><li><p>CSM OFF：</p><p><img src="'+n+'" alt="image"></p></li><li><p>CSM ON：</p><p><img src="'+d+'" alt="image"></p></li></ul><h4 id="fixedarea-mode" tabindex="-1">FixedArea Mode <a class="header-anchor" href="#fixedarea-mode" aria-label="Permalink to &quot;FixedArea Mode&quot;">​</a></h4><p>FixedArea mode is used to set whether to manually control the range of shadow effects displayed within the visible range of the Camera:</p><ul><li>If this option is unchecked (default), the engine uses the same crop process and camera calculations as CSM (Cascaded Shadow Maps), calculating the range of shadows generated based on the orientation and position of the Camera.</li><li>If this option is checked, the range of shadow generation is controlled according to the <code>Near</code>, <code>Far</code>, and <code>OrthoSize</code> properties set manually. The shadows follow the position of the directional light nodes and are distributed around the directional light bounding box, rather than following the camera.</li></ul><p><img src="'+h+'" alt="image"></p><table><thead><tr><th style="text-align:left;">Property</th><th style="text-align:left;">Explanation</th></tr></thead><tbody><tr><td style="text-align:left;">ShadowFixedArea</td><td style="text-align:left;">Set whether to manually set the following properties to control the range of shadow effects displayed within the visible range of the Camera, as described in the <strong>FixedArea Mode</strong> section below.</td></tr><tr><td style="text-align:left;">ShadowNear</td><td style="text-align:left;">Set the near clipping plane of the main lights shadow camera.</td></tr><tr><td style="text-align:left;">ShadowFar</td><td style="text-align:left;">Set the far clipping plane of the main lights shadow camera.</td></tr><tr><td style="text-align:left;">ShadowOrthoSize</td><td style="text-align:left;">Set the ortho viewport size of the main lights shadow camera, with the shadow quality inversely proportional to the size of this value.</td></tr></tbody></table><h4 id="pcf-soft-shadow" tabindex="-1">PCF Soft Shadow <a class="header-anchor" href="#pcf-soft-shadow" aria-label="Permalink to &quot;PCF Soft Shadow&quot;">​</a></h4><p>Percentage Closer Filtering (PCF) is a simple, common technique used to achieve shadow edge desampling, by smoothing shadow edges to eliminate jaggedness in shadow mapping. The principle is to sample around the current pixel (also called a fragment), then calculate the ratio of the sample closer to the lights compared to the fragment, use this ratio to scale the scattered light and specular light, and then color the fragment to blur the shadow edges.</p><p>Cocos Creator currently supports <strong>hard sampler (HARD mode)</strong>, <strong>4x sampler (SOFT mode)</strong>, <strong>9x sampler (SOFT_2X mode)</strong>. The larger the magnification, the larger the sampling area and the more softer the shadow edges.</p>',28),p=[g];function f(m,u,w,y,b,x){return a(),e("div",null,p)}const C=t(c,[["render",f]]);export{_ as __pageData,C as default};
