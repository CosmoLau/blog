import{_ as s,c as t,o as e,a4 as i}from"./chunks/framework.uQk9_EO2.js";const a="/docs/cocos/assets/sorting.fQZ2uQ7D.png",n="/docs/cocos/assets/sorting-layer.jtZLbvTU.png",r="/docs/cocos/assets/project-settings.DrBDAd69.png",o="/docs/cocos/assets/default-sort.DCwMrtQD.png",l="/docs/cocos/assets/tech._5N1ewgB.png",p="/docs/cocos/assets/sprite-renderer-layer.4cANdJKv.png",h="/docs/cocos/assets/sorting-layer1.GJMXhOlj.png",d="/docs/cocos/assets/result-sorting-layer.DJbw_Bys.png",g="/docs/cocos/assets/sorting-order1.DI08hJOC.png",c="/docs/cocos/assets/sorting-order1-result.ChPZ-o0u.png",C=JSON.parse('{"title":"Sorting","description":"","frontmatter":{},"headers":[],"relativePath":"en/engine/rendering/sorting.md","filePath":"en/engine/rendering/sorting.md","lastUpdated":1712305443000}'),k={name:"en/engine/rendering/sorting.md"},y=i('<h1 id="sorting" tabindex="-1">Sorting <a class="header-anchor" href="#sorting" aria-label="Permalink to &quot;Sorting&quot;">​</a></h1><p>For most rendering cases, the default sorting is sufficient. But in practice, due to the special nature of translucent objects, we may need to sort these objects manually. For this case, the <strong>Sorting</strong> component can be used.</p><p>Click the <strong>Add Component</strong> button inside the <strong>Inspector</strong> panel and select <strong>Sorting</strong> to add it.</p><p><img src="'+a+'" alt="sorting"></p><blockquote><p><strong>Note</strong>: This component is only available for nodes holding <strong>MeshRenderer</strong> and <strong>SpriteRenderer</strong> components.</p></blockquote><h2 id="properties" tabindex="-1">Properties <a class="header-anchor" href="#properties" aria-label="Permalink to &quot;Properties&quot;">​</a></h2><table><thead><tr><th style="text-align:left;">Properties</th><th style="text-align:left;">Decription</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>Sorting Layer</strong></td><td style="text-align:left;">Select <strong>Sort Layers</strong> <br> Select different sort layers by using the drop down box, these layers need to be set within <strong>Project Settings</strong> -&gt; <strong>Sort Layers</strong> before they can be selected <br> <img src="'+n+'" alt="sortring-layer"></td></tr><tr><td style="text-align:left;"><strong>Sorting Order</strong></td><td style="text-align:left;">Sorting priority within the same layer</td></tr></tbody></table><h2 id="example" tabindex="-1">Example <a class="header-anchor" href="#example" aria-label="Permalink to &quot;Example&quot;">​</a></h2><ul><li><p>Add Sorting Layer 1 to <strong>Project Settings</strong> -&gt; <strong>Sorting Layer</strong>.</p><p><img src="'+r+'" alt="setting"></p></li><li><p>Build the following scene as shown in the example.</p><p><img src="'+o+'" alt="default"></p></li><li><p>The cube and sphere materials require the option of using the translucent render queue.</p><p><img src="'+l+'" alt="technique"></p><p>Adds the Sorting component and leaves the properties as default.</p></li><li><p>The image needs to use the <strong>SpriteRenderer</strong> component (note that it is not a Sprite component), the shader needs to use the <strong>builtin-sprite-renderer</strong>, and the Sorting component needs to be added, keeping the properties defaulted to.</p><p><img src="'+p+'" alt="layer1"></p></li></ul><p>At this point it can be observed that the nodes are sorted in the default order.</p><h3 id="sorting-layer-example" tabindex="-1">Sorting Layer Example <a class="header-anchor" href="#sorting-layer-example" aria-label="Permalink to &quot;Sorting Layer Example&quot;">​</a></h3><p>The Sorting Layer of the SpriteRenderer node is adjusted as follows.</p><p><img src="'+h+'" alt="layer 2"></p><p>Since the custom level is higher than the level default for cubes and spheres, the result can be observed in the following figure.</p><p><img src="'+d+'" alt="result"></p><h3 id="sorting-order-example" tabindex="-1">Sorting Order Example <a class="header-anchor" href="#sorting-order-example" aria-label="Permalink to &quot;Sorting Order Example&quot;">​</a></h3><p>The Sorting Order property allows you to adjust the priority of rendering objects within the same sorting layer.</p><p>The scene is similar to the example above, but with the Sorting Order property within the Sorting component of the cube adjusted to 1.</p><p><img src="'+g+'" alt="order 1"></p><p>At this point, the cube is prioritized over the sphere within the rendering queue, so you can observe the result in the following figure.</p><p><img src="'+c+`" alt="result"></p><h2 id="code-example" tabindex="-1">Code Example <a class="header-anchor" href="#code-example" aria-label="Permalink to &quot;Code Example&quot;">​</a></h2><p>The following code demonstrates how to modify the Sorting Order and Sorting Layer at runtime.</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { _decorator, Component, Sorting, SortingLayers } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;cc&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ccclass</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">property</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> _decorator;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ccclass</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;SortingSample&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SortingSample</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Component</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">property</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Sorting)</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    sorting</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Sorting</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    start</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.sorting.sortingLayer </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> SortingLayers.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getLayerIndexByName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Sorting Layer 1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.sorting.sortingOrder </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>SortingLayers</strong> The names and indexes of sorting layers can be obtained at runtime, but cannot be modified at runtime.</p><h2 id="api" tabindex="-1">API <a class="header-anchor" href="#api" aria-label="Permalink to &quot;API&quot;">​</a></h2><p>The API for sorting components can be found in <a href="./__APIDOC__/en/class/Sorting">Sorting</a> and <a href="./__APIDOC__/en/class/SortingLayers">SortingLayers</a> 。</p>`,27),E=[y];function m(u,_,b,f,F,S){return e(),t("div",null,E)}const A=s(k,[["render",m]]);export{C as __pageData,A as default};
