import{_ as e,c as t,o as a,a4 as s}from"./chunks/framework.uQk9_EO2.js";const o="/docs/cocos/assets/build.BJVhhGa1.png",i="data:image/png;base64,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",n="/docs/cocos/assets/package.CNb_xtqu.png",r="/docs/cocos/assets/upload.BNo-NriG.png",l="/docs/cocos/assets/push.DF5uS-PJ.png",h="/docs/cocos/assets/game.CeEc7FFS.png",c="/docs/cocos/assets/share.FQGK_7A3.png",d="/docs/cocos/assets/file.tyEUf1sH.png",v=JSON.parse('{"title":"Publish to Facebook Instant Games","description":"","frontmatter":{},"headers":[],"relativePath":"en/editor/publish/publish-fb-instant-games.md","filePath":"en/editor/publish/publish-fb-instant-games.md","lastUpdated":1712305443000}'),p={name:"en/editor/publish/publish-fb-instant-games.md"},g=s('<h1 id="publish-to-facebook-instant-games" tabindex="-1">Publish to Facebook Instant Games <a class="header-anchor" href="#publish-to-facebook-instant-games" aria-label="Permalink to &quot;Publish to Facebook Instant Games&quot;">​</a></h1><p>The essential difference between Facebook Instant Games and WeChat mini-games is that Facebook Instant Games runs on a pure HTML5 environment. So it can run not only on cell phones but also on desktop browsers, making development and debugging much easier.</p><p><strong>Currently Cocos Creator does the work for users including:</strong></p><ul><li>Integration with Facebook Instant Games SDK and automatic initialization, allowing users to call the relevant APIs directly</li><li>One-click packaging process in the Cocos Creator build panel to package games directly to Facebook Instant Games specifications</li></ul><p><strong>What the user needs to do:</strong></p><ul><li>Call the Facebook Instant Games SDK to access platform-related features</li><li>Upload the packaged version of Cocos Creator to Facebook</li></ul><h2 id="publishing-process" tabindex="-1">Publishing process <a class="header-anchor" href="#publishing-process" aria-label="Permalink to &quot;Publishing process&quot;">​</a></h2><ul><li>Build the game using Cocos Creator</li><li>Upload to Facebook backend</li><li>Test the game</li><li>Share your game in Facebook</li></ul><h2 id="build-the-game-with-cocos-creator" tabindex="-1">Build the game with Cocos Creator <a class="header-anchor" href="#build-the-game-with-cocos-creator" aria-label="Permalink to &quot;Build the game with Cocos Creator&quot;">​</a></h2><ol><li><p>Open the project to be published using Cocos Creator and open the <strong>Build</strong> panel from the <strong>Menu bar -&gt; Projects</strong>. Select <strong>Facebook Instant Games</strong> from the <strong>Platform</strong> in the <strong>Build</strong> panel.</p><p><img src="'+o+'" alt="build"></p><p>Please refer to <a href="./build-options">Build Options</a> for general build options, Facebook Instant Games-specific build options are listed below, please refer to the <strong>Build Options</strong> section below for more information.</p><p><img src="'+i+'" alt="fb-instant-games-options"></p></li><li><p>Once the build options in the <strong>Build</strong> panel are set, click <strong>Build</strong> button. When the build is complete, click the folder icon button in the bottom left corner of <strong>build task</strong> to open the project release package, you can see that the <code>fb-instant-games</code> (whichever is the name of the specific build task) folder has been created in the default release path <code>build</code> directory, which already contains the zip file of the Facebook Instant Games environment <code>fb -instant-games.zip</code>.</p><p><img src="'+n+'" alt="package"></p></li></ol><h3 id="build-options" tabindex="-1">Build options <a class="header-anchor" href="#build-options" aria-label="Permalink to &quot;Build options&quot;">​</a></h3><p>Build options are common across platforms, please refer to <a href="./build-options">Build Options</a> for details. Next, let&#39;s look at the build options specific to the Facebook Instant Games platform.</p><table><thead><tr><th style="text-align:left;">Build options</th><th style="text-align:left;">Description</th><th style="text-align:left;">Field name (for command line publishing)</th></tr></thead><tbody><tr><td style="text-align:left;">Device orientation</td><td style="text-align:left;">Options include <strong>Landscape</strong>, <strong>Portrait</strong></td><td style="text-align:left;"><code>orientation</code></td></tr><tr><td style="text-align:left;">vConsole</td><td style="text-align:left;">Insert the vConsole debugging plugin. vConsole is similar to a mini version of DevTools and is used to assist in debugging.</td><td style="text-align:left;"><code>embedWebDebugger</code></td></tr></tbody></table><h3 id="upload-to-facebook" tabindex="-1">Upload to Facebook <a class="header-anchor" href="#upload-to-facebook" aria-label="Permalink to &quot;Upload to Facebook&quot;">​</a></h3><p>Create a new app in Facebook backend, add <strong>small games</strong> in <strong>Add products</strong>, set the game category, and save the changes. (For details, please refer to <a href="https://developers.facebook.com/docs/games/instant-games/getting-started/quickstart?locale=zh_CN#app-setup" target="_blank" rel="noreferrer">Set up the app</a>)</p><p>Click the <strong>Small Games -&gt; Web Hosting</strong> tab on the left side of the app panel, click <strong>Upload Versions</strong>, and upload the <code>.zip</code> file from the <code>fb-instant-games</code> directory to the Facebook hosting service.</p><p><img src="'+r+'" alt="upload"></p><p>When the version status changes to &quot;Standby&quot;, click the &quot;★&quot; button to push the build to the &quot;Production&quot; environment.</p><p><img src="'+l+`" alt="push"></p><h3 id="iii-testing-the-game" tabindex="-1">III. Testing the game <a class="header-anchor" href="#iii-testing-the-game" aria-label="Permalink to &quot;III. Testing the game&quot;">​</a></h3><h4 id="enable-the-https-enabled-web-server-locally" tabindex="-1">Enable the https-enabled web server locally <a class="header-anchor" href="#enable-the-https-enabled-web-server-locally" aria-label="Permalink to &quot;Enable the https-enabled web server locally&quot;">​</a></h4><ul><li><p>First, open a command line window, go to the <code>fb-instant-games</code> directory, and install the http-server package via npm: ###</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fb-instant-games</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -g</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http-server</span></span></code></pre></div></li><li><p>Next, create the private key and certificate via openssl.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openssl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> genrsa</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2048</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> key.pem</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openssl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> req</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -x509</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -days</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1000</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -new</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -key</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> key.pem</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -out</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cert.pem</span></span></code></pre></div></li><li><p>When the private key and certificate are ready, the Web service can be started locally via SSL: the</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">http-server</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --ssl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c-1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 8080</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -a</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 127.0.0.1</span></span></code></pre></div></li><li><p>Open <a href="https://localhost:8080" target="_blank" rel="noreferrer">https://localhost:8080</a> with a browser and skip the security warning displayed by the browser. This step is only for the browser to whitelist the above private key and certificate. If the private key and certificate are subsequently regenerated, you need to open it again to confirm it once. It is not yet possible to preview the game directly at this step, because previewing the game requires initializing the Facebook Instant Games SDK, which needs to be done in the following way.</p></li></ul><h4 id="preview-games-under-facebook-domain" tabindex="-1">Preview games under Facebook domain <a class="header-anchor" href="#preview-games-under-facebook-domain" aria-label="Permalink to &quot;Preview games under Facebook domain&quot;">​</a></h4><p>To use all the features of the Facebook Instant Games SDK, you need to open <a href="https://www.facebook.com/embed/instantgames/YOUR_GAME_ID/player?game_url=https://localhost:8080" target="_blank" rel="noreferrer">https://www.facebook.com/embed/instantgames/YOUR_GAME_ID/player?game_url=https:// localhost:8080</a> and be careful to replace the link <code>YOUR_ GAME_ID</code> in the link and replace it with the application number you created in the Facebook backend.</p><p>Then you can see the game running successfully.</p><p><img src="`+h+'" alt="game"></p><h3 id="iv-share-your-game-in-facebook" tabindex="-1">IV. Share your game in Facebook <a class="header-anchor" href="#iv-share-your-game-in-facebook" aria-label="Permalink to &quot;IV. Share your game in Facebook&quot;">​</a></h3><p>Click the <strong>Games</strong> tab in the application panel, select <strong>Details</strong>, and pull down the <strong>Details</strong> page to the bottom to see the section shown below, select <strong>Share Game</strong> to share the game directly to the Facebook dynamic message.</p><p><img src="'+c+'" alt="share"></p><p>For details, please refer to <a href="https://developers.facebook.com/docs/games/instant-games/test-publish-share?locale=zh_CN" target="_blank" rel="noreferrer">Test, Publish and Share Trivia Games</a>.</p><blockquote><p><strong>NOTE</strong>: There are several restrictions on Facebook hosting, the most important of which are.</p><ol><li>server-side logic (e.g. php) is not supported</li><li>no more than 500 files per application upload</li></ol></blockquote><h2 id="customizing-instant-games" tabindex="-1">Customizing Instant Games <a class="header-anchor" href="#customizing-instant-games" aria-label="Permalink to &quot;Customizing Instant Games&quot;">​</a></h2><p>Developers can create the <a href="./custom-project-build-template">build-templates/fb-instant-games</a> directory under the Creator project folder to customize them according to their needs, and then copy the published files into that directory to customize them: ##</p><p><img src="'+d+'" alt="file"></p><ul><li><code>fbapp-config.json</code>: this is the configuration for the whole package, go to <a href="https://developers.facebook.com/docs/games/instant-games/bundle-config" target="_blank" rel="noreferrer">official introduction</a></li><li><code>index.html</code>: Here you can modify the introduced Facebook Instant Games SDK version</li><li><code>index.js</code>: Here you can modify the SDK initialization and progress bar</li></ul><h2 id="sdk-description" tabindex="-1">SDK description <a class="header-anchor" href="#sdk-description" aria-label="Permalink to &quot;SDK description&quot;">​</a></h2><p>The Creator is integrated with the Instant Games SDK provided by Facebook and is automatically initialized when the game is loaded (<code>initializeAsync</code> and <code>startGameAsync</code>). Users can access it directly through the <code>FBInstant</code> module, see <a href="https://developers.facebook.com/docs/games/instant-games/sdk" target="_blank" rel="noreferrer">Instant Games SDK</a> for instructions. In addition, Facebook also provides a Facebook SDK for JavaScript to access Facebook&#39;s social features, which can be accessed through the <code>FB</code> module. However, this SDK Creator is not integrated and needs to be introduced manually by the user, see <a href="https://developers.facebook.com/docs/javascript" target="_blank" rel="noreferrer">official documentation</a>.</p><h2 id="reference-links" tabindex="-1">Reference links <a class="header-anchor" href="#reference-links" aria-label="Permalink to &quot;Reference links&quot;">​</a></h2><ul><li><a href="https://developers.facebook.com/" target="_blank" rel="noreferrer">Facebook Backend</a></li><li><a href="https://developers.facebook.com/docs/games/instant-games" target="_blank" rel="noreferrer">Facebook Instant Games documentation</a></li></ul>',39),u=[g];function b(k,m,A,f,F,y){return a(),t("div",null,u)}const w=e(p,[["render",b]]);export{v as __pageData,w as default};
