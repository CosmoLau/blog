import{_ as a}from"./chunks/animation-graph-panel.C4BmoVkA.js";import{_ as t}from"./chunks/edit.0C8mlNou.js";import{_ as r,c as o,o as s,a4 as n}from"./chunks/framework.uQk9_EO2.js";const e="/docs/cocos/assets/open-animation-graph-panel.Dzcg0obI.png",i="/docs/cocos/assets/layers.CD58EEGi.png",l="/docs/cocos/assets/variables.RsxNvmSU.png",p="/docs/cocos/assets/add-variables.HDQpDtkb.png",g="/docs/cocos/assets/delete-variable.cXdRSM4w.png",m="/docs/cocos/assets/variable-eg.CktFmXkq.png",c="data:image/png;base64,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",f=JSON.parse('{"title":"动画图面板","description":"","frontmatter":{},"headers":[],"relativePath":"zh/animation/marionette/animation-graph-panel.md","filePath":"zh/animation/marionette/animation-graph-panel.md","lastUpdated":1712305443000}'),d={name:"zh/animation/marionette/animation-graph-panel.md"},h=n('<h1 id="动画图面板" tabindex="-1">动画图面板 <a class="header-anchor" href="#动画图面板" aria-label="Permalink to &quot;动画图面板&quot;">​</a></h1><p>动画图面板用于查看和编辑动画图资源。当准备好对象所需的骨骼动画后，便可在 <strong>动画图面板</strong> 中将其组装结合成完整的动画流程。</p><h2 id="打开面板" tabindex="-1">打开面板 <a class="header-anchor" href="#打开面板" aria-label="Permalink to &quot;打开面板&quot;">​</a></h2><p>在 <strong>资源管理器</strong> 中选中动画图资源，然后在 <strong>属性检查器</strong> 中点击 <strong>编辑</strong>：</p><p><img src="'+e+'" alt="open-animation-graph-panel"></p><p>即可打开动画图面板，可以看到动画图面板主要由网格布局区域，以及右侧的 <strong>层级</strong>、<strong>变量</strong> 分页构成：</p><p><img src="'+a+'" alt="animation-graph-panel"></p><h2 id="层级-layers" tabindex="-1">层级（Layers） <a class="header-anchor" href="#层级-layers" aria-label="Permalink to &quot;层级（Layers）&quot;">​</a></h2><p>该分页主要用于创建、查看和编辑动画图的层级，每个层级分别由一个状态机控制，点击 <strong>Layers</strong> 按钮可以进入层级编辑状态。</p><p><img src="'+i+'" alt="Layers"></p><p>更多关于层级的信息请参考 <a href="./animation-graph-layer">动画图层级</a>。</p><h2 id="网格布局区域" tabindex="-1">网格布局区域 <a class="header-anchor" href="#网格布局区域" aria-label="Permalink to &quot;网格布局区域&quot;">​</a></h2><p>该区域主要展示了 <strong>层级</strong> 分页中所选的层级对应的状态机，用户可以可视化地创建、编辑、排列状态机中各个状态，以及设置状态之间的过渡。在区域内点击右键即可根据需要创建各类状态：</p><p><img src="'+t+'" alt="Edit"></p><p>当编辑完成后可根据需要在右上角点击 <strong>保存</strong> 或者 <strong>重置</strong>（重置到上一次保存时）。更多操作请参考 <a href="./animation-graph-basics">动画状态机</a>。</p><h2 id="变量-variables" tabindex="-1">变量（Variables） <a class="header-anchor" href="#变量-variables" aria-label="Permalink to &quot;变量（Variables）&quot;">​</a></h2><p>该分页主要用于创建、查看和编辑当前动画图层中状态机的变量，用户可在动画图中通过自定义的 <strong>变量</strong> 来操控动画图表达的流程，作用如下：</p><ul><li><p>作为状态之间过渡的 <strong>过渡条件</strong></p></li><li><p>作为混合动画状态的 <strong>输入参数</strong> 来混合不同的动画剪辑</p></li></ul><p><img src="'+l+'" alt="variables"></p><h3 id="创建变量" tabindex="-1">创建变量 <a class="header-anchor" href="#创建变量" aria-label="Permalink to &quot;创建变量&quot;">​</a></h3><p>以下图为例，操作步骤为：</p><ul><li>在下拉框中选择变量的 <strong>类型</strong>。支持的变量类型包括 <strong>浮点型</strong>、<strong>布尔类型</strong>、<strong>触发器类型</strong> 和 <strong>整型</strong>，具体说明请查看下文 <strong>变量类型</strong> 部分的内容。</li><li>在 <strong>名称</strong> 输入框中填写变量名</li></ul><p><img src="'+p+'" alt="add variables"></p><p>鼠标滑过变量时，每个创建好的变量右侧会有一个 <strong>×</strong> 图标按钮，点击即可删除对应变量。设置完成后请不要忘记点击动画图面板右上角的 <strong>保存</strong> 按钮以保存设置。</p><p><img src="'+g+'" alt="delete variables"></p><h3 id="变量类型" tabindex="-1">变量类型 <a class="header-anchor" href="#变量类型" aria-label="Permalink to &quot;变量类型&quot;">​</a></h3><p>目前支持创建的变量类型包括：</p><ul><li><p><strong>浮点型</strong>：变量的值可以是任意实数</p></li><li><p><strong>布尔类型</strong>：变量的值可以为真/假</p></li><li><p><strong>整型</strong>：变量的值可以是任意整数</p></li><li><p><strong>触发器类型</strong>：变量为触发器，若勾选则表示值为触发。触发器用于一次性的条件判断，当触发条件满足时，发生状态过渡，过渡完成后，所引用到的所有触发器都会被重置为 <strong>未触发状态</strong>。</p><blockquote><p><strong>注意</strong>：仅当过渡到状态时，触发器才会被重置，若是过渡到“伪状态”，触发器不会被重置。</p></blockquote><p>例如下图，只要在 ① 中设置触发器 T1 或 T2 一次，状态 A 就能达到子状态机中的状态 B 或者 C，不需要再次设置 ② 和 ③ 中的触发器：</p><p><img src="'+m+'" alt="variable"></p><p>在 v3.5.0 中，我们增加了新的机制 <strong>下一帧重置（Reset on next frame）</strong>，在勾选后，触发器会在动画更新后立即重置。</p><p><img src="'+c+'" alt="reset on next frame"></p></li></ul><h3 id="通过脚本控制变量" tabindex="-1">通过脚本控制变量 <a class="header-anchor" href="#通过脚本控制变量" aria-label="Permalink to &quot;通过脚本控制变量&quot;">​</a></h3><p>开发者也可以在脚本中通过动画控制器组件获取和修改变量的值，详情请参考 <a href="./animation-controller">动画控制器组件参考</a>。</p>',30),q=[h];function A(b,v,B,u,x,R){return s(),o("div",null,q)}const k=r(d,[["render",A]]);export{f as __pageData,k as default};
