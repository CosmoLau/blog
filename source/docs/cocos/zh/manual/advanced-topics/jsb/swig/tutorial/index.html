<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>在 Cocos Creator 中的 Swig 工作流教程 | Cocos</title>
    <meta name="description" content="Cocos Creator">
    <link rel="preload stylesheet" href="/docs/cocos/assets/style.f161668e.css" as="style">
    
    <script type="module" src="/docs/cocos/assets/app.c57141b8.js"></script>
    <link rel="preload" href="/docs/cocos/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/docs/cocos/assets/chunks/framework.5ffcbaff.js">
    <link rel="modulepreload" href="/docs/cocos/assets/chunks/theme.63820932.js">
    <link rel="modulepreload" href="/docs/cocos/assets/zh_manual_advanced-topics_jsb_swig_tutorial_index.md.0d2f8409.lean.js">
    <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-255ec12d><!--[--><!--]--><!--[--><span tabindex="-1" data-v-ae3e3f51></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-ae3e3f51> Skip to content </a><!--]--><!----><header class="VPNav" data-v-255ec12d data-v-7e5bc4a5><div class="VPNavBar has-sidebar" data-v-7e5bc4a5 data-v-faa4ef78><div class="container" data-v-faa4ef78><div class="title" data-v-faa4ef78><div class="VPNavBarTitle has-sidebar" data-v-faa4ef78 data-v-8bbac535><a class="title" href="/docs/cocos/" data-v-8bbac535><!--[--><!--]--><!----><!--[-->Cocos<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-faa4ef78><div class="curtain" data-v-faa4ef78></div><div class="content-body" data-v-faa4ef78><!--[--><!--]--><div class="VPNavBarSearch search" style="--vp-meta-key:&#39;Meta&#39;;" data-v-faa4ef78><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg class="DocSearch-Search-Icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索文档</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-faa4ef78 data-v-7f418b0f><span id="main-nav-aria-label" class="visually-hidden" data-v-7f418b0f>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/docs/cocos/" tabindex="0" data-v-7f418b0f data-v-5e623618><!--[-->主页<!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-7f418b0f data-v-764effdf><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-764effdf><span class="text" data-v-764effdf><!----> Cocos Creator <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-764effdf><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-764effdf><div class="VPMenu" data-v-764effdf data-v-e7ea1737><div class="items" data-v-e7ea1737><!--[--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-2f2cfafc><a class="VPLink link" href="/docs/cocos/zh/manual/" data-v-2f2cfafc><!--[-->手册文档<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-2f2cfafc><a class="VPLink link" href="/docs/cocos/api/" data-v-2f2cfafc><!--[-->API 参考<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-7f418b0f data-v-764effdf><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-764effdf><span class="text" data-v-764effdf><!----> Cocos Creator 3D <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-764effdf><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-764effdf><div class="VPMenu" data-v-764effdf data-v-e7ea1737><div class="items" data-v-e7ea1737><!--[--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-2f2cfafc><a class="VPLink link" href="/docs/cocos/zh/manual/" data-v-2f2cfafc><!--[-->手册文档<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-2f2cfafc><a class="VPLink link" href="/docs/cocos/api/" data-v-2f2cfafc><!--[-->API 参考<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-7f418b0f data-v-764effdf><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-764effdf><span class="text" data-v-764effdf><!----> Cocos2d-x <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-764effdf><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-764effdf><div class="VPMenu" data-v-764effdf data-v-e7ea1737><div class="items" data-v-e7ea1737><!--[--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-2f2cfafc><a class="VPLink link" href="/docs/cocos/zh/manual/" data-v-2f2cfafc><!--[-->手册文档<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-2f2cfafc><a class="VPLink link" href="/docs/cocos/api/" data-v-2f2cfafc><!--[-->API 参考<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-7f418b0f data-v-764effdf><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-764effdf><span class="text" data-v-764effdf><!----> version <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-764effdf><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-764effdf><div class="VPMenu" data-v-764effdf data-v-e7ea1737><div class="items" data-v-e7ea1737><!--[--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-2f2cfafc><a class="VPLink link vp-external-link-icon" href="https://docs.cocos.com/creator/3.7/manual/zh" target="_blank" rel="noreferrer" data-v-2f2cfafc><!--[-->3.7<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-2f2cfafc><a class="VPLink link vp-external-link-icon" href="https://docs.cocos.com/creator/3.6/manual/zh" target="_blank" rel="noreferrer" data-v-2f2cfafc><!--[-->3.6<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-2f2cfafc><a class="VPLink link vp-external-link-icon" href="https://docs.cocos.com/creator/3.5/manual/zh" target="_blank" rel="noreferrer" data-v-2f2cfafc><!--[-->3.5<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-2f2cfafc><a class="VPLink link vp-external-link-icon" href="https://docs.cocos.com/creator/3.4/manual/zh" target="_blank" rel="noreferrer" data-v-2f2cfafc><!--[-->3.4<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-2f2cfafc><a class="VPLink link vp-external-link-icon" href="https://docs.cocos.com/creator/3.3/manual/zh" target="_blank" rel="noreferrer" data-v-2f2cfafc><!--[-->3.3<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-2f2cfafc><a class="VPLink link vp-external-link-icon" href="https://docs.cocos.com/creator/3.2/manual/zh" target="_blank" rel="noreferrer" data-v-2f2cfafc><!--[-->3.2<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-2f2cfafc><a class="VPLink link vp-external-link-icon" href="https://docs.cocos.com/creator/3.1/manual/zh" target="_blank" rel="noreferrer" data-v-2f2cfafc><!--[-->3.1<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-2f2cfafc><a class="VPLink link vp-external-link-icon" href="https://docs.cocos.com/creator/3.0/manual/zh" target="_blank" rel="noreferrer" data-v-2f2cfafc><!--[-->3.0<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-2f2cfafc><a class="VPLink link vp-external-link-icon" href="https://docs.cocos.com/creator/2.4/manual/zh" target="_blank" rel="noreferrer" data-v-2f2cfafc><!--[-->2.4<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-2f2cfafc><a class="VPLink link vp-external-link-icon" href="https://docs.cocos.com/creator/2.3/manual/zh" target="_blank" rel="noreferrer" data-v-2f2cfafc><!--[-->2.3<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-2f2cfafc><a class="VPLink link vp-external-link-icon" href="https://docs.cocos.com/creator/2.2/manual/zh" target="_blank" rel="noreferrer" data-v-2f2cfafc><!--[-->2.2<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-2f2cfafc><a class="VPLink link vp-external-link-icon" href="https://docs.cocos.com/creator/2.0/manual/zh" target="_blank" rel="noreferrer" data-v-2f2cfafc><!--[-->2.1<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-2f2cfafc><a class="VPLink link vp-external-link-icon" href="https://docs.cocos.com/creator/2.0/manual/zh" target="_blank" rel="noreferrer" data-v-2f2cfafc><!--[-->2.0<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-2f2cfafc><a class="VPLink link vp-external-link-icon" href="https://docs.cocos.com/creator/1.10/manual/zh" target="_blank" rel="noreferrer" data-v-2f2cfafc><!--[-->1.10<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-2f2cfafc><a class="VPLink link vp-external-link-icon" href="https://docs.cocos.com/creator/1.9/manual/zh" target="_blank" rel="noreferrer" data-v-2f2cfafc><!--[-->1.9<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><div class="VPFlyout VPNavBarTranslations translations" data-v-faa4ef78 data-v-74abcbb9 data-v-764effdf><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="Change language" data-v-764effdf><span class="text" data-v-764effdf><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="option-icon" data-v-764effdf><path d="M0 0h24v24H0z" fill="none"></path><path d=" M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z " class="css-c4d79v"></path></svg>  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-764effdf><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-764effdf><div class="VPMenu" data-v-764effdf data-v-e7ea1737><!----><!--[--><!--[--><div class="items" data-v-74abcbb9><p class="title" data-v-74abcbb9>简体中文</p><!--[--><div class="VPMenuLink" data-v-74abcbb9 data-v-2f2cfafc><a class="VPLink link" href="/docs/cocos/en/zh/manual/advanced-topics/jsb/swig/tutorial/" data-v-2f2cfafc><!--[-->English<!--]--></a></div><!--]--></div><!--]--><!--]--></div></div></div><div class="VPNavBarAppearance appearance" data-v-faa4ef78 data-v-f6a63727><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-f6a63727 data-v-82b282f1 data-v-f3c41672><span class="check" data-v-f3c41672><span class="icon" data-v-f3c41672><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-82b282f1><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-82b282f1><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-faa4ef78 data-v-0394ad82 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/CosmoLau/cocos-docs-vitepress" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-f80f8133><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-faa4ef78 data-v-40855f84 data-v-764effdf><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-764effdf><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-764effdf><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-764effdf><div class="VPMenu" data-v-764effdf data-v-e7ea1737><!----><!--[--><!--[--><div class="group translations" data-v-40855f84><p class="trans-title" data-v-40855f84>简体中文</p><!--[--><div class="VPMenuLink" data-v-40855f84 data-v-2f2cfafc><a class="VPLink link" href="/docs/cocos/en/zh/manual/advanced-topics/jsb/swig/tutorial/" data-v-2f2cfafc><!--[-->English<!--]--></a></div><!--]--></div><div class="group" data-v-40855f84><div class="item appearance" data-v-40855f84><p class="label" data-v-40855f84>Appearance</p><div class="appearance-action" data-v-40855f84><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-40855f84 data-v-82b282f1 data-v-f3c41672><span class="check" data-v-f3c41672><span class="icon" data-v-f3c41672><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-82b282f1><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-82b282f1><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-40855f84><div class="item social-links" data-v-40855f84><div class="VPSocialLinks social-links-list" data-v-40855f84 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/CosmoLau/cocos-docs-vitepress" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-f80f8133><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-faa4ef78 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav reached-top" data-v-255ec12d data-v-5cfd5582><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-5cfd5582><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-5cfd5582><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-5cfd5582>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-5cfd5582 data-v-d5bb9d56><button data-v-d5bb9d56>Return to top</button><!----></div></div><aside class="VPSidebar" data-v-255ec12d data-v-845b8fc6><div class="curtain" data-v-845b8fc6></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-845b8fc6><span class="visually-hidden" id="sidebar-aria-label" data-v-845b8fc6> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-845b8fc6><section class="VPSidebarItem level-0" data-v-845b8fc6 data-v-4fbabd82><div class="item" role="button" tabindex="0" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><h2 class="text" data-v-4fbabd82>简介</h2><!----></div><div class="items" data-v-4fbabd82><!--[--><div class="VPSidebarItem level-1 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>Introduction</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/getting-started/introduction/" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>关于 Cocos Creator</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/getting-started/support.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>获取帮助和支持</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-845b8fc6><section class="VPSidebarItem level-0" data-v-845b8fc6 data-v-4fbabd82><div class="item" role="button" tabindex="0" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><h2 class="text" data-v-4fbabd82>基础知识</h2><!----></div><div class="items" data-v-4fbabd82><!--[--><section class="VPSidebarItem level-1 collapsible collapsed is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" tabindex="0" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/getting-started/index.html" data-v-4fbabd82><!--[--><h3 class="text" data-v-4fbabd82>新手上路</h3><!--]--></a><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-4fbabd82><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-4fbabd82><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-4fbabd82><!--[--><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/getting-started/install/index.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>安装和启动</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/getting-started/dashboard/index.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>使用 Dashboard</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/getting-started/helloworld/index.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>Hello World!</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/getting-started/project-structure/index.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>项目结构</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" tabindex="0" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/editor/index.html" data-v-4fbabd82><!--[--><h3 class="text" data-v-4fbabd82>编辑器界面</h3><!--]--></a><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-4fbabd82><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-4fbabd82><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-4fbabd82><!--[--><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/editor/scene/index.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>场景编辑器</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/editor/hierarchy/index.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>层级管理器</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/editor/assets/index.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>资源管理器</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/editor/inspector/index.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>属性检查器</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/editor/console/index.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>控制台</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/editor/preferences/index.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>偏好设置</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/editor/project/index.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>项目设置</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/editor/mainMenu/index.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>主菜单</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/editor/toolbar/index.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>工具栏</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/editor/editor-layout/index.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>编辑器布局</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/editor/preview/index.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>预览调试</p><!--]--></a><!----></div><!----></div><!--]--></div></section><div class="VPSidebarItem level-1 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/glossary/index.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>术语</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-845b8fc6><section class="VPSidebarItem level-0" data-v-845b8fc6 data-v-4fbabd82><div class="item" role="button" tabindex="0" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><h2 class="text" data-v-4fbabd82>示例和教程</h2><!----></div><div class="items" data-v-4fbabd82><!--[--><section class="VPSidebarItem level-1 collapsible collapsed is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" tabindex="0" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/getting-started/first-game-2d/index.html" data-v-4fbabd82><!--[--><h3 class="text" data-v-4fbabd82>快速上手：制作第一个 2D 游戏</h3><!--]--></a><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-4fbabd82><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-4fbabd82><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-4fbabd82><!--[--><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/getting-started/first-game-2d/touch.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>监听触摸事件</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" tabindex="0" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/getting-started/first-game/index.html" data-v-4fbabd82><!--[--><h3 class="text" data-v-4fbabd82>快速上手：制作第一个 3D 游戏</h3><!--]--></a><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-4fbabd82><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-4fbabd82><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-4fbabd82><!--[--><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/getting-started/first-game/advance.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>进阶篇 - 添加阴影、光照和骨骼动画</p><!--]--></a><!----></div><!----></div><!--]--></div></section><div class="VPSidebarItem level-1 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/cases-and-tutorials/index.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>示例与教程</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-845b8fc6><section class="VPSidebarItem level-0" data-v-845b8fc6 data-v-4fbabd82><div class="item" role="button" tabindex="0" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><h2 class="text" data-v-4fbabd82>工作流</h2><!----></div><div class="items" data-v-4fbabd82><!--[--><section class="VPSidebarItem level-1 collapsible collapsed is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" tabindex="0" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/release-notes/index.html" data-v-4fbabd82><!--[--><h3 class="text" data-v-4fbabd82>升级指南</h3><!--]--></a><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-4fbabd82><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-4fbabd82><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-4fbabd82><!--[--><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/release-notes/upgrade-guide-v3.0.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>v3.0 升级指南</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/material-system/effect-2.x-to-3.0.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>v3.0 材质升级指南</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/material-system/Material-upgrade-documentation-for-v3.0-to-v3.1.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>v3.1 材质升级指南</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/animation/animation-clip-migration-3.3.x.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>v3.3 动画剪辑数据升级指南</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/material-system/effect-upgrade-documentation-for-v3.4.2-to-v3.5.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>v3.5 材质升级指南</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/asset/subpackage-upgrade-guide.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>资源分包升级指南</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/asset/asset-manager-upgrade-guide.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>资源管理模块升级指南</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/engine/template/native-upgrade-to-v3.5.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>v3.5 已构建工程升级指南</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/engine/template/native-upgrade-to-v3.6.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>v3.6 已构建工程升级指南</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/release-notes/build-template-settings-upgrade-guide-v3.6.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>v3.6 构建模板与 settings.json 升级指南</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/material-system/effect-upgrade-documentation-for-v3.5-to-v3.6.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>Cocos Creator 3.6 材质升级指南</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/particle-system/particle-upgrade-documentation-for-v3.5-to-v3.6.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>升级指南：粒子从 v3.5.x 升级到 v3.6.0</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" tabindex="0" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/concepts/scene/index.html" data-v-4fbabd82><!--[--><h3 class="text" data-v-4fbabd82>场景制作</h3><!--]--></a><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-4fbabd82><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-4fbabd82><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-4fbabd82><!--[--><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/asset/scene.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>场景资源</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/concepts/scene/node-component.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>节点和组件</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/concepts/scene/coord.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>坐标系和节点变换</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/concepts/scene/node-tree.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>节点层级和渲染顺序</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/concepts/scene/scene-editing.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>使用场景编辑器搭建场景</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/editor/rendering/lod.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>多层次细节</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" tabindex="0" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/asset/index.html" data-v-4fbabd82><!--[--><h3 class="text" data-v-4fbabd82>资源系统</h3><!--]--></a><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-4fbabd82><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-4fbabd82><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-4fbabd82><!--[--><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/asset/asset-workflow.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>资源工作流</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-2 collapsible collapsed is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" tabindex="0" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/asset/image.html" data-v-4fbabd82><!--[--><h4 class="text" data-v-4fbabd82>图像资源</h4><!--]--></a><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-4fbabd82><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-4fbabd82><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-4fbabd82><!--[--><div class="VPSidebarItem level-3 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/asset/texture.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>纹理贴图资源</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-3 collapsible collapsed is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" tabindex="0" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/asset/sprite-frame.html" data-v-4fbabd82><!--[--><h5 class="text" data-v-4fbabd82>精灵帧资源</h5><!--]--></a><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-4fbabd82><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-4fbabd82><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-4fbabd82><!--[--><div class="VPSidebarItem level-4 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/ui-system/components/engine/trim.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>图像资源的自动剪裁</p><!--]--></a><!----></div><!----></div><!--]--></div></section><div class="VPSidebarItem level-3 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/asset/texture-cube.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>立方体贴图资源</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/asset/atlas.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>图集资源</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/asset/auto-atlas.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>自动图集资源</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/asset/label-atlas.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>艺术数字资源</p><!--]--></a><!----></div><!----></div><!--]--></div></section><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/asset/prefab.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>预制资源</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/asset/prefab.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>字体资源</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/asset/audio.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>音频资源</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-2 collapsible collapsed is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" tabindex="0" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/asset/material.html" data-v-4fbabd82><!--[--><h4 class="text" data-v-4fbabd82>材质资源</h4><!--]--></a><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-4fbabd82><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-4fbabd82><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-4fbabd82><!--[--><div class="VPSidebarItem level-3 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/importer/materials/fbx-materials.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>FBX 智能材质导入</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-2 collapsible collapsed is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" tabindex="0" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/asset/model/mesh.html" data-v-4fbabd82><!--[--><h4 class="text" data-v-4fbabd82>模型资源</h4><!--]--></a><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-4fbabd82><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-4fbabd82><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-4fbabd82><!--[--><div class="VPSidebarItem level-3 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/asset/model/dcc-export-mesh.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>从第三方工具导出模型资源</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/asset/model/max-export-fbx.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>从 3ds Max 中导出 FBX 模型资源</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/asset/model/maya-export-fbx.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>从 Maya 中导出 FBX 模型资源</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/asset/model/glTF.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>glTF 模型</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/asset/model/scripting-mesh.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>程序化创建网格</p><!--]--></a><!----></div><!----></div><!--]--></div></section><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/asset/spine.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>Spine 骨骼动画资源</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/asset/dragonbones.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>DragonBones 骨骼动画资源</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/asset/tiledmap.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>TiledMap 瓦片图资源</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/asset/json.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>JSON 资源</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/asset/text.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>文本资源</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" tabindex="0" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/scripting/index.html" data-v-4fbabd82><!--[--><h3 class="text" data-v-4fbabd82>脚本指南及事件机制</h3><!--]--></a><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-4fbabd82><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-4fbabd82><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-4fbabd82><!--[--><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/scripting/language-support.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>编程语言支持</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-2 collapsible collapsed is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" tabindex="0" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/scripting/script-basics.html" data-v-4fbabd82><!--[--><h4 class="text" data-v-4fbabd82>脚本基础</h4><!--]--></a><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-4fbabd82><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-4fbabd82><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-4fbabd82><!--[--><div class="VPSidebarItem level-3 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/scripting/setup.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>创建脚本</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/scripting/coding-setup.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>配置代码编辑环境</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/scripting/basic.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>脚本运行环境</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/scripting/decorator.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>装饰器使用</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/scripting/reference/attributes.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>属性参数参考</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/scripting/life-cycle-callbacks.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>生命周期回调</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/scripting/readonly.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>开发注意事项</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-2 collapsible collapsed is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" tabindex="0" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/scripting/usage.html" data-v-4fbabd82><!--[--><h4 class="text" data-v-4fbabd82>脚本使用</h4><!--]--></a><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-4fbabd82><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-4fbabd82><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-4fbabd82><!--[--><div class="VPSidebarItem level-3 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/scripting/access-node-component.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>访问节点和其他组件</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/scripting/basic-node-api.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>常用节点和组件接口</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/scripting/create-destroy.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>创建和销毁节点</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/scripting/scheduler.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>使用计时器</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/scripting/component.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>组件和组件执行顺序</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/scripting/scene-managing.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>加载和切换场景</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/scripting/load-assets.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>获取和加载资源</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/scripting/tsconfig.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>tsconfig 配置</p><!--]--></a><!----></div><!----></div><!--]--></div></section><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/scripting/reference-class.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>脚本进阶</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-2 collapsible collapsed is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" tabindex="0" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/engine/event/index.html" data-v-4fbabd82><!--[--><h4 class="text" data-v-4fbabd82>事件系统</h4><!--]--></a><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-4fbabd82><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-4fbabd82><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-4fbabd82><!--[--><div class="VPSidebarItem level-3 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/engine/event/event-emit.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>发射和监听事件</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/engine/event/event-input.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>输入事件系统</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/engine/event/event-node.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>节点事件系统</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/engine/event/event-api.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>事件 API</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-2 collapsible collapsed is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" tabindex="0" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/scripting/modules/index.html" data-v-4fbabd82><!--[--><h4 class="text" data-v-4fbabd82>模块规范与示例</h4><!--]--></a><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-4fbabd82><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-4fbabd82><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-4fbabd82><!--[--><div class="VPSidebarItem level-3 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/scripting/modules/engine.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>引擎模块</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/scripting/modules/example.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>外部模块使用案例</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/scripting/modules/spec.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>模块规范</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/scripting/modules/import-map.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>导入映射</p><!--]--></a><!----></div><!----></div><!--]--></div></section><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/scripting/external-scripts.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>外部代码支持</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" tabindex="0" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/editor/publish/index.html" data-v-4fbabd82><!--[--><h3 class="text" data-v-4fbabd82>跨平台发布</h3><!--]--></a><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-4fbabd82><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-4fbabd82><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-4fbabd82><!--[--><section class="VPSidebarItem level-2 collapsible collapsed is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" tabindex="0" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/editor/publish/android/index.html" data-v-4fbabd82><!--[--><h4 class="text" data-v-4fbabd82>发布 Android 应用</h4><!--]--></a><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-4fbabd82><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-4fbabd82><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-4fbabd82><!--[--><div class="VPSidebarItem level-3 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/editor/publish/android/build-example-android.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>Android 构建示例</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/editor/publish/android/build-options-android.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>Android 构建选项</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/editor/publish/android/build-setup-evn-android.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>配置 Android 原生开发环境</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-2 collapsible collapsed is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" tabindex="0" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/editor/publish/ios/index.html" data-v-4fbabd82><!--[--><h4 class="text" data-v-4fbabd82>发布 iOS 应用</h4><!--]--></a><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-4fbabd82><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-4fbabd82><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-4fbabd82><!--[--><div class="VPSidebarItem level-3 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/editor/publish/ios/build-example-ios.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>iOS 发布示例</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/editor/publish/ios/build-options-ios.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>iOS 构建选项</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-2 collapsible collapsed is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" tabindex="0" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/editor/publish/windows/index.html" data-v-4fbabd82><!--[--><h4 class="text" data-v-4fbabd82>发布 Windows 应用</h4><!--]--></a><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-4fbabd82><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-4fbabd82><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-4fbabd82><!--[--><div class="VPSidebarItem level-3 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/editor/publish/windows/build-example-windows.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>Windows 构建示例</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/editor/publish/windows/build-options-windows.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>Windows 构建选项</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-2 collapsible collapsed is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" tabindex="0" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/editor/publish/publish-native-index.html" data-v-4fbabd82><!--[--><h4 class="text" data-v-4fbabd82>原生平台发布通用基础</h4><!--]--></a><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-4fbabd82><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-4fbabd82><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-4fbabd82><!--[--><div class="VPSidebarItem level-3 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/editor/publish/native-options.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>原生平台通用构建选项</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/editor/publish/setup-native-development.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>安装配置原生环境</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/editor/publish/debug-jsb.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>原生平台 JavaScript 调试</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-2 collapsible collapsed is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" tabindex="0" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/editor/publish/publish-mini-game.html" data-v-4fbabd82><!--[--><h4 class="text" data-v-4fbabd82>发布到小游戏平台</h4><!--]--></a><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-4fbabd82><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-4fbabd82><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-4fbabd82><!--[--><div class="VPSidebarItem level-3 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/editor/publish/publish-huawei-agc.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>发布到 HUAWEI AppGallery Connect</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/editor/publish/publish-alipay-mini-game.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>发布到支付宝小游戏</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/editor/publish/publish-taobao-mini-game.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>发布到淘宝小游戏</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-3 collapsible collapsed is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" tabindex="0" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/editor/publish/publish-wechatgame.html" data-v-4fbabd82><!--[--><h5 class="text" data-v-4fbabd82>发布到微信小游戏</h5><!--]--></a><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-4fbabd82><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-4fbabd82><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-4fbabd82><!--[--><div class="VPSidebarItem level-4 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/editor/publish/wechatgame-plugin.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>启用微信小游戏引擎插件</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-4 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/editor/publish/publish-pc-wechatgame.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>接入微信 PC 小游戏</p><!--]--></a><!----></div><!----></div><!--]--></div></section><div class="VPSidebarItem level-3 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/editor/publish/publish-bytedance-mini-game.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>发布到字节跳动小游戏</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/editor/publish/publish-huawei-quick-game.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>发布到华为快游戏</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/editor/publish/publish-oppo-mini-game.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>发布到 OPPO 小游戏</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/editor/publish/publish-vivo-mini-game.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>发布到 vivo 小游戏</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/editor/publish/publish-xiaomi-quick-game.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>发布到小米快游戏</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/editor/publish/publish-baidu-mini-game.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>发布到百度小游戏</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/editor/publish/build-open-data-context.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>开放数据域</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/editor/publish/subpackage.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>小游戏分包</p><!--]--></a><!----></div><!----></div><!--]--></div></section><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/editor/publish/publish-fb-instant-games.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>发布到 Facebook Instant Games 平台</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/editor/publish/publish-web.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>发布到 Web 平台</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/editor/publish/build-options.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>通用构建选项介绍</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/editor/publish/publish-in-command-line.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>命令行发布项目</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/editor/publish/custom-project-build-template.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>定制项目的构建模版</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/cocos/zh/manual/editor/publish/build-guide.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>构建流程简介与常见错误处理</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-255ec12d data-v-3107c4ee><div class="VPDoc has-sidebar has-aside" data-v-3107c4ee data-v-6b87e69f><!--[--><!--]--><div class="container" data-v-6b87e69f><div class="aside" data-v-6b87e69f><div class="aside-curtain" data-v-6b87e69f></div><div class="aside-container" data-v-6b87e69f><div class="aside-content" data-v-6b87e69f><div class="VPDocAside" data-v-6b87e69f data-v-3f215769><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-3f215769 data-v-ff0f39c8><div class="content" data-v-ff0f39c8><div class="outline-marker" data-v-ff0f39c8></div><div class="outline-title" data-v-ff0f39c8>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-ff0f39c8><span class="visually-hidden" id="doc-outline-aria-label" data-v-ff0f39c8> Table of Contents for current page </span><ul class="root" data-v-ff0f39c8 data-v-b0ff2abe><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-6b87e69f><div class="content-container" data-v-6b87e69f><!--[--><!--]--><!----><main class="main" data-v-6b87e69f><div style="position:relative;" class="vp-doc _docs_cocos_zh_manual_advanced-topics_jsb_swig_tutorial_index" data-v-6b87e69f><div><h1 id="在-cocos-creator-中的-swig-工作流教程" tabindex="-1">在 Cocos Creator 中的 Swig 工作流教程 <a class="header-anchor" href="#在-cocos-creator-中的-swig-工作流教程" aria-label="Permalink to &quot;在 Cocos Creator 中的 Swig 工作流教程&quot;">​</a></h1><h2 id="如何为引擎内的新模块添加绑定" tabindex="-1">如何为引擎内的新模块添加绑定 <a class="header-anchor" href="#如何为引擎内的新模块添加绑定" aria-label="Permalink to &quot;如何为引擎内的新模块添加绑定&quot;">​</a></h2><h3 id="添加一个新模块的接口文件" tabindex="-1">添加一个新模块的接口文件 <a class="header-anchor" href="#添加一个新模块的接口文件" aria-label="Permalink to &quot;添加一个新模块的接口文件&quot;">​</a></h3><ul><li><p>添加一个新模块的接口文件到 <code>native/tools/swig-config</code> 目录, 例如： <code>new-engine-module.i</code></p></li><li><p>拷贝 <a href="https://github.com/cocos/cocos-engine/blob/1f928364f4cad22681e7830c53dc7da71a87d11f/native/tools/swig-config/swig-interface-template.i" target="_blank" rel="noreferrer">swig-interface-template.i</a> 文件中的内容到 new-engine-module.i</p></li><li><p>添加必要的配置，可以参考 <code>native/tools/swig-config</code> 目录下现有的 .i 文件配置，或者参考<a href="#如何为开发者的项目绑定一个新模块">下面的章节内容</a>。</p></li></ul><h3 id="修改-swig-config-js-文件" tabindex="-1">修改 swig-config.js 文件 <a class="header-anchor" href="#修改-swig-config-js-文件" aria-label="Permalink to &quot;修改 swig-config.js 文件&quot;">​</a></h3><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// ......</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 引擎模块配置</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> configList </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">    [ </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">2d.i</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">jsb_2d_auto.cpp</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// ......</span></span>
<span class="line"><span style="color:#A6ACCD;">    [ </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">renderer.i</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">jsb_render_auto.cpp</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    [ </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">new-engine-module.i</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">jsb_new_engine_module_auto.cpp</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> ]</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// 添加此行</span></span>
<span class="line"><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//......</span></span></code></pre></div><h3 id="生成绑定代码" tabindex="-1">生成绑定代码 <a class="header-anchor" href="#生成绑定代码" aria-label="Permalink to &quot;生成绑定代码&quot;">​</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">engine/native/tools/swig-config</span></span>
<span class="line"><span style="color:#FFCB6B;">node</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">genbindings.js</span></span></code></pre></div><h3 id="修改-engine-native-cocos-cmakelists-txt" tabindex="-1">修改 <code>engine/native/cocos/CMakeLists.txt</code> <a class="header-anchor" href="#修改-engine-native-cocos-cmakelists-txt" aria-label="Permalink to &quot;修改 `engine/native/cocos/CMakeLists.txt`&quot;">​</a></h3><div class="language-cmake"><button title="Copy Code" class="copy"></button><span class="lang">cmake</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">######## auto</span></span>
<span class="line"><span style="color:#A6ACCD;">cocos_source_files(</span></span>
<span class="line"><span style="color:#A6ACCD;">    NO_WERROR   NO_UBUILD   cocos/bindings/auto/jsb_new_engine_module_auto.cpp </span><span style="color:#676E95;font-style:italic;"># 添加此行</span></span>
<span class="line"><span style="color:#A6ACCD;">                            cocos/bindings/auto/jsb_new_engine_module_auto.h </span><span style="color:#676E95;font-style:italic;"># 添加此行</span></span>
<span class="line"><span style="color:#A6ACCD;">    NO_WERROR   NO_UBUILD   cocos/bindings/auto/jsb_cocos_auto.cpp</span></span>
<span class="line"><span style="color:#A6ACCD;">                            cocos/bindings/auto/jsb_cocos_auto.h</span></span>
<span class="line"><span style="color:#A6ACCD;">    ......</span></span></code></pre></div><h3 id="为脚本引擎注册新的模块" tabindex="-1">为脚本引擎注册新的模块 <a class="header-anchor" href="#为脚本引擎注册新的模块" aria-label="Permalink to &quot;为脚本引擎注册新的模块&quot;">​</a></h3><p>打开 <code>jsb_module_register.cpp</code> ，做如下修改</p><div class="language-cpp"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">......</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#if</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">CC_USE_PHYSICS_PHYSX</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;font-style:italic;">#include</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">cocos/bindings/auto/jsb_physics_auto.h</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#endif</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#include</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">cocos/bindings/auto/jsb_new_engine_module_auto.h</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// 添加此行</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">bool</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">jsb_register_all_modules</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">se</span><span style="color:#89DDFF;">::</span><span style="color:#A6ACCD;">ScriptEngine </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;">se </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">se</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">ScriptEngine</span><span style="color:#89DDFF;">::</span><span style="color:#82AAFF;">getInstance</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">    ......</span></span>
<span class="line"><span style="color:#A6ACCD;">    se</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">addRegisterCallback</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">register_all_my_new_engine_module</span><span style="color:#89DDFF;">);</span><span style="color:#676E95;font-style:italic;"> // 添加此行</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    se</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">addAfterCleanupHook</span><span style="color:#89DDFF;">([]()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">cc</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">DeferredReleasePool</span><span style="color:#89DDFF;">::</span><span style="color:#82AAFF;">clear</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">JSBClassType</span><span style="color:#89DDFF;">::</span><span style="color:#82AAFF;">cleanup</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">});</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">true;</span><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><h2 id="如何为开发者的项目绑定一个新模块" tabindex="-1">如何为开发者的项目绑定一个新模块 <a class="header-anchor" href="#如何为开发者的项目绑定一个新模块" aria-label="Permalink to &quot;如何为开发者的项目绑定一个新模块&quot;">​</a></h2><p>假定我们已经有一个 Cocos Creator 的工程，其位于 <code>/Users/james/NewProject</code> 目录下。</p><p>打开 Cocos Creator 的构建面板，构建出一个原生平台的工程，会生成 <code>/Users/james/NewProject/native</code> 目录。</p><h3 id="绑定一个简单的类" tabindex="-1">绑定一个简单的类 <a class="header-anchor" href="#绑定一个简单的类" aria-label="Permalink to &quot;绑定一个简单的类&quot;">​</a></h3><h4 id="创建一个简单类" tabindex="-1">创建一个简单类 <a class="header-anchor" href="#创建一个简单类" aria-label="Permalink to &quot;创建一个简单类&quot;">​</a></h4><p>创建一个头文件，其位于 <code>/Users/james/NewProject/native/engine/Classes/MyObject.h</code> , 其内容为：</p><div class="language-cpp"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// MyObject.h</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#pragma</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">once</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#include</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">cocos/cocos.h</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#C792EA;">namespace</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">my_ns</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">MyObject</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#C792EA;">public</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">MyObject</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">default</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">MyObject</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">int</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;font-style:italic;">a</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">bool</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;font-style:italic;">b</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">virtual</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">~MyObject</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">default</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">void</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#82AAFF;">CC_LOG_DEBUG</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">==&gt; a: %d, b: %d</span><span style="color:#A6ACCD;">\n</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> _a</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">int</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;">_b</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">float</span><span style="color:#F07178;"> publicFloatProperty</span><span style="color:#89DDFF;">{</span><span style="color:#F78C6C;">1.23F</span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#C792EA;">private</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">int</span><span style="color:#F07178;"> _a</span><span style="color:#89DDFF;">{</span><span style="color:#F78C6C;">100</span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">bool</span><span style="color:#F07178;"> _b</span><span style="color:#89DDFF;">{true};</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#676E95;font-style:italic;"> // namespace my_ns {</span></span></code></pre></div><h4 id="编写一个-swig-接口文件" tabindex="-1">编写一个 Swig 接口文件 <a class="header-anchor" href="#编写一个-swig-接口文件" aria-label="Permalink to &quot;编写一个 Swig 接口文件&quot;">​</a></h4><p>创建一个名称为 <code>my-module.i</code> 的接口文件，其位于 <code>/Users/james/NewProject/tools/swig-config</code>目录下。</p><div class="language-cpp"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// my-module.i</span></span>
<span class="line"><span style="color:#89DDFF;">%</span><span style="color:#F78C6C;">module</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">target_namespace</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">my_ns</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> my_module</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// %insert(header_file) %{ ... }%} 代码块中的内容最终会被原封不动地插入到生成的头文件(.h)开头的地方</span></span>
<span class="line"><span style="color:#89DDFF;">%</span><span style="color:#82AAFF;">insert</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">header_file</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">%{</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#pragma</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">once</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#include</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">bindings/jswrapper/SeApi.h</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#include</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">bindings/manual/jsb_conversions.h</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#include</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">MyObject.h</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// 添加这行，%include 指令表示让 swig 解析此文件，并且为此文件中的类生成绑定代码。</span></span>
<span class="line"><span style="color:#89DDFF;">%}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// %{ ... %} 代码块中的内容最终会被原封不动地插入到生成的源文件(.cpp)开头的地方</span></span>
<span class="line"><span style="color:#89DDFF;">%{</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#include</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">bindings/auto/jsb_my_module_auto.h</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">%}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">%</span><span style="color:#A6ACCD;">include </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">MyObject.h</span><span style="color:#89DDFF;">&quot;</span></span></code></pre></div><h4 id="编写一个-swig-配置文件-swig-config-js" tabindex="-1">编写一个 Swig 配置文件（swig-config.js） <a class="header-anchor" href="#编写一个-swig-配置文件-swig-config-js" aria-label="Permalink to &quot;编写一个 Swig 配置文件（swig-config.js）&quot;">​</a></h4><p>创建一个名为 swig-config.js 的文件，例如： <code>/Users/james/NewProject/tools/swig-config</code>目录下。</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// swig-config.js</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">use strict</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> path </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">path</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> configList </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">    [ </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">my-module.i</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">jsb_my_module_auto.cpp</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> projectRoot </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> path</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">resolve</span><span style="color:#A6ACCD;">(path</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">join</span><span style="color:#A6ACCD;">(__dirname</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">..</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">..</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> interfacesDir </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> path</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">join</span><span style="color:#A6ACCD;">(projectRoot</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">tools</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">swig-config</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> bindingsOutDir </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> path</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">join</span><span style="color:#A6ACCD;">(projectRoot</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">native</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">engine</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">common</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">bindings</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">auto</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// includeDirs 意思是 swig 执行时候使用的头文件搜索路径</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> includeDirs </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">    path</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">join</span><span style="color:#A6ACCD;">(projectRoot</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">native</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">engine</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">common</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Classes</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    interfacesDir</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    bindingsOutDir</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    includeDirs</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    configList</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span></code></pre></div><h4 id="为项目生成自动绑定文件" tabindex="-1">为项目生成自动绑定文件 <a class="header-anchor" href="#为项目生成自动绑定文件" aria-label="Permalink to &quot;为项目生成自动绑定文件&quot;">​</a></h4><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/Users/james/NewProject/tools/swig-config</span></span>
<span class="line"><span style="color:#FFCB6B;">node</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">引擎根目录</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#C3E88D;">/native/tools/swig-config/genbindings.js</span></span></code></pre></div><p>如果成功，包含自动绑定代码的 <code>jsb_my_module_auto.cpp/.h</code> 两个文件将被创建到 <code>/Users/james/NewProject/native/engine/bindings/auto</code> 目录下。</p><h4 id="修改项目的-cmakelists-txt-文件" tabindex="-1">修改项目的 CMakeLists.txt 文件 <a class="header-anchor" href="#修改项目的-cmakelists-txt-文件" aria-label="Permalink to &quot;修改项目的 CMakeLists.txt 文件&quot;">​</a></h4><ul><li><p>打开 <code>/Users/james/NewProject/native/engine/common/CMakeLists.txt</code>, 添加 <code>MyObject.h</code> 和自动绑定代码文件</p><div class="language-cmake"><button title="Copy Code" class="copy"></button><span class="lang">cmake</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">include</span><span style="color:#A6ACCD;">(${COCOS_X_PATH}/CMakeLists.txt)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">list</span><span style="color:#A6ACCD;">(APPEND CC_COMMON_SOURCES</span></span>
<span class="line"><span style="color:#A6ACCD;">    ${CMAKE_CURRENT_LIST_DIR}/Classes/Game.h</span></span>
<span class="line"><span style="color:#A6ACCD;">    ${CMAKE_CURRENT_LIST_DIR}/Classes/Game.cpp</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;">############### 添加下面几行 ##############</span></span>
<span class="line"><span style="color:#A6ACCD;">    ${CMAKE_CURRENT_LIST_DIR}/Classes/MyObject.h </span></span>
<span class="line"><span style="color:#A6ACCD;">    ${CMAKE_CURRENT_LIST_DIR}/bindings/auto/jsb_my_module_auto.h</span></span>
<span class="line"><span style="color:#A6ACCD;">    ${CMAKE_CURRENT_LIST_DIR}/bindings/auto/jsb_my_module_auto.cpp</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;">########################################################</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span></span></code></pre></div></li><li><p>修改 <code>/Users/james/NewProject/native/engine/mac/CMakeLists.txt</code></p><div class="language-cmake"><button title="Copy Code" class="copy"></button><span class="lang">cmake</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">cmake_minimum_required</span><span style="color:#A6ACCD;">(VERSION 3.8)</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># ......</span></span>
<span class="line"><span style="color:#A6ACCD;">cc_mac_before_target(${EXECUTABLE_NAME})</span></span>
<span class="line"><span style="color:#89DDFF;">add_executable</span><span style="color:#A6ACCD;">(${EXECUTABLE_NAME} ${CC_ALL_SOURCES})</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">############### 添加下面几行 ##############</span></span>
<span class="line"><span style="color:#89DDFF;">target_include_directories</span><span style="color:#A6ACCD;">(${EXECUTABLE_NAME} PRIVATE</span></span>
<span class="line"><span style="color:#A6ACCD;">    ${CC_PROJECT_DIR}/../common</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">########################################################</span></span>
<span class="line"><span style="color:#A6ACCD;">cc_mac_after_target(${EXECUTABLE_NAME})</span></span></code></pre></div></li></ul><h4 id="打开项目工程" tabindex="-1">打开项目工程 <a class="header-anchor" href="#打开项目工程" aria-label="Permalink to &quot;打开项目工程&quot;">​</a></h4><p>macOS: <code>/Users/james/NewProject/build/mac/proj/NewProject.xcodeproj</code></p><p>Windows: <code>&lt; 一个存放项目的目录 &gt;/NewProject/build/win64/proj/NewProject.sln</code></p><h4 id="为脚本引擎注册新的模块-1" tabindex="-1">为脚本引擎注册新的模块 <a class="header-anchor" href="#为脚本引擎注册新的模块-1" aria-label="Permalink to &quot;为脚本引擎注册新的模块&quot;">​</a></h4><p>修改 <code>Game.cpp</code></p><div class="language-cpp"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">#include</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Game.h</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#include</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">bindings/auto/jsb_my_module_auto.h</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// 添加此行</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//......</span></span>
<span class="line"><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Game</span><span style="color:#89DDFF;">::</span><span style="color:#82AAFF;">init</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">  // ......</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">se</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">ScriptEngine</span><span style="color:#89DDFF;">::</span><span style="color:#82AAFF;">getInstance</span><span style="color:#89DDFF;">()-&gt;</span><span style="color:#82AAFF;">addRegisterCallback</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">register_all_my_module</span><span style="color:#89DDFF;">);</span><span style="color:#676E95;font-style:italic;"> // 添加此行</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">BaseGame</span><span style="color:#89DDFF;">::</span><span style="color:#82AAFF;">init</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ......</span></span></code></pre></div><h4 id="测试绑定" tabindex="-1">测试绑定 <a class="header-anchor" href="#测试绑定" aria-label="Permalink to &quot;测试绑定&quot;">​</a></h4><ul><li><p>在项目的根目录下添加一个 <code>my-module.d.ts</code> 文件，使 TS 编译器识别我们的绑定类型</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// my-module.d.ts</span></span>
<span class="line"><span style="color:#C792EA;">declare</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">namespace</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">my_ns</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">MyObject</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">constructor</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">constructor</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">a</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">number</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;font-style:italic;">b</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">number</span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">    publicFloatProperty </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">number</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    print</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">void</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div></li><li><p>修改 <code>/Users/james/NewProject/temp/tsconfig.cocos.json</code> 文件</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">$schema</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">https://json.schemastore.org/tsconfig</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">compilerOptions</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">: </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">target</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ES2015</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">module</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ES2015</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">strict</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">types</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> [</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./temp/declarations/cc.custom-macro</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./temp/declarations/jsb</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./temp/declarations/cc</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./temp/declarations/cc.env</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./my-module</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// 添加这行</span></span>
<span class="line"><span style="color:#F07178;">    ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// ......</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">forceConsistentCasingInFileNames</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div></li><li><p>在 Cocos Creator 中打开 NewProject 项目, 在场景中添加一个立方体，并且添加一个脚本组件到这个立方体上，脚本的内容是：</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">_decorator</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Component</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">cc</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> ccclass </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> _decorator</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">ccclass</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">MyComponent</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">MyComponent</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Component</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">start</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">myObj</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">my_ns</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">MyObject</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">myObj</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">print</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// 调用原生的 print 方法</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">==&gt; myObj.publicFloatProperty: </span><span style="color:#89DDFF;">${</span><span style="color:#A6ACCD;">myObj</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">publicFloatProperty</span><span style="color:#89DDFF;">}`</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// 获取原生中定义的属性值</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div></li><li><p>在 Xcode 或者 Visual Studio 中运行项目, 如果成功，可以看到如下日志输出</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">17:31:44 [DEBUG]: ==&gt; a: 100, b: 1</span></span>
<span class="line"><span style="color:#A6ACCD;">17:31:44 [DEBUG]: D/ JS: ==&gt; myObj.publicFloatProperty: 1.2300000190734863</span></span></code></pre></div></li></ul><h4 id="本节总结" tabindex="-1">本节总结 <a class="header-anchor" href="#本节总结" aria-label="Permalink to &quot;本节总结&quot;">​</a></h4><p>在此节中，我们学会了如何使用 Swig 工具绑定一个简单的 C++ 类，并把它的公有方法与属性导出到 JS 中。从下一节开始，我们将更多地关注如何使用 Swig 的一些特性来满足各式各样的 JS 绑定需求，例如：</p><ul><li>如何使用 %import 指令导入头文件依赖？</li><li>如何忽略绑定某些特殊的类、方法或属性？</li><li>如何重命名类、方法或属性？</li><li>如何将 C++ 的 getter 和 setter 函数绑定为 JS 属性？</li><li>如何配置 C++ 模块宏</li></ul><h3 id="导入头文件依赖" tabindex="-1">导入头文件依赖 <a class="header-anchor" href="#导入头文件依赖" aria-label="Permalink to &quot;导入头文件依赖&quot;">​</a></h3><p>假定我们让 MyObject 类继承于 MyRef 类。但是我们并不想绑定 MyRef 类型。</p><div class="language-cpp"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// MyRef.h</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#pragma</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">once</span></span>
<span class="line"><span style="color:#C792EA;">namespace</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">my_ns</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">MyRef</span><span style="color:#F07178;">  </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#C792EA;">public</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">MyRef</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">default</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">virtual</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">~MyRef</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">default</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">void</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">addRef</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> _ref</span><span style="color:#89DDFF;">++;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">void</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">release</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">--</span><span style="color:#F07178;">_ref</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#C792EA;">private</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">unsigned</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">int</span><span style="color:#F07178;"> _ref</span><span style="color:#89DDFF;">{</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#676E95;font-style:italic;"> // namespace my_ns {</span></span></code></pre></div><div class="language-cpp"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// MyObject.h</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#pragma</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">once</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#include</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">cocos/cocos.h</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#include</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">MyRef.h</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#C792EA;">namespace</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">my_ns</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// MyObject 继承于 MyRef</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">MyObject</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">public</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">MyRef</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#C792EA;">public</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">MyObject</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">default</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">MyObject</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">int</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;font-style:italic;">a</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">bool</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;font-style:italic;">b</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">virtual</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">~MyObject</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">default</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">void</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#82AAFF;">CC_LOG_DEBUG</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">==&gt; a: %d, b: %d</span><span style="color:#A6ACCD;">\n</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> _a</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">int</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;">_b</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">float</span><span style="color:#F07178;"> publicFloatProperty</span><span style="color:#89DDFF;">{</span><span style="color:#F78C6C;">1.23F</span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#C792EA;">private</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">int</span><span style="color:#F07178;"> _a</span><span style="color:#89DDFF;">{</span><span style="color:#F78C6C;">100</span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">bool</span><span style="color:#F07178;"> _b</span><span style="color:#89DDFF;">{true};</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#676E95;font-style:italic;"> // namespace my_ns {</span></span></code></pre></div><p>当 Swig 解析 MyObject.h 的时候, 它并不知道 <code>MyRef</code> 是什么, 因此它会在终端输出一个警告信息。</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#82AAFF;">..</span><span style="color:#A6ACCD;">./Classes/MyObject.h:7: </span><span style="color:#C3E88D;">Warning</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">401</span><span style="color:#C3E88D;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Nothing</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">known</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">about</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">base</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">MyRef</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">.</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Ignored.</span></span></code></pre></div><p>要解决此警告也容易，我们只需要使用 <code>%import</code> 指令让 Swig 知道 MyRef 类的存在即可。</p><div class="language-cpp"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// ......</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// Insert code at the beginning of generated source file (.cpp)</span></span>
<span class="line"><span style="color:#89DDFF;">%{</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#include</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">bindings/auto/jsb_my_module_auto.h</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">%}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">%</span><span style="color:#A6ACCD;">import </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">MyRef.h</span><span style="color:#89DDFF;">&quot;</span><span style="color:#676E95;font-style:italic;"> // 添加此行</span></span>
<span class="line"><span style="color:#89DDFF;">%</span><span style="color:#A6ACCD;">include </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">MyObject.h</span><span style="color:#89DDFF;">&quot;</span></span></code></pre></div><p>尽管 Swig 不再报错了，但是生成的代码却无法编译通过，会出现如下报错：</p><p><img src="/docs/cocos/assets/MyRefCompileError.31c1d6d0.jpg" alt="MyRefCompileError"></p><p>我们将在下一节中使用 <code>%ignore</code> 指令来修复此问题。</p><h3 id="忽略某些类、方法或属性" tabindex="-1">忽略某些类、方法或属性 <a class="header-anchor" href="#忽略某些类、方法或属性" aria-label="Permalink to &quot;忽略某些类、方法或属性&quot;">​</a></h3><h4 id="忽略某些类" tabindex="-1">忽略某些类 <a class="header-anchor" href="#忽略某些类" aria-label="Permalink to &quot;忽略某些类&quot;">​</a></h4><p>在上一节中，我们在 <code>js_register_my_ns_MyObject</code> 函数中碰到了一个编译错误。这是因为 <code>MyRef</code> 类型并不应该被绑定，我们可以用 <code>%ignore</code> 指令来忽略它。</p><div class="language-cpp"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// my-module.i</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ......</span></span>
<span class="line"><span style="color:#89DDFF;">%</span><span style="color:#A6ACCD;">ignore </span><span style="color:#FFCB6B;">my_ns</span><span style="color:#89DDFF;">::</span><span style="color:#A6ACCD;">MyRef</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;"> // 添加此行</span></span>
<span class="line"><span style="color:#89DDFF;">%</span><span style="color:#A6ACCD;">import </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">MyRef.h</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">%</span><span style="color:#A6ACCD;">include </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">MyObject.h</span><span style="color:#89DDFF;">&quot;</span></span></code></pre></div><p>重新生成绑定，现在应该可以编译通过了。</p><div class="language-cpp"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// jsb_my_module_auto.cpp</span></span>
<span class="line"><span style="color:#C792EA;">bool</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">js_register_my_ns_MyObject</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">se</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">Object</span><span style="color:#C792EA;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">obj</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">auto</span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> cls </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">se</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">Class</span><span style="color:#89DDFF;">::</span><span style="color:#82AAFF;">create</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">MyObject</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> obj</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">nullptr,</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">_SE</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">js_new_MyObject</span><span style="color:#89DDFF;">));</span><span style="color:#676E95;font-style:italic;"> // parentProto will be set to nullptr</span></span>
<span class="line"><span style="color:#A6ACCD;">    cls</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">defineProperty</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">publicFloatProperty</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">_SE</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">js_my_ns_MyObject_publicFloatProperty_get</span><span style="color:#89DDFF;">),</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">_SE</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">js_my_ns_MyObject_publicFloatProperty_set</span><span style="color:#89DDFF;">));</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">    cls</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">defineFunction</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">print</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">_SE</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">js_my_ns_MyObject_print</span><span style="color:#89DDFF;">));</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">  // ......</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><h4 id="忽略某些方法和属性" tabindex="-1">忽略某些方法和属性 <a class="header-anchor" href="#忽略某些方法和属性" aria-label="Permalink to &quot;忽略某些方法和属性&quot;">​</a></h4><p>我们为 <code>MyObject</code> 类添加一个名为 <code>methodToBeIgnored</code> 的方法，再添加一个名为 <code>propertyToBeIgnored</code> 的属性。</p><div class="language-cpp"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// MyObject.h</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#pragma</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">once</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#include</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">cocos/cocos.h</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#include</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">MyRef.h</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#C792EA;">namespace</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">my_ns</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// MyObject 继承于 MyRef</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">MyObject</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">public</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">MyRef</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#C792EA;">public</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// .....</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">void</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">methodToBeIgnored</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{}</span><span style="color:#676E95;font-style:italic;"> // 添加此行</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">float</span><span style="color:#F07178;"> propertyToBeIgnored</span><span style="color:#89DDFF;">{</span><span style="color:#F78C6C;">345.123F</span><span style="color:#89DDFF;">};</span><span style="color:#676E95;font-style:italic;"> // 添加此行</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ......</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">float</span><span style="color:#F07178;"> publicFloatProperty</span><span style="color:#89DDFF;">{</span><span style="color:#F78C6C;">1.23F</span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#C792EA;">private</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">int</span><span style="color:#F07178;"> _a</span><span style="color:#89DDFF;">{</span><span style="color:#F78C6C;">100</span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">bool</span><span style="color:#F07178;"> _b</span><span style="color:#89DDFF;">{true};</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#676E95;font-style:italic;"> // namespace my_ns {</span></span></code></pre></div><p>重新生成绑定, 我们可以发现 <code>methodToBeIgnored</code> 和 <code>propertyToBeIgnored</code> 的绑定代码已经被自动生成。</p><div class="language-cpp"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// jsb_my_module_auto.cpp</span></span>
<span class="line"><span style="color:#C792EA;">bool</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">js_register_my_ns_MyObject</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">se</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">Object</span><span style="color:#C792EA;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">obj</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">auto</span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> cls </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">se</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">Class</span><span style="color:#89DDFF;">::</span><span style="color:#82AAFF;">create</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">MyObject</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> obj</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">nullptr,</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">_SE</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">js_new_MyObject</span><span style="color:#89DDFF;">));</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">    cls</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">defineProperty</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">propertyToBeIgnored</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">_SE</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">js_my_ns_MyObject_propertyToBeIgnored_get</span><span style="color:#89DDFF;">),</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">_SE</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">js_my_ns_MyObject_propertyToBeIgnored_set</span><span style="color:#89DDFF;">));</span><span style="color:#676E95;font-style:italic;"> // this property should not be bound</span></span>
<span class="line"><span style="color:#A6ACCD;">    cls</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">defineProperty</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">publicFloatProperty</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">_SE</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">js_my_ns_MyObject_publicFloatProperty_get</span><span style="color:#89DDFF;">),</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">_SE</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">js_my_ns_MyObject_publicFloatProperty_set</span><span style="color:#89DDFF;">));</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">    cls</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">defineFunction</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">print</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">_SE</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">js_my_ns_MyObject_print</span><span style="color:#89DDFF;">));</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">    cls</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">defineFunction</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">methodToBeIgnored</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">_SE</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">js_my_ns_MyObject_methodToBeIgnored</span><span style="color:#89DDFF;">));</span><span style="color:#676E95;font-style:italic;"> // this method should not be bound</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    // ......</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>修改 <code>my-module.i</code>以忽略绑定这个方法与属性。</p><div class="language-cpp"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// my-module.i</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ......</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">%</span><span style="color:#A6ACCD;">ignore </span><span style="color:#FFCB6B;">my_ns</span><span style="color:#89DDFF;">::</span><span style="color:#A6ACCD;">MyRef</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">%</span><span style="color:#A6ACCD;">ignore </span><span style="color:#FFCB6B;">my_ns</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">MyObject</span><span style="color:#89DDFF;">::</span><span style="color:#A6ACCD;">methodToBeIgnored</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;"> // 添加此行</span></span>
<span class="line"><span style="color:#89DDFF;">%</span><span style="color:#A6ACCD;">ignore </span><span style="color:#FFCB6B;">my_ns</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">MyObject</span><span style="color:#89DDFF;">::</span><span style="color:#A6ACCD;">propertyToBeIgnored</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;"> // 添加此行</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">%</span><span style="color:#A6ACCD;">import </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">MyRef.h</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">%</span><span style="color:#A6ACCD;">include </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">MyObject.h</span><span style="color:#89DDFF;">&quot;</span></span></code></pre></div><p>重新生成绑定，它们将被忽略。</p><div class="language-cpp"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// jsb_my_module_auto.cpp</span></span>
<span class="line"><span style="color:#C792EA;">bool</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">js_register_my_ns_MyObject</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">se</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">Object</span><span style="color:#C792EA;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">obj</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">auto</span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> cls </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">se</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">Class</span><span style="color:#89DDFF;">::</span><span style="color:#82AAFF;">create</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">MyObject</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> obj</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">nullptr,</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">_SE</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">js_new_MyObject</span><span style="color:#89DDFF;">));</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">    cls</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">defineProperty</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">publicFloatProperty</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">_SE</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">js_my_ns_MyObject_publicFloatProperty_get</span><span style="color:#89DDFF;">),</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">_SE</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">js_my_ns_MyObject_publicFloatProperty_set</span><span style="color:#89DDFF;">));</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">    cls</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">defineFunction</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">print</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">_SE</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">js_my_ns_MyObject_print</span><span style="color:#89DDFF;">));</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ......</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><h3 id="重命名类、方法或属性" tabindex="-1">重命名类、方法或属性 <a class="header-anchor" href="#重命名类、方法或属性" aria-label="Permalink to &quot;重命名类、方法或属性&quot;">​</a></h3><p>Swig 定义了一个名为 <code>%rename</code> 指令用于重命名类、方法或者属性。我们继续使用 <code>MyObject</code> 类来展示。</p><div class="language-cpp"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// MyObject.h</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#pragma</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">once</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#include</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">cocos/cocos.h</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#include</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">MyRef.h</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#C792EA;">namespace</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">my_ns</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// MyObject 继承于 MyRef</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">MyObject</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">public</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">MyRef</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#C792EA;">public</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ......</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">void</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">methodToBeRenamed</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span><span style="color:#676E95;font-style:italic;"> // 添加此方法</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#82AAFF;">CC_LOG_DEBUG</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">==&gt; hello MyObject::methodToBeRenamed</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">int</span><span style="color:#F07178;"> propertyToBeRenamed</span><span style="color:#89DDFF;">{</span><span style="color:#F78C6C;">1234</span><span style="color:#89DDFF;">};</span><span style="color:#676E95;font-style:italic;"> // 添加此属性</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">float</span><span style="color:#F07178;"> publicFloatProperty</span><span style="color:#89DDFF;">{</span><span style="color:#F78C6C;">1.23F</span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#C792EA;">private</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">int</span><span style="color:#F07178;"> _a</span><span style="color:#89DDFF;">{</span><span style="color:#F78C6C;">100</span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">bool</span><span style="color:#F07178;"> _b</span><span style="color:#89DDFF;">{true};</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#676E95;font-style:italic;"> // namespace my_ns {</span></span></code></pre></div><p>重新生成绑定，我们发现 <code>methodToBeRenamed</code> 与 <code>propertyToBeRenamed</code> 的绑定代码已经被生成：</p><div class="language-cpp"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// jsb_my_module_auto.cpp</span></span>
<span class="line"><span style="color:#C792EA;">bool</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">js_register_my_ns_MyObject</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">se</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">Object</span><span style="color:#C792EA;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">obj</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">auto</span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> cls </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">se</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">Class</span><span style="color:#89DDFF;">::</span><span style="color:#82AAFF;">create</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">MyObject</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> obj</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">nullptr,</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">_SE</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">js_new_MyObject</span><span style="color:#89DDFF;">));</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">    cls</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">defineProperty</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">propertyToBeRenamed</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">_SE</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">js_my_ns_MyObject_propertyToBeRenamed_get</span><span style="color:#89DDFF;">),</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">_SE</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">js_my_ns_MyObject_propertyToBeRenamed_set</span><span style="color:#89DDFF;">));</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">    cls</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">defineProperty</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">publicFloatProperty</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">_SE</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">js_my_ns_MyObject_publicFloatProperty_get</span><span style="color:#89DDFF;">),</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">_SE</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">js_my_ns_MyObject_publicFloatProperty_set</span><span style="color:#89DDFF;">));</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">    cls</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">defineFunction</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">print</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">_SE</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">js_my_ns_MyObject_print</span><span style="color:#89DDFF;">));</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">    cls</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">defineFunction</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">methodToBeRenamed</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">_SE</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">js_my_ns_MyObject_methodToBeRenamed</span><span style="color:#89DDFF;">));</span></span></code></pre></div><p>如果我们要重命名 <code>propertyToBeRenamed</code> 为 <code>coolProperty</code> ，重命名 <code>methodToBeRenamed</code> 为 <code>coolMethod</code>，那么按照下面的方式修改 <code>my-module.i</code> ：</p><div class="language-cpp"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// my-module.i</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ......</span></span>
<span class="line"><span style="color:#89DDFF;">%</span><span style="color:#A6ACCD;">ignore </span><span style="color:#FFCB6B;">my_ns</span><span style="color:#89DDFF;">::</span><span style="color:#A6ACCD;">MyRef</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">%</span><span style="color:#A6ACCD;">ignore </span><span style="color:#FFCB6B;">my_ns</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">MyObject</span><span style="color:#89DDFF;">::</span><span style="color:#A6ACCD;">methodToBeIgnored</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">%</span><span style="color:#A6ACCD;">ignore </span><span style="color:#FFCB6B;">my_ns</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">MyObject</span><span style="color:#89DDFF;">::</span><span style="color:#A6ACCD;">propertyToBeIgnored</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">%</span><span style="color:#82AAFF;">rename</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">coolProperty</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">my_ns</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">MyObject</span><span style="color:#89DDFF;">::</span><span style="color:#A6ACCD;">propertyToBeRenamed</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;"> // 添加此行</span></span>
<span class="line"><span style="color:#89DDFF;">%</span><span style="color:#82AAFF;">rename</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">coolMethod</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">my_ns</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">MyObject</span><span style="color:#89DDFF;">::</span><span style="color:#A6ACCD;">methodToBeRenamed</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;"> // 添加此行</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">%</span><span style="color:#A6ACCD;">import </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">MyRef.h</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">%</span><span style="color:#A6ACCD;">include </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">MyObject.h</span><span style="color:#89DDFF;">&quot;</span></span></code></pre></div><p>如果我们还想把 <code>MyObject</code> 类重命名为 <code>MyCoolObject</code>，我猜想你已经知道如何做了吧。没错，只要添加这行：</p><div class="language-cpp"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">%</span><span style="color:#82AAFF;">rename</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">MyCoolObject</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">my_ns</span><span style="color:#89DDFF;">::</span><span style="color:#A6ACCD;">MyObject</span><span style="color:#89DDFF;">;</span></span></code></pre></div><p>重新生成绑定代码，所有需要被重命名的类、方法与属性都按照我们的意愿被重命名了。</p><div class="language-cpp"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// jsb_my_module_auto.cpp</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// MyCoolObject, coolProperty, coolMethod are all what we want now.</span></span>
<span class="line"><span style="color:#C792EA;">bool</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">js_register_my_ns_MyObject</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">se</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">Object</span><span style="color:#C792EA;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">obj</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">auto</span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> cls </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">se</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">Class</span><span style="color:#89DDFF;">::</span><span style="color:#82AAFF;">create</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">MyCoolObject</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> obj</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">nullptr,</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">_SE</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">js_new_MyCoolObject</span><span style="color:#89DDFF;">));</span></span>
<span class="line"><span style="color:#A6ACCD;">    cls</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">defineProperty</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">coolProperty</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">_SE</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">js_my_ns_MyCoolObject_coolProperty_get</span><span style="color:#89DDFF;">),</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">_SE</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">js_my_ns_MyCoolObject_coolProperty_set</span><span style="color:#89DDFF;">));</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">    cls</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">defineProperty</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">publicFloatProperty</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">_SE</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">js_my_ns_MyCoolObject_publicFloatProperty_get</span><span style="color:#89DDFF;">),</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">_SE</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">js_my_ns_MyCoolObject_publicFloatProperty_set</span><span style="color:#89DDFF;">));</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">    cls</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">defineFunction</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">print</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">_SE</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">js_my_ns_MyCoolObject_print</span><span style="color:#89DDFF;">));</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">    cls</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">defineFunction</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">coolMethod</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">_SE</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">js_my_ns_MyCoolObject_coolMethod</span><span style="color:#89DDFF;">));</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    // ......</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>现在测试一下吧，更新如下文件 <code>my-module.d.ts</code> and <code>MyComponent.ts</code></p><div class="language-cpp"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// my-module.d.ts</span></span>
<span class="line"><span style="color:#A6ACCD;">declare </span><span style="color:#C792EA;">namespace</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">my_ns</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">MyCoolObject</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">constructor</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">constructor</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">a</span><span style="color:#F07178;">: </span><span style="color:#FFCB6B;">number</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">b</span><span style="color:#F07178;">: </span><span style="color:#FFCB6B;">number</span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">    publicFloatProperty : number</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> void;</span></span>
<span class="line"><span style="color:#F07178;">    coolProperty: number;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">coolMethod</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> : void;</span></span>
<span class="line"><span style="color:#F07178;">}</span></span>
<span class="line"><span style="color:#F07178;">}</span></span></code></pre></div><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// MyComponent.ts</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">_decorator</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Component</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">cc</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> ccclass </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> _decorator</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">ccclass</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">MyComponent</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">MyComponent</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Component</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">start</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">myObj</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">my_ns</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">MyCoolObject</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// 这里改为 MyCoolObject，因为我们在前面重命名了</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">myObj</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">print</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">==&gt; myObj.publicFloatProperty: </span><span style="color:#89DDFF;">${</span><span style="color:#A6ACCD;">myObj</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">publicFloatProperty</span><span style="color:#89DDFF;">}`</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">// Add the follow lines</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">==&gt; old: myObj.coolProperty: </span><span style="color:#89DDFF;">${</span><span style="color:#A6ACCD;">myObj</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">coolProperty</span><span style="color:#89DDFF;">}`</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">myObj</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">coolProperty</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">666</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">==&gt; new: myObj.coolProperty: </span><span style="color:#89DDFF;">${</span><span style="color:#A6ACCD;">myObj</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">coolProperty</span><span style="color:#89DDFF;">}`</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">myObj</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">coolMethod</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>在 Xcode 或者 Visual Studio 中运行项目，将得到如下日志：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">17:53:28 [DEBUG]: ==&gt; a: 100, b: 1</span></span>
<span class="line"><span style="color:#A6ACCD;">17:53:28 [DEBUG]: D/ JS: ==&gt; myObj.publicFloatProperty: 1.2300000190734863</span></span>
<span class="line"><span style="color:#A6ACCD;">17:53:28 [DEBUG]: D/ JS: ==&gt; old: myObj.coolProperty: 1234</span></span>
<span class="line"><span style="color:#A6ACCD;">17:53:28 [DEBUG]: D/ JS: ==&gt; new: myObj.coolProperty: 666</span></span>
<span class="line"><span style="color:#A6ACCD;">17:53:28 [DEBUG]: ==&gt; hello MyObject::methodToBeRenamed</span></span></code></pre></div><h3 id="定义一个-attribute" tabindex="-1">定义一个 attribute <a class="header-anchor" href="#定义一个-attribute" aria-label="Permalink to &quot;定义一个 attribute&quot;">​</a></h3><p><code>%attribute</code> 指令用于把 C++ 的 <code>getter</code> 和 <code>setter</code> 函数绑定为一个 JS 属性。</p><blockquote><p><strong>注意</strong>：如果 C++ 属性是公有的，那么理论上无需再配置 attribute 了，Swig 会自动绑定类的公有属性。</p></blockquote><h4 id="用法" tabindex="-1">用法 <a class="header-anchor" href="#用法" aria-label="Permalink to &quot;用法&quot;">​</a></h4><ol><li><p>定义一个没有 <code>setter</code> 函数的 JS 属性，即只读的 JS 属性。</p><div class="language-cpp"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">%</span><span style="color:#82AAFF;">attribute</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">your_namespace</span><span style="color:#89DDFF;">::</span><span style="color:#A6ACCD;">your_class_name</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> cpp_member_variable_type</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> js_property_name</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> cpp_getter_function_name</span><span style="color:#89DDFF;">)</span></span></code></pre></div></li><li><p>定义一个有 <code>getter</code> 和 <code>setter</code> 函数的 JS 属性，即可读可写的 JS 属性。</p><div class="language-cpp"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">%</span><span style="color:#82AAFF;">attribute</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">your_namespace</span><span style="color:#89DDFF;">::</span><span style="color:#A6ACCD;">your_class_name</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> cpp_member_variable_type</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> js_property_name</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> cpp_getter_function_name</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> cpp_setter_function_name</span><span style="color:#89DDFF;">)</span></span></code></pre></div></li><li><p>定义一个没有 <code>getter</code> 的 JS 属性，即可写不可读的 JS 属性。</p><div class="language-cpp"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">%</span><span style="color:#82AAFF;">attribute_writeonly</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">your_namespace</span><span style="color:#89DDFF;">::</span><span style="color:#A6ACCD;">your_class_name</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> cpp_member_variable_type</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> js_property_name</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> cpp_setter_function_name</span><span style="color:#89DDFF;">)</span></span></code></pre></div></li></ol><h4 id="示例" tabindex="-1">示例 <a class="header-anchor" href="#示例" aria-label="Permalink to &quot;示例&quot;">​</a></h4><p>为了方便演示，我们为 <code>MyObject</code> 添加两个新方法：<code>setType</code> 和 <code>getType</code>。</p><div class="language-cpp"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// MyObject.h</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#pragma</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">once</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#include</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">cocos/cocos.h</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#include</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">MyRef.h</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#C792EA;">namespace</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">my_ns</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// MyObject 继承于 MyRef</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">MyObject</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">public</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">MyRef</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#C792EA;">public</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ......</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">void</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">setType</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">int</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;font-style:italic;">v</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> _type </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> v</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">CC_LOG_DEBUG</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">==&gt; setType: v: %d</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> v</span><span style="color:#89DDFF;">);</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#676E95;font-style:italic;"> // 添加此行</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">int</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">getType</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> _type</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#676E95;font-style:italic;"> // 添加此行</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">float</span><span style="color:#F07178;"> publicFloatProperty</span><span style="color:#89DDFF;">{</span><span style="color:#F78C6C;">1.23F</span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#C792EA;">private</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">int</span><span style="color:#F07178;"> _a</span><span style="color:#89DDFF;">{</span><span style="color:#F78C6C;">100</span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">bool</span><span style="color:#F07178;"> _b</span><span style="color:#89DDFF;">{true};</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">int</span><span style="color:#F07178;"> _type</span><span style="color:#89DDFF;">{</span><span style="color:#F78C6C;">333</span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#676E95;font-style:italic;"> // namespace my_ns {</span></span></code></pre></div><div class="language-cpp"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// my-module.i</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ......</span></span>
<span class="line"><span style="color:#89DDFF;">%</span><span style="color:#82AAFF;">attribute</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">my_ns</span><span style="color:#89DDFF;">::</span><span style="color:#A6ACCD;">MyObject</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">int</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> type</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> getType</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> setType</span><span style="color:#89DDFF;">);</span><span style="color:#676E95;font-style:italic;"> // 添加此行</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">%</span><span style="color:#A6ACCD;">import </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">MyRef.h</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">%</span><span style="color:#A6ACCD;">include </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">MyObject.h</span><span style="color:#89DDFF;">&quot;</span></span></code></pre></div><div class="language-cpp"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// jsb_my_module_auto.cpp</span></span>
<span class="line"><span style="color:#C792EA;">bool</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">js_register_my_ns_MyObject</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">se</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">Object</span><span style="color:#C792EA;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">obj</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ......</span></span>
<span class="line"><span style="color:#A6ACCD;">    cls</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">defineProperty</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">type</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">_SE</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">js_my_ns_MyCoolObject_type_get</span><span style="color:#89DDFF;">),</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">_SE</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">js_my_ns_MyCoolObject_type_set</span><span style="color:#89DDFF;">));</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ......</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// MyComponent.ts</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">_decorator</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Component</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">cc</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> ccclass </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> _decorator</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">ccclass</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">MyComponent</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">MyComponent</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Component</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">start</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">myObj</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">my_ns</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">MyCoolObject</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">myObj</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">print</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">==&gt; myObj.publicFloatProperty: </span><span style="color:#89DDFF;">${</span><span style="color:#A6ACCD;">myObj</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">publicFloatProperty</span><span style="color:#89DDFF;">}`</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">==&gt; old: myObj.coolProperty: </span><span style="color:#89DDFF;">${</span><span style="color:#A6ACCD;">myObj</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">coolProperty</span><span style="color:#89DDFF;">}`</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">myObj</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">coolProperty</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">666</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">==&gt; new: myObj.coolProperty: </span><span style="color:#89DDFF;">${</span><span style="color:#A6ACCD;">myObj</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">coolProperty</span><span style="color:#89DDFF;">}`</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">myObj</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">coolMethod</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">==&gt; old: myObj.type: </span><span style="color:#89DDFF;">${</span><span style="color:#A6ACCD;">myObj</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">type</span><span style="color:#89DDFF;">}`</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">myObj</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">type</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">888</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">==&gt; new: myObj.type: </span><span style="color:#89DDFF;">${</span><span style="color:#A6ACCD;">myObj</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">type</span><span style="color:#89DDFF;">}`</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>在 Xcode 或者 Visual Studio 中运行项目：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">18:09:53 [DEBUG]: ==&gt; a: 100, b: 1</span></span>
<span class="line"><span style="color:#A6ACCD;">18:09:53 [DEBUG]: D/ JS: ==&gt; myObj.publicFloatProperty: 1.2300000190734863</span></span>
<span class="line"><span style="color:#A6ACCD;">18:09:53 [DEBUG]: D/ JS: ==&gt; old: myObj.coolProperty: 1234</span></span>
<span class="line"><span style="color:#A6ACCD;">18:09:53 [DEBUG]: D/ JS: ==&gt; new: myObj.coolProperty: 666</span></span>
<span class="line"><span style="color:#A6ACCD;">18:09:53 [DEBUG]: ==&gt; hello MyObject::methodToBeRenamed</span></span>
<span class="line"><span style="color:#A6ACCD;">18:09:53 [DEBUG]: D/ JS: ==&gt; old: myObj.type: 333</span></span>
<span class="line"><span style="color:#A6ACCD;">18:09:53 [DEBUG]: ==&gt; setType: v: 888 // Cool, C++ setType is invoked</span></span>
<span class="line"><span style="color:#A6ACCD;">18:09:53 [DEBUG]: D/ JS: ==&gt; new: myObj.type: 888 // Cool, C++ getType is invoked, 888 is return from C++</span></span></code></pre></div><h4 id="attribute-writeonly-指令" tabindex="-1">%attribute_writeonly 指令 <a class="header-anchor" href="#attribute-writeonly-指令" aria-label="Permalink to &quot;%attribute_writeonly 指令&quot;">​</a></h4><p><code>%attribute_writeonly</code> 指令是我们为 swig <code>Cocos</code> 后端添加的一个扩展指令，它用于 C++ 只有 <code>setter</code> 函数没有 <code>getter</code> 函数的情况。</p><p>例如在 <code>native/tools/swig-config/cocos.i</code> 中有如下定义：</p><div class="language-cpp"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">%</span><span style="color:#82AAFF;">attribute_writeonly</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">cc</span><span style="color:#89DDFF;">::</span><span style="color:#A6ACCD;">ICanvasRenderingContext2D</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">float</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> width</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> setWidth</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#89DDFF;">%</span><span style="color:#82AAFF;">attribute_writeonly</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">cc</span><span style="color:#89DDFF;">::</span><span style="color:#A6ACCD;">ICanvasRenderingContext2D</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">float</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> height</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> setHeight</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#89DDFF;">%</span><span style="color:#82AAFF;">attribute_writeonly</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">cc</span><span style="color:#89DDFF;">::</span><span style="color:#A6ACCD;">ICanvasRenderingContext2D</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">float</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> lineWidth</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> setLineWidth</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#89DDFF;">%</span><span style="color:#82AAFF;">attribute_writeonly</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">cc</span><span style="color:#89DDFF;">::</span><span style="color:#A6ACCD;">ICanvasRenderingContext2D</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">ccstd</span><span style="color:#89DDFF;">::</span><span style="color:#A6ACCD;">string</span><span style="color:#89DDFF;">&amp;,</span><span style="color:#A6ACCD;"> fillStyle</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> setFillStyle</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#89DDFF;">%</span><span style="color:#82AAFF;">attribute_writeonly</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">cc</span><span style="color:#89DDFF;">::</span><span style="color:#A6ACCD;">ICanvasRenderingContext2D</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">ccstd</span><span style="color:#89DDFF;">::</span><span style="color:#A6ACCD;">string</span><span style="color:#89DDFF;">&amp;,</span><span style="color:#A6ACCD;"> font</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> setFont</span><span style="color:#89DDFF;">);</span></span></code></pre></div><p>它的作用类似于 JS 中如下代码：</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">defineProperty</span><span style="color:#A6ACCD;">(</span><span style="color:#FFCB6B;">MyNewClass</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">width</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">configurable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">enumerable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">set</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">v</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">_width</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">v</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;"> </span><span style="color:#676E95;font-style:italic;">// No get() for property</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span></code></pre></div><h4 id="关于引用类型" tabindex="-1">关于引用类型 <a class="header-anchor" href="#关于引用类型" aria-label="Permalink to &quot;关于引用类型&quot;">​</a></h4><p>如果 C++ 的 <code>get</code> 函数返回的是一个引用数据类型或者 <code>set</code> 函数接受一个引用数据类型，别忘记在 %attribute 或 %attribute_writeonly 指令的编写中添加 <code>&amp;</code> 后缀。以下 <code>ccstd::string&amp;</code> 是一个例子：</p><div class="language-cpp"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">%</span><span style="color:#82AAFF;">attribute_writeonly</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">cc</span><span style="color:#89DDFF;">::</span><span style="color:#A6ACCD;">ICanvasRenderingContext2D</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">ccstd</span><span style="color:#89DDFF;">::</span><span style="color:#A6ACCD;">string</span><span style="color:#89DDFF;">&amp;,</span><span style="color:#A6ACCD;"> fillStyle</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> setFillStyle</span><span style="color:#89DDFF;">);</span></span></code></pre></div><p>如果 <code>&amp;</code> 没有被添加，当绑定函数被调用的时候，一个临时的 <code>ccstd::string</code> 实例将被创建。这种临时对象的创建与销毁是不划算的且是可以完全避免的。</p><h4 id="arg-指令" tabindex="-1">%arg() 指令 <a class="header-anchor" href="#arg-指令" aria-label="Permalink to &quot;%arg() 指令&quot;">​</a></h4><p>有时候 C++ 变量的类型是用模版的方式来修饰的，例如：</p><div class="language-cpp"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">class</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">MyNewClass</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">public</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">std</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">map</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">std</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">std</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">&gt;</span><span style="color:#C792EA;">&amp;</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">getConfig</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> _config</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">   </span><span style="color:#C792EA;">void</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">setConfig</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">std</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">map</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">std</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">std</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">&gt;</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">&amp;</span><span style="color:#A6ACCD;font-style:italic;">config</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> _config </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> config</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">private</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#F07178;">   </span><span style="color:#FFCB6B;">std</span><span style="color:#89DDFF;">::</span><span style="color:#F07178;">map</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">std</span><span style="color:#89DDFF;">::</span><span style="color:#F07178;">string</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">std</span><span style="color:#89DDFF;">::</span><span style="color:#F07178;">string</span><span style="color:#89DDFF;">&gt;</span><span style="color:#F07178;"> _config</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span></code></pre></div><p>我们可能会在 <code>.i</code> 中写一个这样的 <code>%attribute</code> 指令：</p><div class="language-cpp"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">%</span><span style="color:#82AAFF;">attribute</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">MyNewClass</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">std</span><span style="color:#89DDFF;">::</span><span style="color:#A6ACCD;">map</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">std</span><span style="color:#89DDFF;">::</span><span style="color:#A6ACCD;">string</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">std</span><span style="color:#89DDFF;">::</span><span style="color:#A6ACCD;">string</span><span style="color:#89DDFF;">&gt;&amp;,</span><span style="color:#A6ACCD;"> config</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> getConfig</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> setConfig</span><span style="color:#89DDFF;">);</span></span></code></pre></div><p>但当你执行 <code>node genbindings.js</code>的时候，你将得到如下错误：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">Error: Macro &#39;%attribute_custom&#39; expects 7 arguments</span></span></code></pre></div><p>这是因为 <code>swig</code> 看到 <code>std::map&lt;std::string, std::string&gt;&amp;</code> 的时候并不知道如何处理逗号 (<code>,</code>) ，它将其分割为两部分，即：</p><ol><li>std::map&lt;std::string</li><li>std::string&gt;&amp;</li></ol><p>因此， %attribute 指令这行将被解析为 6 个参数，而不是正确的 5 个参数。</p><p>为了避免这种情况出现，我们需要使用 <code>%arg</code> 指令来告诉 <code>swig</code> <code>std::map&lt;std::string, std::string&gt;&amp;</code> 是一个整体。</p><div class="language-cpp"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">%</span><span style="color:#82AAFF;">attribute</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">MyNewClass</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">%</span><span style="color:#82AAFF;">arg</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">std</span><span style="color:#89DDFF;">::</span><span style="color:#A6ACCD;">map</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">std</span><span style="color:#89DDFF;">::</span><span style="color:#A6ACCD;">string</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">std</span><span style="color:#89DDFF;">::</span><span style="color:#A6ACCD;">string</span><span style="color:#89DDFF;">&gt;&amp;),</span><span style="color:#A6ACCD;"> config</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> getConfig</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> setConfig</span><span style="color:#89DDFF;">);</span></span></code></pre></div><p>重新执行 <code>node genbindings.js</code>，之前的错误即消失了。</p><h4 id="不要添加-const" tabindex="-1">不要添加 <code>const</code> <a class="header-anchor" href="#不要添加-const" aria-label="Permalink to &quot;不要添加 `const`&quot;">​</a></h4><p>在上一示例中，我们在 %attribute 指令中使用 <code>%arg(std::map&lt;std::string, std::string&gt;&amp;)</code>。你可能会考虑在 <code>std::map</code> 前面添加一个 <code>const</code> 前缀，比如：<code>%arg(const std::map&lt;std::string, std::string&gt;&amp;)</code>。如果你这样做了，你将添加一个 <strong>只读的</strong>、只绑定 <code>MyNewClass::getConfig</code> 的 <code>config</code> 属性。这明显不是我们所期望的。如果我们需要属性是只读的，只需要不配置 <code>setter</code> 函数即可。</p><div class="language-cpp"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// 不配置 setConfig 意味着属性是只读的</span></span>
<span class="line"><span style="color:#89DDFF;">%</span><span style="color:#82AAFF;">attribute</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">MyNewClass</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">%</span><span style="color:#82AAFF;">arg</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">std</span><span style="color:#89DDFF;">::</span><span style="color:#A6ACCD;">map</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">std</span><span style="color:#89DDFF;">::</span><span style="color:#A6ACCD;">string</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">std</span><span style="color:#89DDFF;">::</span><span style="color:#A6ACCD;">string</span><span style="color:#89DDFF;">&gt;&amp;),</span><span style="color:#A6ACCD;"> config</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> getConfig</span><span style="color:#89DDFF;">);</span></span></code></pre></div><p>因此，为了让事情简单化，我们只要记得，<strong>永远不要在定义 %attribute 的时候为 C++ 变量类型使用 const 前缀</strong>。</p><h3 id="配置-c-模块宏-用于-c-模块裁剪" tabindex="-1">配置 C++ 模块宏（用于 C++ 模块裁剪） <a class="header-anchor" href="#配置-c-模块宏-用于-c-模块裁剪" aria-label="Permalink to &quot;配置 C++ 模块宏（用于 C++ 模块裁剪）&quot;">​</a></h3><p>有时候是否需要让一个类参与编译依赖于某个宏是否启用。比如，我们在 <code>MyObject.h</code> 文件中添加一个 <code>MyFeatureObject</code> 类：</p><div class="language-cpp"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// MyObject.h</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#pragma</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">once</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#include</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">cocos/cocos.h</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#include</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">MyRef.h</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#ifndef</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">USE_MY_FEATURE</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#define</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">USE_MY_FEATURE</span><span style="color:#A6ACCD;"> 1 // Enable USE_MY_FEATURE</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#endif</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">namespace</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">my_ns</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#if</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">USE_MY_FEATURE</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">MyFeatureObject</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#C792EA;">public</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">void</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">foo</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#82AAFF;">CC_LOG_DEBUG</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">==&gt; MyFeatureObject::foo</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#else</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">MyFeatureObject</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#endif</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// MyObject 继承于 MyRef</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">MyObject</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">public</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">MyRef</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#C792EA;">public</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//......</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">MyFeatureObject</span><span style="color:#C792EA;">*</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">getFeatureObject</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#if</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">USE_MY_FEATURE</span><span style="color:#676E95;font-style:italic;"> // getFeatureObject 只在宏 USE_MY_FEATURE 启用的情况下返回有效值</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">_featureObject </span><span style="color:#89DDFF;">==</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">nullptr)</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">            _featureObject </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">MyFeatureObject</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#endif</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> _featureObject</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#C792EA;">private</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">int</span><span style="color:#F07178;"> _a</span><span style="color:#89DDFF;">{</span><span style="color:#F78C6C;">100</span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">bool</span><span style="color:#F07178;"> _b</span><span style="color:#89DDFF;">{true};</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">int</span><span style="color:#F07178;"> _type</span><span style="color:#89DDFF;">{</span><span style="color:#F78C6C;">333</span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#F07178;">    MyFeatureObject</span><span style="color:#89DDFF;">*</span><span style="color:#F07178;"> _featureObject</span><span style="color:#89DDFF;">{nullptr};</span><span style="color:#676E95;font-style:italic;"> // 添加此行</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#676E95;font-style:italic;"> // namespace my_ns {</span></span></code></pre></div><div class="language-cpp"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// my-module.i</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ......</span></span>
<span class="line"><span style="color:#89DDFF;">%</span><span style="color:#82AAFF;">rename</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">MyCoolObject</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">my_ns</span><span style="color:#89DDFF;">::</span><span style="color:#A6ACCD;">MyObject</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">%</span><span style="color:#82AAFF;">attribute</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">my_ns</span><span style="color:#89DDFF;">::</span><span style="color:#A6ACCD;">MyObject</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">int</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> type</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> getType</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> setType</span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">%</span><span style="color:#82AAFF;">module_macro</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">USE_MY_FEATURE</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">my_ns</span><span style="color:#89DDFF;">::</span><span style="color:#A6ACCD;">MyFeatureObject</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;"> // 添加此行，用于让 Swig 知道生成出来的 MyFeatureObject 类的绑定代码需要被包在 USE_MY_FEATURE 下</span></span>
<span class="line"><span style="color:#89DDFF;">%</span><span style="color:#82AAFF;">module_macro</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">USE_MY_FEATURE</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">my_ns</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">MyObject</span><span style="color:#89DDFF;">::</span><span style="color:#A6ACCD;">getFeatureObject</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;"> // 添加此行，用于让 Swig 知道生成出来的 MyObject::getFeatureObject 方法的绑定代码需要被包在 USE_MY_FEATURE 下</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#define</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">USE_MY_FEATURE</span><span style="color:#A6ACCD;"> 1 // 这里定义为 1 是骗过 Swig，让它帮我们生成绑定代码。注意，这行必须在 %module_macro 之后</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">%</span><span style="color:#A6ACCD;">import </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">MyRef.h</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">%</span><span style="color:#A6ACCD;">include </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">MyObject.h</span><span style="color:#89DDFF;">&quot;</span></span></code></pre></div><div class="language-cpp"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// my-module.d.ts</span></span>
<span class="line"><span style="color:#A6ACCD;">declare </span><span style="color:#C792EA;">namespace</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">my_ns</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">MyFeatureObject</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">foo</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> void;</span></span>
<span class="line"><span style="color:#F07178;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">class MyCoolObject </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">constructor</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">constructor</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">a: number</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> b: number</span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">publicFloatProperty</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> number</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> : </span><span style="color:#C792EA;">void</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">coolProperty</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> number</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">coolMethod</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> : </span><span style="color:#C792EA;">void</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">type</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> number</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">getFeatureObject</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> : MyFeatureObject</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// MyComponent.ts</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">_decorator</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Component</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">cc</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> ccclass </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> _decorator</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">ccclass</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">MyComponent</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">MyComponent</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Component</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">start</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">myObj</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">my_ns</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">MyCoolObject</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">myObj</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">print</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">==&gt; myObj.publicFloatProperty: </span><span style="color:#89DDFF;">${</span><span style="color:#A6ACCD;">myObj</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">publicFloatProperty</span><span style="color:#89DDFF;">}`</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">==&gt; old: myObj.coolProperty: </span><span style="color:#89DDFF;">${</span><span style="color:#A6ACCD;">myObj</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">coolProperty</span><span style="color:#89DDFF;">}`</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">myObj</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">coolProperty</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">666</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">==&gt; new: myObj.coolProperty: </span><span style="color:#89DDFF;">${</span><span style="color:#A6ACCD;">myObj</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">coolProperty</span><span style="color:#89DDFF;">}`</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">myObj</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">coolMethod</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">==&gt; old: myObj.type: </span><span style="color:#89DDFF;">${</span><span style="color:#A6ACCD;">myObj</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">type</span><span style="color:#89DDFF;">}`</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">myObj</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">type</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">888</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">==&gt; new: myObj.type: </span><span style="color:#89DDFF;">${</span><span style="color:#A6ACCD;">myObj</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">type</span><span style="color:#89DDFF;">}`</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">featureObj</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">myObj</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getFeatureObject</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">==&gt; featureObj: </span><span style="color:#89DDFF;">${</span><span style="color:#A6ACCD;">featureObj</span><span style="color:#89DDFF;">}`</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">featureObj</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#A6ACCD;">featureObj</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">foo</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>重新生成绑定代码，自动绑定代码如下：</p><div class="language-cpp"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">#if</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">USE_MY_FEATURE</span><span style="color:#676E95;font-style:italic;"> // 注意，现在所有 MyFeatureObject 相关的绑定代码都被包在 USE_MY_FEATURE 宏下面了。</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">se</span><span style="color:#89DDFF;">::</span><span style="color:#A6ACCD;">Class</span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> __jsb_my_ns_MyFeatureObject_class </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">nullptr;</span></span>
<span class="line"><span style="color:#FFCB6B;">se</span><span style="color:#89DDFF;">::</span><span style="color:#A6ACCD;">Object</span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> __jsb_my_ns_MyFeatureObject_proto </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">nullptr;</span></span>
<span class="line"><span style="color:#82AAFF;">SE_DECLARE_FINALIZE_FUNC</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">js_delete_my_ns_MyFeatureObject</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">static</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">bool</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">js_my_ns_MyFeatureObject_foo</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">se</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">State</span><span style="color:#C792EA;">&amp;</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">s</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ......</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ......</span></span>
<span class="line"><span style="color:#C792EA;">bool</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">js_register_my_ns_MyFeatureObject</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">se</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">Object</span><span style="color:#C792EA;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">obj</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">auto</span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> cls </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">se</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">Class</span><span style="color:#89DDFF;">::</span><span style="color:#82AAFF;">create</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">MyFeatureObject</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> obj</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">nullptr,</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">_SE</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">js_new_my_ns_MyFeatureObject</span><span style="color:#89DDFF;">));</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ......</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#endif</span><span style="color:#676E95;font-style:italic;"> // USE_MY_FEATURE</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ......</span></span>
<span class="line"><span style="color:#C792EA;">static</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">bool</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">js_my_ns_MyCoolObject_getFeatureObject</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">se</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">State</span><span style="color:#C792EA;">&amp;</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">s</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#if</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">USE_MY_FEATURE</span><span style="color:#676E95;font-style:italic;"> // getFeatureObject 函数的绑定代码也被包在 USE_MY_FEATURE 宏下面了。</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ......</span></span>
<span class="line"><span style="color:#A6ACCD;">    ok </span><span style="color:#89DDFF;">&amp;=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">nativevalue_to_se</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">result</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> s</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">rval</span><span style="color:#89DDFF;">(),</span><span style="color:#A6ACCD;"> s</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">thisObject</span><span style="color:#89DDFF;">()</span><span style="color:#676E95;font-style:italic;"> /*ctx*/</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">SE_PRECONDITION2</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">ok</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">false,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">MyCoolObject_getFeatureObject, Error processing arguments</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">SE_HOLD_RETURN_VALUE</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">result</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> s</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">thisObject</span><span style="color:#89DDFF;">(),</span><span style="color:#A6ACCD;"> s</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">rval</span><span style="color:#89DDFF;">());</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#endif</span><span style="color:#676E95;font-style:italic;"> // USE_MY_FEATURE</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">true;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#82AAFF;">SE_BIND_FUNC</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">js_my_ns_MyCoolObject_getFeatureObject</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ......</span></span>
<span class="line"><span style="color:#C792EA;">bool</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">register_all_my_module</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">se</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">Object</span><span style="color:#C792EA;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">obj</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    // Get the ns</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">se</span><span style="color:#89DDFF;">::</span><span style="color:#A6ACCD;">Value nsVal</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(!</span><span style="color:#A6ACCD;">obj</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">getProperty</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">my_ns</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;">nsVal</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">true))</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#FFCB6B;">se</span><span style="color:#89DDFF;">::</span><span style="color:#F07178;">HandleObject </span><span style="color:#82AAFF;">jsobj</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">se</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">Object</span><span style="color:#89DDFF;">::</span><span style="color:#82AAFF;">createPlainObject</span><span style="color:#89DDFF;">());</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">nsVal</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setObject</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">jsobj</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">obj</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">setProperty</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">my_ns</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> nsVal</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">se</span><span style="color:#89DDFF;">::</span><span style="color:#A6ACCD;">Object</span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> ns </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> nsVal</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toObject</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    /* Register classes */</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#if</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">USE_MY_FEATURE</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">js_register_my_ns_MyFeatureObject</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">ns</span><span style="color:#89DDFF;">);</span><span style="color:#676E95;font-style:italic;"> // js_register_my_ns_MyFeatureObject 也被包在 USE_MY_FEATURE 宏下面了。</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#endif</span><span style="color:#676E95;font-style:italic;"> // USE_MY_FEATURE</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">js_register_my_ns_MyObject</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">ns</span><span style="color:#89DDFF;">);</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">true;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>在 Xcode 或者 Visual Studio 中运行项目，会得到如下输出：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">18:32:20 [DEBUG]: D/ JS: ==&gt; featureObj: [object Object] // 在 USE_MY_FEATURE 启用的情况下，featureObj 是个有效值</span></span>
<span class="line"><span style="color:#A6ACCD;">18:32:20 [DEBUG]: ==&gt; MyFeatureObject::foo // 调用 C++ foo 方法</span></span></code></pre></div><p>当我们不需要 <code>MyFeatureObject</code> 类的时候，把宏设置为 0 即可，代码示例如下：</p><div class="language-cpp"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// MyObject.h</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#pragma</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">once</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#include</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">cocos/cocos.h</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#include</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">MyRef.h</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#ifndef</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">USE_MY_FEATURE</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#define</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">USE_MY_FEATURE</span><span style="color:#A6ACCD;"> 0 // Disable USE_MY_FEATURE</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#endif</span></span></code></pre></div><p>在 Xcode 或者 Visual Studio 中运行项目：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">18:54:00 [DEBUG]: D/ JS: ==&gt; featureObj: undefined // getFeatureObject returns undefined if USE_MY_FEATURE is disabled.</span></span></code></pre></div><h3 id="多个-swig-模块的配置" tabindex="-1">多个 Swig 模块的配置 <a class="header-anchor" href="#多个-swig-模块的配置" aria-label="Permalink to &quot;多个 Swig 模块的配置&quot;">​</a></h3><p>我们创建另外一个头文件，名为 <code>MyAnotherObject.h</code>。</p><div class="language-cpp"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// MyAnotherObject.h</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#pragma</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">once</span></span>
<span class="line"><span style="color:#C792EA;">namespace</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">my_another_ns</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#C792EA;">struct</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">MyAnotherObject</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">float</span><span style="color:#F07178;"> a</span><span style="color:#89DDFF;">{</span><span style="color:#F78C6C;">135.246</span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">int</span><span style="color:#F07178;"> b</span><span style="color:#89DDFF;">{</span><span style="color:#F78C6C;">999</span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#676E95;font-style:italic;"> // namespace my_another_ns {</span></span></code></pre></div><p>更新 MyObject.h</p><div class="language-cpp"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// MyObject.h</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//......</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">MyObject</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">public</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">MyRef</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#C792EA;">public</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ......</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">void</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">helloWithAnotherObject</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">my_another_ns</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">MyAnotherObject</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">&amp;</span><span style="color:#A6ACCD;font-style:italic;">obj</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#82AAFF;">CC_LOG_DEBUG</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">==&gt; helloWithAnotherObject, a: %f, b: %d</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">obj</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">a</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">obj</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">b</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ......</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span><span style="color:#676E95;font-style:italic;"> // namespace my_ns {</span></span></code></pre></div><p>创建 <code>/Users/james/NewProject/tools/swig-config/another-module.i</code></p><div class="language-cpp"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// another-module.i</span></span>
<span class="line"><span style="color:#89DDFF;">%</span><span style="color:#F78C6C;">module</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">target_namespace</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">another_ns</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> another_module</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// %insert(header_file) %{ ... }%} 代码块中的内容最终会被原封不动地插入到生成的头文件(.h)开头的地方</span></span>
<span class="line"><span style="color:#89DDFF;">%</span><span style="color:#82AAFF;">insert</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">header_file</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">%{</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#pragma</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">once</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#include</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">bindings/jswrapper/SeApi.h</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#include</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">bindings/manual/jsb_conversions.h</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#include</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">MyAnotherObject.h</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// 添加此行</span></span>
<span class="line"><span style="color:#89DDFF;">%}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// %{ ... %} 代码块中的内容最终会被原封不动地插入到生成的源文件(.cpp)开头的地方</span></span>
<span class="line"><span style="color:#89DDFF;">%{</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#include</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">bindings/auto/jsb_another_module_auto.h</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">%}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">%</span><span style="color:#A6ACCD;">include </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">MyAnotherObject.h</span><span style="color:#89DDFF;">&quot;</span></span></code></pre></div><p>修改 <code>/Users/james/NewProject/tools/swig-config/swig-config.js</code></p><div class="language-cpp"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">use strict</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> path </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">path</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> configList </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">my-module.i</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">jsb_my_module_auto.cpp</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    [ &#39;another-module.i&#39;, &#39;jsb_another_module_auto.cpp&#39; ], // 添加此行</span></span>
<span class="line"><span style="color:#A6ACCD;">];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> projectRoot </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> path</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">resolve</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">path</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">join</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">__dirname</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">..</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">..</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">));</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> interfacesDir </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> path</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">join</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">projectRoot</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">tools</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">swig-config</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> bindingsOutDir </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> path</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">join</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">projectRoot</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">native</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">engine</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">common</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">bindings</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">auto</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> includeDirs </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span></span>
<span class="line"><span style="color:#A6ACCD;">    path</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">join</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">projectRoot</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">native</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">engine</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">common</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Classes</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">),</span></span>
<span class="line"><span style="color:#89DDFF;">];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">module</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">exports </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> {</span></span>
<span class="line"><span style="color:#A6ACCD;">    interfacesDir</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    bindingsOutDir</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    includeDirs</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    configList</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span><span style="color:#89DDFF;">;</span></span></code></pre></div><p>修改 <code>/Users/james/NewProject/native/engine/common/CMakeLists.txt</code></p><div class="language-cmake"><button title="Copy Code" class="copy"></button><span class="lang">cmake</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># /Users/james/NewProject/native/engine/common/CMakeLists.txt</span></span>
<span class="line"><span style="color:#89DDFF;">list</span><span style="color:#A6ACCD;">(APPEND CC_COMMON_SOURCES</span></span>
<span class="line"><span style="color:#A6ACCD;">    ${CMAKE_CURRENT_LIST_DIR}/Classes/Game.h</span></span>
<span class="line"><span style="color:#A6ACCD;">    ${CMAKE_CURRENT_LIST_DIR}/Classes/Game.cpp</span></span>
<span class="line"><span style="color:#A6ACCD;">    ${CMAKE_CURRENT_LIST_DIR}/Classes/MyObject.h</span></span>
<span class="line"><span style="color:#A6ACCD;">    ${CMAKE_CURRENT_LIST_DIR}/Classes/MyAnotherObject.h </span><span style="color:#676E95;font-style:italic;"># Add this line</span></span>
<span class="line"><span style="color:#A6ACCD;">    ${CMAKE_CURRENT_LIST_DIR}/bindings/auto/jsb_my_module_auto.h</span></span>
<span class="line"><span style="color:#A6ACCD;">    ${CMAKE_CURRENT_LIST_DIR}/bindings/auto/jsb_my_module_auto.cpp</span></span>
<span class="line"><span style="color:#A6ACCD;">    ${CMAKE_CURRENT_LIST_DIR}/bindings/auto/jsb_another_module_auto.h </span><span style="color:#676E95;font-style:italic;"># Add this line</span></span>
<span class="line"><span style="color:#A6ACCD;">    ${CMAKE_CURRENT_LIST_DIR}/bindings/auto/jsb_another_module_auto.cpp </span><span style="color:#676E95;font-style:italic;"># Add this line</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span></span></code></pre></div><p>重新生成绑定。</p><p>更新 Game.cpp：</p><div class="language-cpp"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">#include</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Game.h</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#include</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">bindings/auto/jsb_my_module_auto.h</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#include</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">bindings/auto/jsb_another_module_auto.h</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// Add this line</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//......</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Game</span><span style="color:#89DDFF;">::</span><span style="color:#82AAFF;">init</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//......</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">se</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">ScriptEngine</span><span style="color:#89DDFF;">::</span><span style="color:#82AAFF;">getInstance</span><span style="color:#89DDFF;">()-&gt;</span><span style="color:#82AAFF;">addRegisterCallback</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">register_all_my_module</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">se</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">ScriptEngine</span><span style="color:#89DDFF;">::</span><span style="color:#82AAFF;">getInstance</span><span style="color:#89DDFF;">()-&gt;</span><span style="color:#82AAFF;">addRegisterCallback</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">register_all_another_module</span><span style="color:#89DDFF;">);</span><span style="color:#676E95;font-style:italic;"> // Add this line</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">BaseGame</span><span style="color:#89DDFF;">::</span><span style="color:#82AAFF;">init</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>在 Xcode 或者 Visual Studio 中编译，但是得到如下错误：</p><p><img src="/docs/cocos/assets/another-module-compile-error.5696ec40.jpg" alt=""></p><p>因为 MyObject 类依赖了 MyAnotherObject 类，而 MyAnotherObject 类是被定义在另外一个模块中的。我们需要修改 <code>my-module.i</code> 并添加 <code>#include &quot;bindings/auto/jsb_another_module_auto.h&quot;</code>。</p><div class="language-cpp"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// my-module.i</span></span>
<span class="line"><span style="color:#89DDFF;">%</span><span style="color:#F78C6C;">module</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">target_namespace</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">my_ns</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> my_module</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// %insert(header_file) %{ ... }%} 代码块中的内容最终会被原封不动地插入到生成的头文件(.h)开头的地方</span></span>
<span class="line"><span style="color:#89DDFF;">%</span><span style="color:#82AAFF;">insert</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">header_file</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">%{</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#pragma</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">once</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#include</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">bindings/jswrapper/SeApi.h</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#include</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">bindings/manual/jsb_conversions.h</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#include</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">MyObject.h</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">%}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// %{ ... %} 代码块中的内容最终会被原封不动地插入到生成的源文件(.cpp)开头的地方</span></span>
<span class="line"><span style="color:#89DDFF;">%{</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#include</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">bindings/auto/jsb_my_module_auto.h</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#include</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">bindings/auto/jsb_another_module_auto.h</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// Add this line</span></span>
<span class="line"><span style="color:#89DDFF;">%}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ......</span></span></code></pre></div><p>在 Xcode 或者 Visual Studio 中编译项目，现在应该可以正常编译了。</p><p>下一步，我们需要更新 .d.ts 文件：</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// my-module.d.ts</span></span>
<span class="line"><span style="color:#C792EA;">declare</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">namespace</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">my_ns</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">MyFeatureObject</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    foo</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">void</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">MyCoolObject</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">constructor</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">constructor</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">a</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">number</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;font-style:italic;">b</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">number</span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">    publicFloatProperty </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">number</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    print</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">void</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    coolProperty</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">number</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    coolMethod</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">void</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    type</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">number</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    getFeatureObject</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">MyFeatureObject</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    helloWithAnotherObject</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">obj</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">another_ns</span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">MyAnotherObject</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">void</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// 添加这行</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 添加以下行</span></span>
<span class="line"><span style="color:#C792EA;">declare</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">namespace</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">another_ns</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">MyAnotherObject</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    a</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">number</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    b</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">number</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>添加更多的用于读取 <code>MyAnotherObject</code> 类属性的测试代码：</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// MyComponent.ts</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">_decorator</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Component</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">cc</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> ccclass </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> _decorator</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">ccclass</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">MyComponent</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">MyComponent</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Component</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">start</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">myObj</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">my_ns</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">MyCoolObject</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">// ......</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">anotherObj</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">another_ns</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">MyAnotherObject</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// 添加此行</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">myObj</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">helloWithAnotherObject</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">anotherObj</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// 添加此行</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>在 Xcode 或者 Visual Studio 中编译项目，得到如下输出：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">15:05:36 [DEBUG]: ==&gt; helloWithAnotherObject, a: 135.246002, b: 999</span></span></code></pre></div></div></div></main><footer class="VPDocFooter" data-v-6b87e69f data-v-37656e44><!--[--><!--]--><!----><nav class="prev-next" data-v-37656e44><div class="pager" data-v-37656e44><!----></div><div class="pager" data-v-37656e44><a class="pager-link next" href="/docs/cocos/zh/manual/" data-v-37656e44><span class="desc" data-v-37656e44>Next page</span><span class="title" data-v-37656e44>Introduction</span></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"zh_manual_2d-object_index.md\":\"51cd583a\",\"zh_manual_advanced-topics_native-secondary-development.md\":\"7f420f74\",\"index.md\":\"a048b25f\",\"zh_manual_advanced-topics_dynamic-atlas.md\":\"9048fd08\",\"zh_manual_advanced-topics_profiler.md\":\"07c30c8b\",\"zh_manual_contributing.md\":\"a846776f\",\"zh_manual_summary.md\":\"d206c7a5\",\"zh_manual_advanced-topics_native-plugins_brief.md\":\"bf42748a\",\"api-examples.md\":\"5ef26e69\",\"zh_manual_2d-object_2d-render_index.md\":\"c5190600\",\"zh_manual_advanced-topics_cmake-learning.md\":\"64eb42c8\",\"zh_manual_advanced-topics_engine-customization.md\":\"372dc663\",\"zh_manual_advanced-topics_hot-update-manager.md\":\"dab857e2\",\"zh_manual_advanced-topics_data-storage.md\":\"23914934\",\"zh_manual_animation_animation-comp.md\":\"39bd0f35\",\"zh_manual_animation_animation-clip-migration-3.3.x.md\":\"1bd37759\",\"zh_manual_advanced-topics_http.md\":\"e8204d77\",\"zh_manual_concepts_scene_fog.md\":\"7e03707c\",\"zh_manual_animation_animation-component.md\":\"e12a9e84\",\"zh_manual_advanced-topics_native-plugins_tutorial.md\":\"811f6c16\",\"zh_manual_advanced-topics_js-java-bridge.md\":\"d25b4ba5\",\"markdown-examples.md\":\"c810dcbc\",\"zh_manual_advanced-topics_i18n.md\":\"59ed58c1\",\"zh_manual_concepts_scene_layer.md\":\"c8e25b2b\",\"zh_manual_concepts_scene_light_additive-per-pixel-lights.md\":\"43d4861a\",\"zh_manual_concepts_scene_light_lighttype_ambient.md\":\"cbb3a97d\",\"zh_manual_advanced-topics_memory-leak-detector.md\":\"32dd64f4\",\"zh_manual_concepts_scene_light_lighttype_spot-light.md\":\"1736ffce\",\"zh_manual_concepts_scene_light_lightmap.md\":\"121ab34b\",\"zh_manual_concepts_scene_light_pbr-lighting.md\":\"d9caa3e0\",\"zh_manual_concepts_scene_light_probe_index.md\":\"5f752fe3\",\"zh_manual_concepts_scene_light_probe_light-probe-panel.md\":\"966b9d3a\",\"zh_manual_advanced-topics_native-scene-culling.md\":\"df831eae\",\"zh_manual_concepts_scene_light_probe_light-probe.md\":\"47d7d885\",\"zh_manual_shader_surface-shader_builtin-surface-shader.md\":\"47ba19cf\",\"zh_manual_concepts_scene_light_probe_reflection-art-workflow.md\":\"cae2bed6\",\"zh_manual_shader_surface-shader_customize-surface-shader.md\":\"abb7a1e3\",\"zh_manual_advanced-topics_oc-reflection.md\":\"fd56ab52\",\"zh_manual_shader_macros.md\":\"14253222\",\"zh_manual_scripting_reference_coding-standards.md\":\"4932b022\",\"zh_manual_concepts_scene_light_probe_reflection-probe.md\":\"45c1b122\",\"zh_manual_shader_pass-parameter-list.md\":\"a48b7bbe\",\"zh_manual_shader_surface-shader.md\":\"0103a9b6\",\"zh_manual_material-system_material-script.md\":\"3f95ad64\",\"zh_manual_advanced-topics_jsb-sebind.md\":\"a3c69d72\",\"zh_manual_animation_marionette_animation-graph-panel.md\":\"a6fdd8ab\",\"zh_manual_particle-system_renderer.md\":\"90006b92\",\"zh_manual_particle-system_rotation-module.md\":\"0a4315d1\",\"zh_manual_scripting_basic-node-api.md\":\"b87f0266\",\"zh_manual_animation_marionette_index.md\":\"7712cbff\",\"zh_manual_physics_physics-group-mask.md\":\"06cb8e98\",\"zh_manual_editor_publish_publish-alipay-mini-game.md\":\"c4daefd6\",\"zh_manual_particle-system_texture-animation-module.md\":\"c89e501b\",\"zh_manual_particle-system_trail-module.md\":\"354224ce\",\"zh_manual_editor_terrain_index.md\":\"3e18b3b7\",\"zh_manual_graphics-backend_overview.md\":\"78b1f62c\",\"zh_manual_animation_marionette_animation-graph.md\":\"4b5fb3ed\",\"zh_manual_shader_surface-shader_macro-remapping.md\":\"fef18b8e\",\"zh_manual_scripting_index.md\":\"8aeb7672\",\"zh_manual_module-map_texture_index.md\":\"58cac10c\",\"zh_manual_scripting_basic.md\":\"eb7f014e\",\"zh_manual_shader_vscode-plugin.md\":\"06713d01\",\"zh_manual_particle-system_editor_curve-editor.md\":\"c530964f\",\"zh_manual_physics_physics-constantforce.md\":\"bdc9d9db\",\"zh_manual_ui-system_components_editor_mask.md\":\"ab1d207a\",\"zh_manual_particle-system_emitter.md\":\"18fbcb90\",\"zh_manual_submit-pr_submit-pr.md\":\"1f385818\",\"zh_manual_material-system_effect-syntax.md\":\"1bdc1f7c\",\"zh_manual_audio-system_audiolimit.md\":\"1622f704\",\"zh_manual_animation_marionette_animation-mask.md\":\"18cbfa8c\",\"zh_manual_particle-system_2d-particle_2d-particle.md\":\"b13fb81e\",\"zh_manual_animation_marionette_animation-variant.md\":\"2f6db6b2\",\"zh_manual_module-map_mesh_skinnedmeshrenderer.md\":\"d6669c5a\",\"zh_manual_animation_marionette_animation-graph-layer.md\":\"847a7c17\",\"zh_manual_tween_tween-example.md\":\"10650884\",\"zh_manual_asset_bundle.md\":\"fa68c2f2\",\"zh_manual_asset_audio.md\":\"4f1c7959\",\"zh_manual_asset_asset-manager-upgrade-guide.md\":\"32d16e01\",\"zh_manual_advanced-topics_websocket.md\":\"03d6b6a5\",\"zh_manual_asset_auto-atlas.md\":\"6bf1f434\",\"zh_manual_asset_image.md\":\"3710a614\",\"zh_manual_asset_compress-texture.md\":\"90c51cec\",\"zh_manual_asset_dragonbones.md\":\"050f8e8f\",\"zh_manual_asset_cache-manager.md\":\"db80175c\",\"zh_manual_asset_downloader-parser.md\":\"90c3dec0\",\"zh_manual_asset_material.md\":\"cebd5fb9\",\"zh_manual_asset_index.md\":\"c8eff204\",\"zh_manual_asset_dynamic-load-resources.md\":\"f8f72339\",\"zh_manual_asset_font.md\":\"d2c63781\",\"zh_manual_asset_meta.md\":\"32705f81\",\"zh_manual_asset_json.md\":\"3fbfc786\",\"zh_manual_asset_label-atlas.md\":\"4843c157\",\"zh_manual_asset_model_dcc-export-mesh.md\":\"8bffccbc\",\"zh_manual_asset_model_scripting-mesh.md\":\"e59233db\",\"zh_manual_asset_model_maya-export-fbx.md\":\"74e73398\",\"zh_manual_asset_pipeline-task.md\":\"04f4d1c4\",\"zh_manual_asset_model_max-export-fbx.md\":\"845d6f9c\",\"zh_manual_asset_render-texture.md\":\"3c75cba6\",\"zh_manual_asset_model_mesh.md\":\"c579ccc7\",\"zh_manual_asset_release-manager.md\":\"e7b14c4c\",\"zh_manual_asset_subpackage-upgrade-guide.md\":\"86d6cb37\",\"zh_manual_asset_sprite-frame.md\":\"71dab671\",\"zh_manual_advanced-topics_hot-update.md\":\"acb88425\",\"zh_manual_asset_texture.md\":\"52fe1432\",\"zh_manual_asset_tiledmap.md\":\"d4170b1d\",\"zh_manual_animation_animation-editor.md\":\"6d5261f3\",\"zh_manual_animation_animation-state.md\":\"7b1f321b\",\"zh_manual_animation_animation.md\":\"ff917893\",\"zh_manual_animation_curve-editor.md\":\"013a9b99\",\"zh_manual_animation_edit-animation-clip.md\":\"150875bf\",\"zh_manual_animation_joint-texture-layout.md\":\"725d19e0\",\"zh_manual_animation_animation-event.md\":\"2bf265a9\",\"zh_manual_advanced-topics_index.md\":\"8c8e19ee\",\"zh_manual_animation_animation-keyframes.md\":\"b27e68d4\",\"zh_manual_animation_embedded-player.md\":\"f816fd6a\",\"zh_manual_animation_index.md\":\"4d23ee30\",\"zh_manual_editor_console_index.md\":\"d6fe2b3f\",\"zh_manual_advanced-topics_websocket-introduction.md\":\"11f05b77\",\"zh_manual_animation_marionette_animation-controller.md\":\"acd79011\",\"zh_manual_advanced-topics_jsb-auto-binding.md\":\"f5b18c82\",\"zh_manual_animation_animation-create.md\":\"ac4dedba\",\"zh_manual_editor_components_tiledtile.md\":\"c4ca6747\",\"zh_manual_advanced-topics_supported-versions.md\":\"1670541a\",\"zh_manual_advanced-topics_jsb-swig.md\":\"35c107da\",\"zh_manual_advanced-topics_websocket-server.md\":\"d71f5b67\",\"zh_manual_2d-object_ui-system_index.md\":\"ae9771de\",\"zh_manual_advanced-topics_thread-safety.md\":\"f1ebec54\",\"zh_manual_animation_animation-curve.md\":\"ca8c6dff\",\"zh_manual_editor_extension_api_app.md\":\"2eac5287\",\"zh_manual_editor_extension_api_clipboard.md\":\"0d92bd9e\",\"zh_manual_editor_extension_api_profile.md\":\"60c136bc\",\"zh_manual_editor_extension_api_i18n.md\":\"9af320df\",\"zh_manual_editor_extension_api_dialog.md\":\"1dfba1cc\",\"zh_manual_advanced-topics_java-reflection.md\":\"aaa8ad8c\",\"zh_manual_editor_extension_api_logger.md\":\"5c6eea82\",\"zh_manual_animation_marionette_animation-graph-basics.md\":\"257deed8\",\"zh_manual_editor_extension_api_selection.md\":\"01e110bd\",\"zh_manual_editor_extension_api_network.md\":\"8e7fadf7\",\"zh_manual_editor_extension_api_panel.md\":\"0458b32e\",\"zh_manual_editor_extension_api_project.md\":\"bcb4659a\",\"zh_manual_advanced-topics_jsb2.0-learning.md\":\"75273814\",\"zh_manual_editor_extension_contributions-menu.md\":\"7fe01db1\",\"zh_manual_editor_extension_contributions-messages.md\":\"563ba66d\",\"zh_manual_editor_extension_api_message.md\":\"e2ad6963\",\"zh_manual_editor_extension_contributions-shortcuts.md\":\"e6c27de2\",\"zh_manual_editor_extension_create-extension.md\":\"baeff93f\",\"zh_manual_editor_extension_define.md\":\"68f8f0f2\",\"zh_manual_editor_extension_contributions-preferences.md\":\"98246150\",\"zh_manual_editor_extension_contributions.md\":\"7f3de016\",\"zh_manual_editor_extension_editor-api.md\":\"c0704eb2\",\"zh_manual_editor_extension_extension-change-name.md\":\"967f9d43\",\"zh_manual_editor_extension_first-panel.md\":\"02899720\",\"zh_manual_editor_extension_first.md\":\"5dd9085d\",\"zh_manual_editor_extension_i18n.md\":\"1bcd9f20\",\"zh_manual_editor_extension_extension-manager.md\":\"d4ce6a15\",\"zh_manual_editor_extension_contributions-database.md\":\"3f14975d\",\"zh_manual_editor_extension_first-communication.md\":\"77158fc3\",\"zh_manual_editor_extension_messages.md\":\"17e3c712\",\"zh_manual_editor_extension_install.md\":\"c81acb05\",\"zh_manual_editor_extension_contributions-project.md\":\"e328a52f\",\"zh_manual_editor_extension_panel-messages.md\":\"2de9c112\",\"zh_manual_editor_extension_package.md\":\"3aafe424\",\"zh_manual_editor_extension_scene-script.md\":\"852f18ca\",\"zh_manual_editor_index.md\":\"6c8774ef\",\"zh_manual_editor_inspector_index.md\":\"9e0f407c\",\"zh_manual_editor_publish_android_build-example-android.md\":\"2b9abdc1\",\"zh_manual_editor_l10n_collect-and-count.md\":\"259dffa5\",\"zh_manual_editor_extension_store_upload-store.md\":\"9bf26d5f\",\"zh_manual_editor_extension_to-panel-messages.md\":\"bcdea265\",\"zh_manual_editor_l10n_l10n-label.md\":\"f613ae18\",\"zh_manual_editor_extension_panel-boot.md\":\"73eb88a1\",\"zh_manual_editor_l10n_example-excel.md\":\"ce443c3d\",\"zh_manual_editor_l10n_compile-language.md\":\"4dddc5cb\",\"zh_manual_editor_l10n_translation-service.md\":\"1aea49f4\",\"zh_manual_editor_preview_browser.md\":\"94b145eb\",\"zh_manual_editor_preferences_index.md\":\"f784fe89\",\"zh_manual_editor_preview_preview-guid.md\":\"d2b268f0\",\"zh_manual_editor_mainmenu_index.md\":\"06a64fda\",\"zh_manual_editor_publish_android_build-options-android.md\":\"0f6ef508\",\"zh_manual_editor_publish_android_build-setup-evn-android.md\":\"c8178c34\",\"zh_manual_editor_preview_index.md\":\"236c95e5\",\"zh_manual_editor_project_physics-configs.md\":\"66c88cd9\",\"zh_manual_editor_project_index.md\":\"9d68a661\",\"zh_manual_editor_publish_build-options.md\":\"5e387cba\",\"zh_manual_editor_publish_build-guide.md\":\"ffed18f4\",\"zh_manual_editor_publish_build-open-data-context.md\":\"e1f64ffb\",\"zh_manual_editor_publish_android_index.md\":\"d707536a\",\"zh_manual_editor_publish_build-panel.md\":\"80214dcb\",\"zh_manual_editor_publish_debug-jsb.md\":\"604734be\",\"zh_manual_editor_publish_custom-project-build-template.md\":\"59f52e95\",\"zh_manual_editor_publish_ios_build-example-ios.md\":\"970b94b2\",\"zh_manual_editor_publish_index.md\":\"b935f2db\",\"zh_manual_editor_publish_ios_build-options-ios.md\":\"ce6bc129\",\"zh_manual_editor_publish_custom-build-plugin.md\":\"3c754f1a\",\"zh_manual_editor_publish_mac_build-options-mac.md\":\"dc66332b\",\"zh_manual_concepts_scene_light_lighttype_dir-light.md\":\"1140f6f2\",\"zh_manual_editor_publish_mac_index.md\":\"aee9fbc9\",\"zh_manual_editor_publish_mac_build-example-mac.md\":\"33d3f697\",\"zh_manual_editor_publish_native-options.md\":\"20db2b0e\",\"zh_manual_editor_publish_ios_index.md\":\"e6e3e397\",\"zh_manual_concepts_scene_light_lighttype_index.md\":\"5eac0de4\",\"zh_manual_editor_publish_publish-baidu-mini-game.md\":\"20788720\",\"zh_manual_editor_publish_publish-fb-instant-games.md\":\"6d937382\",\"zh_manual_editor_publish_publish-huawei-agc.md\":\"f573bdcb\",\"zh_manual_editor_publish_publish-huawei-ohos.md\":\"19fea63f\",\"zh_manual_editor_publish_publish-huawei-quick-game.md\":\"2006f209\",\"zh_manual_editor_publish_publish-in-command-line.md\":\"8d61e049\",\"zh_manual_editor_publish_publish-mini-game.md\":\"cc8b1336\",\"zh_manual_editor_publish_publish-bytedance-mini-game.md\":\"7953d40d\",\"zh_manual_editor_publish_publish-native-index.md\":\"262be066\",\"zh_manual_editor_publish_publish-oppo-mini-game.md\":\"4312bcfb\",\"zh_manual_editor_publish_publish-pc-wechatgame.md\":\"6b87a179\",\"zh_manual_editor_publish_publish-openharmony.md\":\"bb826dcd\",\"zh_manual_editor_publish_publish-taobao-creative-app.md\":\"a2ec33ae\",\"zh_manual_editor_publish_publish-taobao-mini-game.md\":\"ece55a1b\",\"zh_manual_editor_publish_publish-vivo-mini-game.md\":\"6ae646c1\",\"zh_manual_editor_publish_setup-native-development.md\":\"be2b2003\",\"zh_manual_editor_publish_publish-web.md\":\"914aa27c\",\"zh_manual_editor_publish_publish-wechatgame.md\":\"1a6bb8d8\",\"zh_manual_editor_publish_subpackage.md\":\"b514db3a\",\"zh_manual_editor_publish_publish-xiaomi-quick-game.md\":\"c01ef1a0\",\"zh_manual_editor_publish_windows_build-options-windows.md\":\"e016f57e\",\"zh_manual_editor_publish_windows_build-example-windows.md\":\"f141bf01\",\"zh_manual_engine_event_event-input.md\":\"db84ce83\",\"zh_manual_editor_publish_windows_index.md\":\"2c2f764f\",\"zh_manual_editor_scene_collider-gizmo.md\":\"5be73e68\",\"zh_manual_editor_scene_camera-gizmo.md\":\"3314915b\",\"zh_manual_editor_toolbar_index.md\":\"211e8d25\",\"zh_manual_engine_event_event-api.md\":\"e986ec1b\",\"zh_manual_editor_scene_index.md\":\"7d5d16ea\",\"zh_manual_engine_event_event-emit.md\":\"573b1c29\",\"zh_manual_editor_rendering_lod.md\":\"9d0aa680\",\"zh_manual_editor_scene_particle-system-gizmo.md\":\"96b2d47a\",\"zh_manual_engine_rendering_sorting.md\":\"98a7dfcf\",\"zh_manual_getting-started_attention_index.md\":\"4941b345\",\"zh_manual_engine_event_event-node.md\":\"daa52022\",\"zh_manual_engine_renderable_model-component.md\":\"57342608\",\"zh_manual_getting-started_first-game-2d_touch.md\":\"7626a037\",\"zh_manual_engine_template_native-upgrade-to-v3.6.md\":\"7efbf716\",\"zh_manual_geometry-renderer_index.md\":\"8e932697\",\"zh_manual_shader_effect-inspector.md\":\"1342c004\",\"zh_manual_engine_template_native-upgrade-to-v3.5.md\":\"eaa0a71e\",\"zh_manual_shader_surface-shader_lighting-mode.md\":\"a5f28784\",\"zh_manual_importer_materials_fbx-materials.md\":\"0f9067e4\",\"zh_manual_advanced-topics_jsb-web-difference.md\":\"ba7d5ed7\",\"zh_manual_material-system_effect-upgrade-documentation-for-v3.4.2-to-v3.5.md\":\"ef52963e\",\"zh_manual_material-system_material-upgrade-documentation-for-v3.0-to-v3.1.md\":\"089e31e3\",\"zh_manual_index.md\":\"876c45e1\",\"zh_manual_shader_surface-shader_render-usage.md\":\"5044dd7e\",\"zh_manual_advanced-topics_jsb-bridge-wrapper.md\":\"ebe07371\",\"zh_manual_shader_surface-shader_rendering-debug-view.md\":\"a332f042\",\"zh_manual_audio-system_audiosource.md\":\"9e0b609f\",\"zh_manual_shader_surface-shader_shader-code-flow.md\":\"00f0c0fc\",\"zh_manual_cases-and-tutorials_index.md\":\"54b47458\",\"zh_manual_material-system_builtin-material.md\":\"c9dde2de\",\"zh_manual_module-map_mesh_index.md\":\"6a765484\",\"zh_manual_concepts_scene_light_shadow.md\":\"72be5cf6\",\"zh_manual_material-system_material-structure.md\":\"623a555a\",\"zh_manual_shader_surface-shader_shader-assembly.md\":\"71e0d461\",\"zh_manual_native_overview.md\":\"542c9cc0\",\"zh_manual_material-system_effect-upgrade-documentation-for-v3.5-to-v3.6.md\":\"e12f4348\",\"zh_manual_shader_surface-shader_shader-stage.md\":\"738da8bf\",\"zh_manual_module-map_graphics.md\":\"78fad600\",\"zh_manual_shader_surface-shader_surface-data-struct.md\":\"21759829\",\"zh_manual_concepts_scene_node-component.md\":\"4a7a787c\",\"zh_manual_material-system_overview.md\":\"e4fdb83d\",\"zh_manual_concepts_scene_node-tree.md\":\"fa435903\",\"zh_manual_module-map_effects_index.md\":\"9e7e8737\",\"zh_manual_concepts_scene_scene-editing.md\":\"3522836f\",\"zh_manual_shader_uniform.md\":\"fd0d4c4c\",\"zh_manual_concepts_scene_scene.md\":\"18c42e80\",\"zh_manual_concepts_scene_skybox.md\":\"8db979bd\",\"zh_manual_particle-system_billboard-component.md\":\"d90143de\",\"zh_manual_editor_components_camera-component.md\":\"8998cf3c\",\"zh_manual_shader_surface-shader_surface-function.md\":\"dee6e0f6\",\"zh_manual_editor_components_dragonbones.md\":\"daf35794\",\"zh_manual_editor_components_motion-streak.md\":\"0ca82e26\",\"zh_manual_shader_surface-shader_vs-input.md\":\"5aa144ea\",\"zh_manual_module-map_mesh_skinnedmeshbatchrenderer.md\":\"aeb8e5d0\",\"zh_manual_material-system_effect-2.x-to-3.0.md\":\"fcc10c50\",\"zh_manual_particle-system_editor_gradient-editor.md\":\"f97f1106\",\"zh_manual_tween_tween-function.md\":\"3ded8c3a\",\"zh_manual_shader_write-effect-3d-rim-light.md\":\"6f504c8f\",\"zh_manual_shader_surface-shader_surface-shader-structure.md\":\"19af5303\",\"zh_manual_tween_index.md\":\"cc1f41a3\",\"zh_manual_physics-2d_physics-2d.md\":\"72dbbeae\",\"zh_manual_particle-system_editor_particle-effect-panel.md\":\"74a8a62d\",\"zh_manual_physics-2d_physics-2d-system.md\":\"7e51fcab\",\"zh_manual_particle-system_editor_index.md\":\"b43e5e0b\",\"zh_manual_shader_webgl-100-fallback.md\":\"070bde7b\",\"zh_manual_tween_tween-interface.md\":\"94b66bbd\",\"zh_manual_particle-system_color-module.md\":\"a14c5172\",\"zh_manual_shader_yaml-101.md\":\"591f9d14\",\"zh_manual_physics-2d_physics-2d-rigid-body.md\":\"b428b1fe\",\"zh_manual_shader_write-effect-overview.md\":\"6e4e01ac\",\"zh_manual_shader_write-effect-2d-sprite-gradient.md\":\"58467d4a\",\"zh_manual_release-notes_upgrade-guide-v3.0.md\":\"874a897b\",\"zh_manual_shader_ubo-layout.md\":\"4a8f601f\",\"zh_manual_ui-system_components_editor_block-input-events.md\":\"2c7f1619\",\"zh_manual_physics_physics-ccd.md\":\"db871b84\",\"zh_manual_particle-system_limit-velocity-module.md\":\"77cd5f4c\",\"zh_manual_particle-system_force-module.md\":\"d3adaf91\",\"zh_manual_ui-system_components_editor_button.md\":\"7d358616\",\"zh_manual_physics_index.md\":\"b4a4c856\",\"zh_manual_physics_physics-component.md\":\"17381116\",\"zh_manual_ui-system_components_editor_graphics_circle.md\":\"a2b0d387\",\"zh_manual_ui-system_components_editor_graphics.md\":\"0f8c3002\",\"zh_manual_ui-system_components_editor_graphics_clear.md\":\"2f227eeb\",\"zh_manual_particle-system_module.md\":\"94ad79bb\",\"zh_manual_particle-system_noise-module.md\":\"7c831fd3\",\"zh_manual_particle-system_index.md\":\"517da6ce\",\"zh_manual_ui-system_components_editor_editbox.md\":\"299770cd\",\"zh_manual_ui-system_components_editor_graphics_arc.md\":\"bed6e12a\",\"zh_manual_ui-system_components_editor_graphics_fillcolor.md\":\"7e07d0e2\",\"zh_manual_physics_physics-configs.md\":\"147d4d4a\",\"zh_manual_physics_physics-example.md\":\"6bdce7d8\",\"zh_manual_ui-system_components_editor_graphics_fill.md\":\"95d01f8a\",\"zh_manual_physics_physics-collider.md\":\"971e911d\",\"zh_manual_ui-system_components_editor_graphics_linecap.md\":\"b3de8589\",\"zh_manual_ui-system_components_editor_canvas.md\":\"018a2429\",\"zh_manual_ui-system_components_editor_graphics_ellipse.md\":\"b37f9a85\",\"zh_manual_ui-system_components_editor_graphics_linejoin.md\":\"1f6be3aa\",\"zh_manual_ui-system_components_editor_graphics_close.md\":\"90e3a091\",\"zh_manual_ui-system_components_editor_graphics_lineto.md\":\"7a9a7fff\",\"zh_manual_particle-system_overview.md\":\"a1902a94\",\"zh_manual_physics_physics-material.md\":\"5ddbe317\",\"zh_manual_particle-system_velocity-module.md\":\"68067593\",\"zh_manual_particle-system_main-module.md\":\"ff6a6a02\",\"zh_manual_physics_physics-constraint.md\":\"0b7e3867\",\"zh_manual_particle-system_particle-upgrade-documentation-for-v3.5-to-v3.6.md\":\"eaaeb884\",\"zh_manual_physics-2d_physics-2d-contact-callback.md\":\"10bcf31b\",\"zh_manual_ui-system_components_editor_graphics_moveto.md\":\"112d2c69\",\"zh_manual_ui-system_components_editor_graphics_beziercurveto.md\":\"6681eeeb\",\"zh_manual_physics_physics-raycast.md\":\"7d583d84\",\"zh_manual_physics_physics-event.md\":\"031e0ec1\",\"zh_manual_release-notes_upgrade-cmake.md\":\"b4cd78c9\",\"zh_manual_ui-system_components_editor_graphics_linewidth.md\":\"c8abbed8\",\"zh_manual_particle-system_size-module.md\":\"7590d198\",\"zh_manual_render-pipeline_builtin-pipeline.md\":\"25c23842\",\"zh_manual_physics-2d_physics-2d-collider.md\":\"98b4f56b\",\"zh_manual_physics_physics-engine.md\":\"0c6484d0\",\"zh_manual_release-notes_index.md\":\"64ae1f82\",\"zh_manual_physics_physics-rigidbody.md\":\"00168fc7\",\"zh_manual_physics-2d_physics-2d-joint.md\":\"89d3b0bd\",\"zh_manual_ui-system_components_editor_graphics_rect.md\":\"a37d7d64\",\"zh_manual_ui-system_components_editor_graphics_miterlimit.md\":\"d19c8017\",\"zh_manual_ui-system_components_editor_graphics_strokecolor.md\":\"d4889aca\",\"zh_manual_particle-system_line-component.md\":\"02b0eb8b\",\"zh_manual_release-notes_build-template-settings-upgrade-guide-v3.6.md\":\"6c9df96c\",\"zh_manual_ui-system_components_editor_graphics_quadraticcurveto.md\":\"db9e2c36\",\"zh_manual_ui-system_components_editor_graphics_stroke.md\":\"49c82baf\",\"zh_manual_render-pipeline_overview.md\":\"8cb13504\",\"zh_manual_render-pipeline_post-process.md\":\"daf26749\",\"zh_manual_ui-system_components_editor_layout.md\":\"0ecd51c1\",\"zh_manual_ui-system_components_editor_render-component.md\":\"1ee91a3b\",\"zh_manual_scripting_modules_engine.md\":\"8dc3090d\",\"zh_manual_scripting_modules_import-map.md\":\"fac70e1a\",\"zh_manual_scripting_component.md\":\"c76ee2c9\",\"zh_manual_scripting_modules_config.md\":\"9167f3c8\",\"zh_manual_ui-system_components_editor_label.md\":\"9321a6c4\",\"zh_manual_scripting_modules_index.md\":\"c93be470\",\"zh_manual_scripting_reference-class.md\":\"230d647c\",\"zh_manual_ui-system_components_editor_label-shadow.md\":\"06f63438\",\"zh_manual_ui-system_components_editor_pageview.md\":\"c169dd2b\",\"zh_manual_scripting_modules_example.md\":\"5cee97f8\",\"zh_manual_scripting_decorator.md\":\"72d998b3\",\"zh_manual_scripting_coding-setup.md\":\"3acbcc30\",\"zh_manual_scripting_create-destroy.md\":\"33317c86\",\"zh_manual_ui-system_components_editor_pageviewindicator.md\":\"92a3e3b8\",\"zh_manual_ui-system_components_editor_ui-opacity.md\":\"6caa57f7\",\"zh_manual_ui-system_components_editor_scrollbar.md\":\"89e0a948\",\"zh_manual_ui-system_components_editor_webview.md\":\"80cedf18\",\"zh_manual_ui-system_components_editor_richtext.md\":\"4ac9aaa0\",\"zh_manual_ui-system_components_editor_videoplayer.md\":\"611aee91\",\"zh_manual_scripting_readonly.md\":\"908f4416\",\"zh_manual_shader_effect-builtin-toon.md\":\"cffd813f\",\"zh_manual_ui-system_components_editor_widget.md\":\"161beee7\",\"zh_manual_scripting_modules_spec.md\":\"4f9025a3\",\"zh_manual_scripting_usage.md\":\"545bcf29\",\"zh_manual_render-pipeline_user-pipeline.md\":\"fd7c56fc\",\"zh_manual_scripting_language-support.md\":\"855c30d4\",\"zh_manual_ui-system_components_editor_ui-static.md\":\"e5944ff1\",\"zh_manual_scripting_access-node-component.md\":\"7040ee54\",\"zh_manual_scripting_load-assets.md\":\"af38282f\",\"zh_manual_scripting_setup.md\":\"09b3511f\",\"zh_manual_scripting_tsconfig.md\":\"23676545\",\"zh_manual_ui-system_components_editor_togglecontainer.md\":\"10d534c7\",\"zh_manual_ui-system_components_editor_ui-transform.md\":\"ea42f9f8\",\"zh_manual_scripting_script-basics.md\":\"654ba3a5\",\"zh_manual_scripting_scheduler.md\":\"f28e7ccf\",\"zh_manual_ui-system_components_editor_ui-model.md\":\"1cf8cba5\",\"zh_manual_ui-system_components_editor_slider.md\":\"6e65be7a\",\"zh_manual_ui-system_components_engine_auto-layout.md\":\"63e2b959\",\"zh_manual_concepts_scene_light_probe_reflection-probe-panel.md\":\"4e08175f\",\"zh_manual_ui-system_components_editor_toggle.md\":\"5c143923\",\"zh_manual_scripting_reference_attributes.md\":\"57f3a406\",\"zh_manual_scripting_external-scripts.md\":\"5d3d7877\",\"zh_manual_shader_effect-builtin-pbr.md\":\"07afb510\",\"zh_manual_ui-system_components_editor_safearea.md\":\"d73657d1\",\"zh_manual_ui-system_components_editor_sprite.md\":\"a734eadb\",\"zh_manual_ui-system_components_engine_sliced-sprite.md\":\"3c149235\",\"zh_manual_editor_components_tiledmap.md\":\"5fc97c88\",\"zh_manual_xr_vr_device-mapping.md\":\"a77a668a\",\"zh_manual_ui-system_components_editor_ui-coordinate-tracker.md\":\"d5578a97\",\"zh_manual_ui-system_components_engine_multi-resolution.md\":\"c03860c3\",\"zh_manual_debug-renderer_index.md\":\"a725fbdb\",\"zh_manual_ui-system_components_engine_usage-ui.md\":\"c7792511\",\"zh_manual_concepts_scene_light_lighttype_sphere-light.md\":\"424f1483\",\"zh_manual_ui-system_components_engine_trim.md\":\"322d73f0\",\"zh_manual_shader_effect-builtin.md\":\"7087d501\",\"zh_manual_shader_common-functions.md\":\"f087d99c\",\"zh_manual_ui-system_components_engine_ui-batch.md\":\"9e676336\",\"zh_manual_xr_architecture_component.md\":\"d54b0117\",\"zh_manual_editor_assets_extension.md\":\"7a4659cb\",\"zh_manual_xr_architecture_ar-sdk-summary.md\":\"0b70a6ee\",\"zh_manual_xr_architecture_assets.md\":\"b8bfbaee\",\"zh_manual_ui-system_components_engine_widget-align.md\":\"56d634b8\",\"zh_manual_shader_effect-builtin-unlit.md\":\"4084080a\",\"zh_manual_xr_architecture_ar-manager.md\":\"bbea08be\",\"zh_manual_concepts_scene_index.md\":\"e570b51f\",\"zh_manual_xr_architecture_ar-interaction.md\":\"8ad426b3\",\"zh_manual_xr_architecture_xr-pass-through.md\":\"d8ac2494\",\"zh_manual_xr_architecture_xr-video-player.md\":\"795588be\",\"zh_manual_xr_architecture_xr-spatial-audio.md\":\"59fc03ad\",\"zh_manual_xr_architecture_index.md\":\"644527d8\",\"zh_manual_xr_architecture_ar-introduce.md\":\"15f05f37\",\"zh_manual_ui-system_components_engine_ui-material.md\":\"6a372497\",\"zh_manual_xr_project-deploy_vr-proj-pub.md\":\"18300ed8\",\"zh_manual_xr_index.md\":\"bca691e0\",\"zh_manual_xr_project-deploy_webxr-proj-pub.md\":\"a33c9291\",\"zh_manual_xr_version-history.md\":\"a6f9810d\",\"zh_manual_xr_vr_index.md\":\"293552a4\",\"zh_manual_shader_surface-shader_includes.md\":\"1faeedd7\",\"zh_manual_advanced-topics_jsb-manual-binding.md\":\"cb7febc5\",\"zh_manual_xr_vr_prefab.md\":\"4ffe5a3f\",\"zh_manual_ui-system_components_engine_label-layout.md\":\"facaa156\",\"zh_manual_shader_instanced-attributes.md\":\"408e8376\",\"zh_manual_concepts_scene_light.md\":\"e864fd30\",\"zh_manual_xr_vr_template.md\":\"620e0081\",\"zh_manual_xr_vr_locomotion.md\":\"84e34c95\",\"zh_manual_xr_project-deploy_ar-proj-deploy.md\":\"169dd549\",\"zh_manual_xr_architecture_xr-webview.md\":\"1cf0d189\",\"zh_manual_shader_glsl.md\":\"927727f4\",\"zh_manual_xr_architecture_preview.md\":\"7773ad10\",\"zh_manual_xr_architecture_ar-tracking-component.md\":\"ddda5374\",\"zh_manual_shader_legacy-shader_legacy-shader-func-struct.md\":\"457f4193\",\"zh_manual_concepts_scene_light_probe_example.md\":\"5774053e\",\"zh_manual_editor_components_spine.md\":\"40a7e1ed\",\"zh_manual_xr_vr_component.md\":\"a6503dd7\",\"zh_manual_xr_architecture_ar-feature-introduce.md\":\"b70b33eb\",\"zh_manual_xr_architecture_ar-feature-support.md\":\"d85ec307\",\"zh_manual_ui-system_components_engine_list-with-data.md\":\"24d44a03\",\"zh_manual_shader_surface-shader_function-replace.md\":\"a7182401\",\"zh_manual_xr_architecture_ar-camera.md\":\"1a237af3\",\"zh_manual_shader_surface-shader_fs-input.md\":\"247edf97\",\"zh_manual_shader_forward-and-deferred.md\":\"7c652aa6\",\"zh_manual_scripting_life-cycle-callbacks.md\":\"d745ed91\",\"zh_manual_ui-system_components_editor_scrollview.md\":\"8c075e08\",\"zh_manual_animation_use-animation-curve.md\":\"504d98f1\",\"zh_manual_scripting_scene-managing.md\":\"0a8b2a3b\",\"zh_manual_ui-system_components_engine_priority.md\":\"7844df77\",\"zh_manual_xr_architecture_xr-composition-layer.md\":\"42db26a7\",\"zh_manual_scripting_log.md\":\"d2f02f29\",\"zh_manual_ui-system_components_editor_label-outline.md\":\"befa6e2b\",\"zh_manual_xr_vr_build.md\":\"f72515e6\",\"zh_manual_ui-system_components_editor_progress.md\":\"3afbc64d\",\"zh_manual_asset_asset-manager.md\":\"f808b325\",\"zh_manual_physics_physics.md\":\"24167607\",\"zh_manual_animation_marionette_state-transition.md\":\"f836272e\",\"zh_manual_asset_atlas.md\":\"f7e0adaf\",\"zh_manual_animation_skeletal-animation.md\":\"35728193\",\"zh_manual_asset_texture-cube.md\":\"170619a2\",\"zh_manual_asset_asset-workflow.md\":\"75594a5d\",\"zh_manual_animation_morph.md\":\"5dd029f8\",\"zh_manual_asset_scene.md\":\"a926ee6f\",\"zh_manual_asset_text.md\":\"3bfd46aa\",\"zh_manual_asset_preload-load.md\":\"7f8ad667\",\"zh_manual_asset_model_gltf.md\":\"ea3f8848\",\"zh_manual_asset_model_image-location-resolution.md\":\"446acc7a\",\"zh_manual_asset_options.md\":\"f678ce41\",\"zh_manual_asset_spine.md\":\"6737b416\",\"zh_manual_asset_script.md\":\"10c1ac3d\",\"zh_manual_editor_extension_api_package.md\":\"823eb96c\",\"zh_manual_animation_animation-clip.md\":\"20becdea\",\"zh_manual_advanced-topics_js-oc-bridge.md\":\"54da9bf2\",\"zh_manual_editor_extension_basic.md\":\"8a44f6d0\",\"zh_manual_editor_editor-layout_index.md\":\"2a11ef52\",\"zh_manual_editor_l10n_script-using.md\":\"94a230cf\",\"zh_manual_asset_prefab.md\":\"43db6af1\",\"zh_manual_editor_hierarchy_index.md\":\"c61fa524\",\"zh_manual_editor_extension_api_utils.md\":\"7203180a\",\"zh_manual_editor_l10n_localization-editor-api.md\":\"864f20b6\",\"zh_manual_editor_extension_readme.md\":\"f902fa04\",\"zh_manual_editor_extension_ui.md\":\"c9e41f8f\",\"zh_manual_editor_l10n_overview.md\":\"83700bdd\",\"zh_manual_editor_publish_wechatgame-plugin.md\":\"968d29c9\",\"zh_manual_audio-system_overview.md\":\"30ac3fa5\",\"zh_manual_editor_extension_panel.md\":\"2be9fcb8\",\"zh_manual_getting-started_support.md\":\"85ad9923\",\"zh_manual_getting-started_introduction_index.md\":\"4afeed54\",\"zh_manual_getting-started_helloworld_index.md\":\"5de3d5fa\",\"zh_manual_getting-started_dashboard_index.md\":\"db072e06\",\"zh_manual_getting-started_first-game_index.md\":\"a9c10caf\",\"zh_manual_getting-started_first-game-2d_index.md\":\"6d49bc62\",\"zh_manual_glossary_index.md\":\"9c520064\",\"zh_manual_engine_event_index.md\":\"41eff57b\",\"zh_manual_getting-started_project-structure_index.md\":\"f67c01a3\",\"zh_manual_getting-started_index.md\":\"28b092dd\",\"zh_manual_getting-started_install_index.md\":\"04493987\",\"zh_manual_shader_effect-chunk-index.md\":\"8c2ec31a\",\"zh_manual_xr_project-deploy_webxr-proj-deploy.md\":\"d12bd6cd\",\"zh_manual_editor_assets_index.md\":\"255c1946\",\"zh_manual_shader_index.md\":\"16789f2c\",\"zh_manual_concepts_scene_coord.md\":\"c2c87f4c\",\"zh_manual_xr_vr_interaction.md\":\"0b37da26\",\"zh_manual_xr_vr_preview.md\":\"31cf4466\",\"zh_manual_shader_legacy-shader_legacy-shader.md\":\"28edd5bb\",\"zh_manual_shader_effect-syntax.md\":\"74e8660b\",\"zh_manual_ui-system_components_editor_base-component.md\":\"ac300eda\",\"zh_manual_xr_project-deploy_index.md\":\"a10f7f23\",\"zh_manual_xr_vr_xrui.md\":\"33006a3f\",\"zh_manual_getting-started_first-game_advance.md\":\"bf79c346\",\"zh_manual_audio-system_audioexample.md\":\"049de459\",\"zh_manual_xr_project-deploy_vr-proj-deploy.md\":\"2fb0f5e4\",\"zh_manual_xr_project-deploy_ar-proj-pub.md\":\"a3723aeb\",\"zh_manual_xr_vr_extension.md\":\"2914bed6\",\"zh_manual_xr_vr_events.md\":\"4c302a85\",\"zh_manual_shader_legacy-shader_legacy-shader-builtins.md\":\"a956da42\",\"zh_manual_editor_extension_inspector.md\":\"e40b081a\",\"zh_manual_advanced-topics_jsb_swig_tutorial_index.md\":\"0d2f8409\",\"zh_manual_editor_extension_profile.md\":\"e12147a0\",\"zh_manual_render-pipeline_custom-pipeline.md\":\"207d60b8\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"zh-CN\",\"dir\":\"ltr\",\"title\":\"Cocos\",\"description\":\"Cocos Creator\",\"base\":\"/docs/cocos/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"主页\",\"link\":\"/\"},{\"text\":\"Cocos Creator\",\"items\":[{\"text\":\"手册文档\",\"link\":\"/zh/manual/\"},{\"text\":\"API 参考\",\"link\":\"/api/\"}]},{\"text\":\"Cocos Creator 3D\",\"items\":[{\"text\":\"手册文档\",\"link\":\"/zh/manual/\"},{\"text\":\"API 参考\",\"link\":\"/api/\"}]},{\"text\":\"Cocos2d-x\",\"items\":[{\"text\":\"手册文档\",\"link\":\"/zh/manual/\"},{\"text\":\"API 参考\",\"link\":\"/api/\"}]},{\"text\":\"version\",\"items\":[{\"text\":\"3.7\",\"link\":\"https://docs.cocos.com/creator/3.7/manual/zh\"},{\"text\":\"3.6\",\"link\":\"https://docs.cocos.com/creator/3.6/manual/zh\"},{\"text\":\"3.5\",\"link\":\"https://docs.cocos.com/creator/3.5/manual/zh\"},{\"text\":\"3.4\",\"link\":\"https://docs.cocos.com/creator/3.4/manual/zh\"},{\"text\":\"3.3\",\"link\":\"https://docs.cocos.com/creator/3.3/manual/zh\"},{\"text\":\"3.2\",\"link\":\"https://docs.cocos.com/creator/3.2/manual/zh\"},{\"text\":\"3.1\",\"link\":\"https://docs.cocos.com/creator/3.1/manual/zh\"},{\"text\":\"3.0\",\"link\":\"https://docs.cocos.com/creator/3.0/manual/zh\"},{\"text\":\"2.4\",\"link\":\"https://docs.cocos.com/creator/2.4/manual/zh\"},{\"text\":\"2.3\",\"link\":\"https://docs.cocos.com/creator/2.3/manual/zh\"},{\"text\":\"2.2\",\"link\":\"https://docs.cocos.com/creator/2.2/manual/zh\"},{\"text\":\"2.1\",\"link\":\"https://docs.cocos.com/creator/2.0/manual/zh\"},{\"text\":\"2.0\",\"link\":\"https://docs.cocos.com/creator/2.0/manual/zh\"},{\"text\":\"1.10\",\"link\":\"https://docs.cocos.com/creator/1.10/manual/zh\"},{\"text\":\"1.9\",\"link\":\"https://docs.cocos.com/creator/1.9/manual/zh\"}]}],\"sidebar\":[{\"text\":\"简介\",\"items\":[{\"text\":\"Introduction\",\"link\":\"/zh/manual/\"},{\"text\":\"关于 Cocos Creator\",\"link\":\"/zh/manual/getting-started/introduction/\"},{\"text\":\"获取帮助和支持\",\"link\":\"/zh/manual/getting-started/support.md\"}]},{\"text\":\"基础知识\",\"items\":[{\"text\":\"新手上路\",\"collapsed\":true,\"link\":\"/zh/manual/getting-started/index.md\",\"items\":[{\"text\":\"安装和启动\",\"link\":\"/zh/manual/getting-started/install/index.md\"},{\"text\":\"使用 Dashboard\",\"link\":\"/zh/manual/getting-started/dashboard/index.md\"},{\"text\":\"Hello World!\",\"link\":\"/zh/manual/getting-started/helloworld/index.md\"},{\"text\":\"项目结构\",\"link\":\"/zh/manual/getting-started/project-structure/index.md\"}]},{\"text\":\"编辑器界面\",\"collapsed\":true,\"link\":\"/zh/manual/editor/index.md\",\"items\":[{\"text\":\"场景编辑器\",\"link\":\"/zh/manual/editor/scene/index.md\"},{\"text\":\"层级管理器\",\"link\":\"/zh/manual/editor/hierarchy/index.md\"},{\"text\":\"资源管理器\",\"link\":\"/zh/manual/editor/assets/index.md\"},{\"text\":\"属性检查器\",\"link\":\"/zh/manual/editor/inspector/index.md\"},{\"text\":\"控制台\",\"link\":\"/zh/manual/editor/console/index.md\"},{\"text\":\"偏好设置\",\"link\":\"/zh/manual/editor/preferences/index.md\"},{\"text\":\"项目设置\",\"link\":\"/zh/manual/editor/project/index.md\"},{\"text\":\"主菜单\",\"link\":\"/zh/manual/editor/mainMenu/index.md\"},{\"text\":\"工具栏\",\"link\":\"/zh/manual/editor/toolbar/index.md\"},{\"text\":\"编辑器布局\",\"link\":\"/zh/manual/editor/editor-layout/index.md\"},{\"text\":\"预览调试\",\"link\":\"/zh/manual/editor/preview/index.md\"}]},{\"text\":\"术语\",\"link\":\"/zh/manual/glossary/index.md\"}]},{\"text\":\"示例和教程\",\"items\":[{\"text\":\"快速上手：制作第一个 2D 游戏\",\"collapsed\":true,\"link\":\"/zh/manual/getting-started/first-game-2d/index.md\",\"items\":[{\"text\":\"监听触摸事件\",\"link\":\"/zh/manual/getting-started/first-game-2d/touch.md\"}]},{\"text\":\"快速上手：制作第一个 3D 游戏\",\"collapsed\":true,\"link\":\"/zh/manual/getting-started/first-game/index.md\",\"items\":[{\"text\":\"进阶篇 - 添加阴影、光照和骨骼动画\",\"link\":\"/zh/manual/getting-started/first-game/advance.md\"}]},{\"text\":\"示例与教程\",\"link\":\"/zh/manual/cases-and-tutorials/index.md\"}]},{\"text\":\"工作流\",\"items\":[{\"text\":\"升级指南\",\"collapsed\":true,\"link\":\"/zh/manual/release-notes/index.md\",\"items\":[{\"text\":\"v3.0 升级指南\",\"link\":\"/zh/manual/release-notes/upgrade-guide-v3.0.md\"},{\"text\":\"v3.0 材质升级指南\",\"link\":\"/zh/manual/material-system/effect-2.x-to-3.0.md\"},{\"text\":\"v3.1 材质升级指南\",\"link\":\"/zh/manual/material-system/Material-upgrade-documentation-for-v3.0-to-v3.1.md\"},{\"text\":\"v3.3 动画剪辑数据升级指南\",\"link\":\"/zh/manual/animation/animation-clip-migration-3.3.x.md\"},{\"text\":\"v3.5 材质升级指南\",\"link\":\"/zh/manual/material-system/effect-upgrade-documentation-for-v3.4.2-to-v3.5.md\"},{\"text\":\"资源分包升级指南\",\"link\":\"/zh/manual/asset/subpackage-upgrade-guide.md\"},{\"text\":\"资源管理模块升级指南\",\"link\":\"/zh/manual/asset/asset-manager-upgrade-guide.md\"},{\"text\":\"v3.5 已构建工程升级指南\",\"link\":\"/zh/manual/engine/template/native-upgrade-to-v3.5.md\"},{\"text\":\"v3.6 已构建工程升级指南\",\"link\":\"/zh/manual/engine/template/native-upgrade-to-v3.6.md\"},{\"text\":\"v3.6 构建模板与 settings.json 升级指南\",\"link\":\"/zh/manual/release-notes/build-template-settings-upgrade-guide-v3.6.md\"},{\"text\":\"Cocos Creator 3.6 材质升级指南\",\"link\":\"/zh/manual/material-system/effect-upgrade-documentation-for-v3.5-to-v3.6.md\"},{\"text\":\"升级指南：粒子从 v3.5.x 升级到 v3.6.0\",\"link\":\"/zh/manual/particle-system/particle-upgrade-documentation-for-v3.5-to-v3.6.md\"}]},{\"text\":\"场景制作\",\"collapsed\":true,\"link\":\"/zh/manual/concepts/scene/index.md\",\"items\":[{\"text\":\"场景资源\",\"link\":\"/zh/manual/asset/scene.md\"},{\"text\":\"节点和组件\",\"link\":\"/zh/manual/concepts/scene/node-component.md\"},{\"text\":\"坐标系和节点变换\",\"link\":\"/zh/manual/concepts/scene/coord.md\"},{\"text\":\"节点层级和渲染顺序\",\"link\":\"/zh/manual/concepts/scene/node-tree.md\"},{\"text\":\"使用场景编辑器搭建场景\",\"link\":\"/zh/manual/concepts/scene/scene-editing.md\"},{\"text\":\"多层次细节\",\"link\":\"/zh/manual/editor/rendering/lod.md\"}]},{\"text\":\"资源系统\",\"collapsed\":true,\"link\":\"/zh/manual/asset/index.md\",\"items\":[{\"text\":\"资源工作流\",\"link\":\"/zh/manual/asset/asset-workflow.md\"},{\"text\":\"图像资源\",\"collapsed\":true,\"link\":\"/zh/manual/asset/image.md\",\"items\":[{\"text\":\"纹理贴图资源\",\"link\":\"/zh/manual/asset/texture.md\"},{\"text\":\"精灵帧资源\",\"collapsed\":true,\"link\":\"/zh/manual/asset/sprite-frame.md\",\"items\":[{\"text\":\"图像资源的自动剪裁\",\"link\":\"/zh/manual/ui-system/components/engine/trim.md\"}]},{\"text\":\"立方体贴图资源\",\"link\":\"/zh/manual/asset/texture-cube.md\"},{\"text\":\"图集资源\",\"link\":\"/zh/manual/asset/atlas.md\"},{\"text\":\"自动图集资源\",\"link\":\"/zh/manual/asset/auto-atlas.md\"},{\"text\":\"艺术数字资源\",\"link\":\"/zh/manual/asset/label-atlas.md\"}]},{\"text\":\"预制资源\",\"link\":\"/zh/manual/asset/prefab.md\"},{\"text\":\"字体资源\",\"link\":\"/zh/manual/asset/prefab.md\"},{\"text\":\"音频资源\",\"link\":\"/zh/manual/asset/audio.md\"},{\"text\":\"材质资源\",\"collapsed\":true,\"link\":\"/zh/manual/asset/material.md\",\"items\":[{\"text\":\"FBX 智能材质导入\",\"link\":\"/zh/manual/importer/materials/fbx-materials.md\"}]},{\"text\":\"模型资源\",\"collapsed\":true,\"link\":\"/zh/manual/asset/model/mesh.md\",\"items\":[{\"text\":\"从第三方工具导出模型资源\",\"link\":\"/zh/manual/asset/model/dcc-export-mesh.md\"},{\"text\":\"从 3ds Max 中导出 FBX 模型资源\",\"link\":\"/zh/manual/asset/model/max-export-fbx.md\"},{\"text\":\"从 Maya 中导出 FBX 模型资源\",\"link\":\"/zh/manual/asset/model/maya-export-fbx.md\"},{\"text\":\"glTF 模型\",\"link\":\"/zh/manual/asset/model/glTF.md\"},{\"text\":\"程序化创建网格\",\"link\":\"/zh/manual/asset/model/scripting-mesh.md\"}]},{\"text\":\"Spine 骨骼动画资源\",\"link\":\"/zh/manual/asset/spine.md\"},{\"text\":\"DragonBones 骨骼动画资源\",\"link\":\"/zh/manual/asset/dragonbones.md\"},{\"text\":\"TiledMap 瓦片图资源\",\"link\":\"/zh/manual/asset/tiledmap.md\"},{\"text\":\"JSON 资源\",\"link\":\"/zh/manual/asset/json.md\"},{\"text\":\"文本资源\",\"link\":\"/zh/manual/asset/text.md\"}]},{\"text\":\"脚本指南及事件机制\",\"collapsed\":true,\"link\":\"/zh/manual/scripting/index.md\",\"items\":[{\"text\":\"编程语言支持\",\"link\":\"/zh/manual/scripting/language-support.md\"},{\"text\":\"脚本基础\",\"collapsed\":true,\"link\":\"/zh/manual/scripting/script-basics.md\",\"items\":[{\"text\":\"创建脚本\",\"link\":\"/zh/manual/scripting/setup.md\"},{\"text\":\"配置代码编辑环境\",\"link\":\"/zh/manual/scripting/coding-setup.md\"},{\"text\":\"脚本运行环境\",\"link\":\"/zh/manual/scripting/basic.md\"},{\"text\":\"装饰器使用\",\"link\":\"/zh/manual/scripting/decorator.md\"},{\"text\":\"属性参数参考\",\"link\":\"/zh/manual/scripting/reference/attributes.md\"},{\"text\":\"生命周期回调\",\"link\":\"/zh/manual/scripting/life-cycle-callbacks.md\"},{\"text\":\"开发注意事项\",\"link\":\"/zh/manual/scripting/readonly.md\"}]},{\"text\":\"脚本使用\",\"collapsed\":true,\"link\":\"/zh/manual/scripting/usage.md\",\"items\":[{\"text\":\"访问节点和其他组件\",\"link\":\"/zh/manual/scripting/access-node-component.md\"},{\"text\":\"常用节点和组件接口\",\"link\":\"/zh/manual/scripting/basic-node-api.md\"},{\"text\":\"创建和销毁节点\",\"link\":\"/zh/manual/scripting/create-destroy.md\"},{\"text\":\"使用计时器\",\"link\":\"/zh/manual/scripting/scheduler.md\"},{\"text\":\"组件和组件执行顺序\",\"link\":\"/zh/manual/scripting/component.md\"},{\"text\":\"加载和切换场景\",\"link\":\"/zh/manual/scripting/scene-managing.md\"},{\"text\":\"获取和加载资源\",\"link\":\"/zh/manual/scripting/load-assets.md\"},{\"text\":\"tsconfig 配置\",\"link\":\"/zh/manual/scripting/tsconfig.md\"}]},{\"text\":\"脚本进阶\",\"link\":\"/zh/manual/scripting/reference-class.md\"},{\"text\":\"事件系统\",\"collapsed\":true,\"link\":\"/zh/manual/engine/event/index.md\",\"items\":[{\"text\":\"发射和监听事件\",\"link\":\"/zh/manual/engine/event/event-emit.md\"},{\"text\":\"输入事件系统\",\"link\":\"/zh/manual/engine/event/event-input.md\"},{\"text\":\"节点事件系统\",\"link\":\"/zh/manual/engine/event/event-node.md\"},{\"text\":\"事件 API\",\"link\":\"/zh/manual/engine/event/event-api.md\"}]},{\"text\":\"模块规范与示例\",\"collapsed\":true,\"link\":\"/zh/manual/scripting/modules/index.md\",\"items\":[{\"text\":\"引擎模块\",\"link\":\"/zh/manual/scripting/modules/engine.md\"},{\"text\":\"外部模块使用案例\",\"link\":\"/zh/manual/scripting/modules/example.md\"},{\"text\":\"模块规范\",\"link\":\"/zh/manual/scripting/modules/spec.md\"},{\"text\":\"导入映射\",\"link\":\"/zh/manual/scripting/modules/import-map.md\"}]},{\"text\":\"外部代码支持\",\"link\":\"/zh/manual/scripting/external-scripts.md\"}]},{\"text\":\"跨平台发布\",\"collapsed\":true,\"link\":\"/zh/manual/editor/publish/index.md\",\"items\":[{\"text\":\"发布 Android 应用\",\"collapsed\":true,\"link\":\"/zh/manual/editor/publish/android/index.md\",\"items\":[{\"text\":\"Android 构建示例\",\"link\":\"/zh/manual/editor/publish/android/build-example-android.md\"},{\"text\":\"Android 构建选项\",\"link\":\"/zh/manual/editor/publish/android/build-options-android.md\"},{\"text\":\"配置 Android 原生开发环境\",\"link\":\"/zh/manual/editor/publish/android/build-setup-evn-android.md\"}]},{\"text\":\"发布 iOS 应用\",\"collapsed\":true,\"link\":\"/zh/manual/editor/publish/ios/index.md\",\"items\":[{\"text\":\"iOS 发布示例\",\"link\":\"/zh/manual/editor/publish/ios/build-example-ios.md\"},{\"text\":\"iOS 构建选项\",\"link\":\"/zh/manual/editor/publish/ios/build-options-ios.md\"}]},{\"text\":\"发布 Windows 应用\",\"collapsed\":true,\"link\":\"/zh/manual/editor/publish/windows/index.md\",\"items\":[{\"text\":\"Windows 构建示例\",\"link\":\"/zh/manual/editor/publish/windows/build-example-windows.md\"},{\"text\":\"Windows 构建选项\",\"link\":\"/zh/manual/editor/publish/windows/build-options-windows.md\"}]},{\"text\":\"原生平台发布通用基础\",\"collapsed\":true,\"link\":\"/zh/manual/editor/publish/publish-native-index.md\",\"items\":[{\"text\":\"原生平台通用构建选项\",\"link\":\"/zh/manual/editor/publish/native-options.md\"},{\"text\":\"安装配置原生环境\",\"link\":\"/zh/manual/editor/publish/setup-native-development.md\"},{\"text\":\"原生平台 JavaScript 调试\",\"link\":\"/zh/manual/editor/publish/debug-jsb.md\"}]},{\"text\":\"发布到小游戏平台\",\"collapsed\":true,\"link\":\"/zh/manual/editor/publish/publish-mini-game.md\",\"items\":[{\"text\":\"发布到 HUAWEI AppGallery Connect\",\"link\":\"/zh/manual/editor/publish/publish-huawei-agc.md\"},{\"text\":\"发布到支付宝小游戏\",\"link\":\"/zh/manual/editor/publish/publish-alipay-mini-game.md\"},{\"text\":\"发布到淘宝小游戏\",\"link\":\"/zh/manual/editor/publish/publish-taobao-mini-game.md\"},{\"text\":\"发布到微信小游戏\",\"collapsed\":true,\"link\":\"/zh/manual/editor/publish/publish-wechatgame.md\",\"items\":[{\"text\":\"启用微信小游戏引擎插件\",\"link\":\"/zh/manual/editor/publish/wechatgame-plugin.md\"},{\"text\":\"接入微信 PC 小游戏\",\"link\":\"/zh/manual/editor/publish/publish-pc-wechatgame.md\"}]},{\"text\":\"发布到字节跳动小游戏\",\"link\":\"/zh/manual/editor/publish/publish-bytedance-mini-game.md\"},{\"text\":\"发布到华为快游戏\",\"link\":\"/zh/manual/editor/publish/publish-huawei-quick-game.md\"},{\"text\":\"发布到 OPPO 小游戏\",\"link\":\"/zh/manual/editor/publish/publish-oppo-mini-game.md\"},{\"text\":\"发布到 vivo 小游戏\",\"link\":\"/zh/manual/editor/publish/publish-vivo-mini-game.md\"},{\"text\":\"发布到小米快游戏\",\"link\":\"/zh/manual/editor/publish/publish-xiaomi-quick-game.md\"},{\"text\":\"发布到百度小游戏\",\"link\":\"/zh/manual/editor/publish/publish-baidu-mini-game.md\"},{\"text\":\"开放数据域\",\"link\":\"/zh/manual/editor/publish/build-open-data-context.md\"},{\"text\":\"小游戏分包\",\"link\":\"/zh/manual/editor/publish/subpackage.md\"}]},{\"text\":\"发布到 Facebook Instant Games 平台\",\"link\":\"/zh/manual/editor/publish/publish-fb-instant-games.md\"},{\"text\":\"发布到 Web 平台\",\"link\":\"/zh/manual/editor/publish/publish-web.md\"},{\"text\":\"通用构建选项介绍\",\"link\":\"/zh/manual/editor/publish/build-options.md\"},{\"text\":\"命令行发布项目\",\"link\":\"/zh/manual/editor/publish/publish-in-command-line.md\"},{\"text\":\"定制项目的构建模版\",\"link\":\"/zh/manual/editor/publish/custom-project-build-template.md\"},{\"text\":\"构建流程简介与常见错误处理\",\"link\":\"/zh/manual/editor/publish/build-guide.md\"}]}]}],\"search\":{\"provider\":\"local\",\"options\":{\"locales\":{\"root\":{\"translations\":{\"button\":{\"buttonText\":\"搜索文档\",\"buttonAriaLabel\":\"搜索文档\"},\"modal\":{\"noResultsText\":\"无法找到相关结果\",\"resetButtonTitle\":\"清除查询条件\",\"footer\":{\"selectText\":\"选择\",\"navigateText\":\"切换\"}}}}}}},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/CosmoLau/cocos-docs-vitepress\"}]},\"locales\":{\"root\":{\"label\":\"简体中文\",\"lang\":\"zh-CN\"},\"en\":{\"label\":\"English\",\"lang\":\"en-US\",\"link\":\"/en\"}},\"scrollOffset\":90,\"cleanUrls\":false}");</script>
    
  </body>
</html>